<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>27&nbsp; Line – 数据可视化探索(从入门到放弃)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./area.html" rel="next">
<link href="./evolution.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-485d01fc63b59abcd3ee1bf1e8e2748d.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="site_libs/d3-bundle-5.16.0/d3-bundle.min.js"></script>
<script src="site_libs/d3-lasso-0.0.5/d3-lasso.min.js"></script>
<script src="site_libs/save-svg-as-png-1.4.17/save-svg-as-png.min.js"></script>
<script src="site_libs/flatbush-4.4.0/flatbush.min.js"></script>
<link href="site_libs/ggiraphjs-0.8.10/ggiraphjs.min.css" rel="stylesheet">
<script src="site_libs/ggiraphjs-0.8.10/ggiraphjs.min.js"></script>
<script src="site_libs/girafe-binding-0.8.13/girafe.js"></script>


</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./evolution.html">Evolution</a></li><li class="breadcrumb-item"><a href="./line.html"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Line</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">数据可视化探索(从入门到放弃)</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quick_start.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">0 Quick start</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./distribution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Distribution</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./beeswarm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Beeswarm</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./histogram.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Histogram</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./boxplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Boxplot</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./density.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Density</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ridgeline.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Ridgeline</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./violin.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Violin</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./correlation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Correlation</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./scatter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Scatter</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./heatmap.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Heatmap</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./correlogram.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Correlogram</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bubble.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Bubble</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./connected-scatter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Conn-Scatter</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./density2d.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Density 2D</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./ranking.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ranking</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Bar</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./spider.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Spider</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wordcloud.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Wordcloud</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./parallel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Parallel</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lollipop.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Lollipop</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cir-bar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Cir-bar</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./table.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Table</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./part-of-a-whole.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Part of a Whole</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./group-bar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Group bar</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./treemap.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Treemap</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pie.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Pie</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./donut.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Donut</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dendrogram.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Dendrogram</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./circular.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Circular</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./waffle.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Waffle</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./evolution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Evolution</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./line.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Line</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./area.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Area</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stacked-area.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Stacked Area</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stream.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Stream</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./time.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Time</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">Summary</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#pkg" id="toc-pkg" class="nav-link active" data-scroll-target="#pkg"><span class="header-section-number">27.1</span> PKG</a></li>
  <li><a href="#what" id="toc-what" class="nav-link" data-scroll-target="#what"><span class="header-section-number">27.2</span> What</a>
  <ul class="collapse">
  <li><a href="#definition" id="toc-definition" class="nav-link" data-scroll-target="#definition"><span class="header-section-number">27.2.1</span> Definition</a></li>
  <li><a href="#what-for" id="toc-what-for" class="nav-link" data-scroll-target="#what-for"><span class="header-section-number">27.2.2</span> What for</a></li>
  <li><a href="#variation" id="toc-variation" class="nav-link" data-scroll-target="#variation"><span class="header-section-number">27.2.3</span> Variation</a></li>
  <li><a href="#注意" id="toc-注意" class="nav-link" data-scroll-target="#注意"><span class="header-section-number">27.2.4</span> 注意</a></li>
  <li><a href="#意大利面" id="toc-意大利面" class="nav-link" data-scroll-target="#意大利面"><span class="header-section-number">27.2.5</span> 意大利面</a></li>
  </ul></li>
  <li><a href="#ggplot2" id="toc-ggplot2" class="nav-link" data-scroll-target="#ggplot2"><span class="header-section-number">27.3</span> <code>ggplot2</code></a>
  <ul class="collapse">
  <li><a href="#基本" id="toc-基本" class="nav-link" data-scroll-target="#基本"><span class="header-section-number">27.3.1</span> 基本</a></li>
  <li><a href="#线外观" id="toc-线外观" class="nav-link" data-scroll-target="#线外观"><span class="header-section-number">27.3.2</span> 线外观</a></li>
  <li><a href="#对数" id="toc-对数" class="nav-link" data-scroll-target="#对数"><span class="header-section-number">27.3.3</span> 对数</a></li>
  <li><a href="#date" id="toc-date" class="nav-link" data-scroll-target="#date"><span class="header-section-number">27.3.4</span> date</a></li>
  <li><a href="#group" id="toc-group" class="nav-link" data-scroll-target="#group"><span class="header-section-number">27.3.5</span> group</a></li>
  <li><a href="#linear-model" id="toc-linear-model" class="nav-link" data-scroll-target="#linear-model"><span class="header-section-number">27.3.6</span> Linear model</a></li>
  <li><a href="#annotation" id="toc-annotation" class="nav-link" data-scroll-target="#annotation"><span class="header-section-number">27.3.7</span> Annotation</a></li>
  <li><a href="#highlight" id="toc-highlight" class="nav-link" data-scroll-target="#highlight"><span class="header-section-number">27.3.8</span> Highlight</a></li>
  <li><a href="#geom_ribbon" id="toc-geom_ribbon" class="nav-link" data-scroll-target="#geom_ribbon"><span class="header-section-number">27.3.9</span> <code>geom_ribbon()</code></a></li>
  </ul></li>
  <li><a href="#base-r" id="toc-base-r" class="nav-link" data-scroll-target="#base-r"><span class="header-section-number">27.4</span> <code>Base R</code></a>
  <ul class="collapse">
  <li><a href="#彩虹线" id="toc-彩虹线" class="nav-link" data-scroll-target="#彩虹线"><span class="header-section-number">27.4.1</span> 彩虹线</a></li>
  <li><a href="#图例" id="toc-图例" class="nav-link" data-scroll-target="#图例"><span class="header-section-number">27.4.2</span> 图例</a></li>
  <li><a href="#y-轴反向" id="toc-y-轴反向" class="nav-link" data-scroll-target="#y-轴反向"><span class="header-section-number">27.4.3</span> Y 轴反向</a></li>
  <li><a href="#拟合" id="toc-拟合" class="nav-link" data-scroll-target="#拟合"><span class="header-section-number">27.4.4</span> 拟合</a></li>
  <li><a href="#cheatsheet" id="toc-cheatsheet" class="nav-link" data-scroll-target="#cheatsheet"><span class="header-section-number">27.4.5</span> Cheatsheet</a></li>
  </ul></li>
  <li><a href="#双-y-轴" id="toc-双-y-轴" class="nav-link" data-scroll-target="#双-y-轴"><span class="header-section-number">27.5</span> 双 Y 轴</a>
  <ul class="collapse">
  <li><a href="#双图" id="toc-双图" class="nav-link" data-scroll-target="#双图"><span class="header-section-number">27.5.1</span> 双图</a></li>
  <li><a href="#ggplot2-1" id="toc-ggplot2-1" class="nav-link" data-scroll-target="#ggplot2-1"><span class="header-section-number">27.5.2</span> <code>ggplot2</code></a></li>
  <li><a href="#latticeextra" id="toc-latticeextra" class="nav-link" data-scroll-target="#latticeextra"><span class="header-section-number">27.5.3</span> <code>latticeExtra</code></a></li>
  </ul></li>
  <li><a href="#pearl" id="toc-pearl" class="nav-link" data-scroll-target="#pearl"><span class="header-section-number">27.6</span> Pearl</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./evolution.html">Evolution</a></li><li class="breadcrumb-item"><a href="./line.html"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Line</span></a></li></ol></nav>
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span id="sec-line" class="quarto-section-identifier"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Line</span></span></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="pkg" class="level2" data-number="27.1">
<h2 data-number="27.1" class="anchored" data-anchor-id="pkg"><span class="header-section-number">27.1</span> PKG</h2>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># 数据处理与可视化的核心包集合</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes) <span class="co"># 主题样式</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly) <span class="co"># 交互式图表</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork) <span class="co"># 用于组合多个ggplot2图表</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(babynames) <span class="co"># 包含美国婴儿姓名数据集</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis) <span class="co"># 提供色盲友好的配色方案</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(latticeExtra) <span class="co"># 提供额外的lattice图形功能</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gghighlight) <span class="co"># 用于高亮显示ggplot2图形中的特定数据点</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggiraph) <span class="co"># 用于创建交互式ggplot2图形</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer) <span class="co"># 提供调色板</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotrix) <span class="co"># 提供绘图功能</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="what" class="level2" data-number="27.2">
<h2 data-number="27.2" class="anchored" data-anchor-id="what"><span class="header-section-number">27.2</span> What</h2>
<section id="definition" class="level3" data-number="27.2.1">
<h3 data-number="27.2.1" class="anchored" data-anchor-id="definition"><span class="header-section-number">27.2.1</span> Definition</h3>
<p>与散点图相似，但测量点是按顺序排列的</p>
<p>以下示例展示了 2013 年 4 月至 2018 年 4 月期间 <a href="https://www.data-to-viz.com/story/TwoNumOrdered.html">比特币价格的演变情况</a>。数据来自 CoinMarketCap 网站</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 读取比特币价格数据，数据以空格分隔</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"https://raw.githubusercontent.com/holtzy/data_to_viz/master/Example_dataset/3_TwoNumOrdered.csv"</span>,</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">delim =</span> <span class="st">" "</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 转换日期格式，并绘制比特币价格随时间变化的折线图</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(date)) <span class="sc">|&gt;</span> <span class="co"># 转换日期列为Date类型</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> value)) <span class="sc">+</span> <span class="co"># 设置x轴为日期，y轴为价格</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#69b3a2"</span>) <span class="sc">+</span> <span class="co"># 绘制折线，设置颜色</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Evolution of Bitcoin price"</span>) <span class="sc">+</span> <span class="co"># 添加标题</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">"bitcoin price ($)"</span>) <span class="sc">+</span> <span class="co"># 设置y轴标签</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="co"># 应用hrbrthemes主题</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>比特币价格随时间变化的折线图</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="what-for" class="level3" data-number="27.2.2">
<h3 data-number="27.2.2" class="anchored" data-anchor-id="what-for"><span class="header-section-number">27.2.2</span> What for</h3>
<p>线形图可以用来展示一个（如上例）或多个变量的演变情况。</p>
<p>1880 年至 2015 年间美国三个婴儿名字频率的演变情况:</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 从 github 加载 babynames 数据集，并筛选出名字为 Ashley、Patricia、Helen 的女性婴儿</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>don <span class="ot">&lt;-</span> babynames <span class="sc">|&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Ashley"</span>, <span class="st">"Patricia"</span>, <span class="st">"Helen"</span>)) <span class="sc">|&gt;</span> <span class="co"># 只保留指定名字</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">"F"</span>) <span class="co"># 只保留女性</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制折线图，展示不同名字随年份的变化趋势</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>don <span class="sc">|&gt;</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> n, <span class="at">group =</span> name, <span class="at">color =</span> name)) <span class="sc">+</span> <span class="co"># x轴为年份，y轴为人数，按名字分组和着色</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="co"># 绘制折线</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_viridis</span>(<span class="at">discrete =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> <span class="co"># 使用色盲友好的配色方案</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Popularity of American names in the previous 30 years"</span>) <span class="sc">+</span> <span class="co"># 添加标题</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    hrbrthemes<span class="sc">::</span><span class="fu">theme_ipsum</span>() <span class="sc">+</span> <span class="co"># 应用 hrbrthemes 主题</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Number of babies born"</span>) <span class="co"># 设置 y 轴标签</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>1880 年至 2015 年间美国三个女性婴儿名字频率的演变</figcaption>
</figure>
</div>
</div>
</div>
<p>但是这种情况其实仅适用于<strong>分组不多</strong>的情况。</p>
</section>
<section id="variation" class="level3" data-number="27.2.3">
<h3 data-number="27.2.3" class="anchored" data-anchor-id="variation"><span class="header-section-number">27.2.3</span> Variation</h3>
<p>如果数据点的数量较少，建议用点来表示每个单独的观测值。这样可以了解观测值具体是在何时进行的：</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tail</span>(<span class="dv">10</span>) <span class="sc">|&gt;</span> <span class="co"># 取数据的最后10行</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> value)) <span class="sc">+</span> <span class="co"># 设置x轴为日期，y轴为比特币价格</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#69b3a2"</span>) <span class="sc">+</span> <span class="co"># 绘制折线，颜色为#69b3a2</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"#69b3a2"</span>, <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span> <span class="co"># 绘制散点，颜色为#69b3a2，点大小为4</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="st">"Date"</span>, <span class="co"># 设置x轴标签</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Bitcoin Price ($)"</span>, <span class="co"># 设置y轴标签</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">"Bitcoin Price Evolution in the Last 10 Days"</span> <span class="co"># 设置图表标题</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>展示比特币价格最后10天的折线与散点图</figcaption>
</figure>
</div>
</div>
</div>
<p>在散点图中，线也用于显示趋势:</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy)) <span class="sc">+</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">color =</span> <span class="st">"#69b3a2"</span>) <span class="sc">+</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>给散点图加上拟合线</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="注意" class="level3" data-number="27.2.4">
<h3 data-number="27.2.4" class="anchored" data-anchor-id="注意"><span class="header-section-number">27.2.4</span> 注意</h3>
<ul>
<li>Y是否从0开始？ Y 轴截断会夸大差距，商业上常用</li>
<li></li>
</ul>
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 左图：Y轴从0开始</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(date)) <span class="sc">|&gt;</span> <span class="co"># 转换日期格式</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tail</span>(<span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> value)) <span class="sc">+</span> <span class="co"># 设置x轴为日期，y轴为比特币价格</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#69b3a2"</span>) <span class="sc">+</span> <span class="co"># 绘制折线，颜色为#69b3a2</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"#69b3a2"</span>, <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span> <span class="co"># 绘制散点，颜色为#69b3a2，点大小为4</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Not cuting"</span>) <span class="sc">+</span> <span class="co"># 设置图表标题</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">"bitcoin price ($)"</span>) <span class="sc">+</span> <span class="co"># 设置y轴标签</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="sc">+</span> <span class="co"># 应用hrbrthemes主题</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">10000</span>) <span class="co"># 设置y轴范围从0到10000</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 右图：Y轴截断</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(date)) <span class="sc">|&gt;</span> <span class="co"># 转换日期格式</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tail</span>(<span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> value)) <span class="sc">+</span> <span class="co"># 设置x轴为日期，y轴为比特币价格</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#69b3a2"</span>) <span class="sc">+</span> <span class="co"># 绘制折线，颜色为#69b3a2</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"#69b3a2"</span>, <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span> <span class="co"># 绘制散点，颜色为#69b3a2，点大小为4</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Cuting"</span>) <span class="sc">+</span> <span class="co"># 设置图表标题</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">"bitcoin price ($)"</span>) <span class="sc">+</span> <span class="co"># 设置y轴标签</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="co"># 应用hrbrthemes主题</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>左图：Y轴从 0 开始</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-6-2.png" class="img-fluid figure-img" width="672"></p>
<figcaption>右图：Y轴截断</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<p>比较两种Y轴设置对比特币价格走势的影响。</p>
</div>
</div>
</div>
<ul>
<li>比较两个不同变量的变化趋势，不要使用双轴。（双轴会根据你应用在轴上的范围显示非常不同的结果）</li>
<li>选择合适的宽高比，极端比例会使图表难以阅读。</li>
<li>警惕意大利面条图（线条太多难以阅读）</li>
</ul>
</section>
<section id="意大利面" class="level3" data-number="27.2.5">
<h3 data-number="27.2.5" class="anchored" data-anchor-id="意大利面"><span class="header-section-number">27.2.5</span> 意大利面</h3>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 加载所需包</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># 数据处理与可视化核心包</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes) <span class="co"># 美化主题</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis) <span class="co"># 色盲友好配色</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(babynames) <span class="co"># 美国婴儿名字数据集</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 从 babynames 数据集中筛选指定的女性名字</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> babynames <span class="sc">|&gt;</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>        name <span class="sc">%in%</span> <span class="co"># 只保留以下名字</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>            <span class="fu">c</span>(</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Mary"</span>,</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Emma"</span>,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Ida"</span>,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Ashley"</span>,</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Amanda"</span>,</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Jessica"</span>,</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Patricia"</span>,</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Linda"</span>,</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Deborah"</span>,</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Dorothy"</span>,</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Betty"</span>,</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Helen"</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">"F"</span>) <span class="co"># 只保留女性</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制意大利面图（多线折线图）</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(</span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> year, <span class="co"># x 轴为年份</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> n, <span class="co"># y 轴为出生人数</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">group =</span> name, <span class="co"># 按名字分组</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> name <span class="co"># 按名字着色</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="co"># 绘制折线</span></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_viridis</span>(<span class="at">discrete =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> <span class="co"># 使用 viridis 配色</span></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"none"</span>, <span class="co"># 不显示图例</span></span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>) <span class="co"># 设置标题字体大小</span></span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"A spaghetti chart of baby names popularity"</span>) <span class="sc">+</span> <span class="co"># 添加标题</span></span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="co"># 应用 hrbrthemes 主题</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>意大利面图：展示 1880-2015 年间美国多个女性婴儿名字的流行趋势</figcaption>
</figure>
</div>
</div>
</div>
<p>通过高亮来突出重点：</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> <span class="co"># 数据集，包含婴儿名字及年份、数量等信息</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">highlight =</span> <span class="fu">ifelse</span>(name <span class="sc">==</span> <span class="st">"Amanda"</span>, <span class="st">"Amanda"</span>, <span class="st">"Other"</span>) <span class="co"># 新增 highlight 列，Amanda 为 "Amanda"，其他为 "Other"</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> year, <span class="co"># x 轴为年份</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> n, <span class="co"># y 轴为出生人数</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">group =</span> name, <span class="co"># 按名字分组</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> highlight <span class="co"># 按 highlight 分组着色</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">size =</span> highlight)) <span class="sc">+</span> <span class="co"># 绘制折线，线宽根据 highlight 分组</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#69b3a2"</span>, <span class="st">"lightgrey"</span>) <span class="co"># 手动设置颜色：Amanda 为绿色，其他为浅灰</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_size_manual</span>(</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">values =</span> <span class="fu">c</span>(<span class="fl">1.5</span>, <span class="fl">0.2</span>) <span class="co"># 手动设置线宽：Amanda 为 1.5，其它为 0.2</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span> <span class="co"># 不显示图例</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Popularity of American names in the previous 30 years"</span>) <span class="sc">+</span> <span class="co"># 添加标题</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="sc">+</span> <span class="co"># 应用 hrbrthemes 主题</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_label</span>(</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="dv">1990</span>, <span class="co"># 注释标签的 x 坐标（年份）</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="dv">55000</span>, <span class="co"># 注释标签的 y 坐标（人数）</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">"Amanda reached 3550</span><span class="sc">\n</span><span class="st">babies in 1970"</span>, <span class="co"># 注释内容，\n 换行</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> <span class="dv">4</span>, <span class="co"># 注释字体大小</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"#69b3a2"</span> <span class="co"># 注释字体颜色</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"none"</span>, <span class="co"># 不显示图例</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>) <span class="co"># 设置标题字体大小</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>高亮 Amanda 名字的流行趋势，并添加注释</figcaption>
</figure>
</div>
</div>
</div>
<p>通过分面来突出重点：</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> <span class="co"># 数据集，包含婴儿名字及年份、数量等信息</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> year, <span class="co"># x 轴为年份</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> n, <span class="co"># y 轴为出生人数</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">group =</span> name, <span class="co"># 按名字分组</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">fill =</span> name <span class="co"># 按名字填充颜色</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_area</span>() <span class="sc">+</span> <span class="co"># 绘制面积图</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_viridis</span>(<span class="at">discrete =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> <span class="co"># 使用 viridis 色盲友好配色方案，discrete = TRUE 表示离散型变量</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span> <span class="co"># 不显示图例</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Popularity of American names in the previous 30 years"</span>) <span class="sc">+</span> <span class="co"># 添加标题</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="sc">+</span> <span class="co"># 应用 hrbrthemes 主题</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"none"</span>, <span class="co"># 不显示图例</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.spacing =</span> <span class="fu">unit</span>(<span class="fl">0.1</span>, <span class="st">"lines"</span>), <span class="co"># 分面之间的间距</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>), <span class="co"># 分面标题字体大小</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>) <span class="co"># 图表标题字体大小</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>name) <span class="co"># 按名字分面，每个名字一个子图</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>1880-2015 年间美国多个女性婴儿名字的流行趋势（每个名字单独分面）</figcaption>
</figure>
</div>
</div>
</div>
<p>通过高亮+分面来突出重点：</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># tmp 数据集：复制 data，并新增 name2 列（等于 name），用于后续分组</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">name2 =</span> name)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制意大利面图</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>tmp <span class="sc">|&gt;</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> n)) <span class="sc">+</span> <span class="co"># year 为 x 轴，n 为 y 轴</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 绘制所有名字的灰色线（去掉 name，按 name2 分组）</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> tmp <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>name), <span class="co"># 去除 name 列，避免颜色映射</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">group =</span> name2), <span class="co"># 按 name2 分组</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"grey"</span>, <span class="co"># 线条颜色为灰色</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> <span class="fl">0.5</span>, <span class="co"># 线宽为 0.5</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">alpha =</span> <span class="fl">0.5</span> <span class="co"># 透明度为 0.5</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 绘制当前分面名字的高亮线</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">color =</span> name), <span class="co"># 按 name 着色（用于 facet_wrap 高亮）</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"#69b3a2"</span>, <span class="co"># 线条颜色为绿色</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> <span class="fl">1.2</span> <span class="co"># 线宽为 1.2</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_viridis</span>(<span class="at">discrete =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> <span class="co"># 使用 viridis 色盲友好配色方案</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="sc">+</span> <span class="co"># 应用 hrbrthemes 主题</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"none"</span>, <span class="co"># 不显示图例</span></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>), <span class="co"># 标题字体大小</span></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid =</span> <span class="fu">element_blank</span>() <span class="co"># 去除网格线</span></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"A spaghetti chart of baby names popularity"</span>) <span class="sc">+</span> <span class="co"># 添加标题</span></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>name) <span class="co"># 按名字分面，每个名字一个子图</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>1880-2015 年间美国多个女性婴儿名字的流行趋势，灰色为其他名字，高亮绿色为当前分面名字</figcaption>
</figure>
</div>
</div>
</div>
<p>通过交互来解决意大利面 (部分交互效果 Quarto 中没有正确加载):</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># library</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2) <span class="co"># 用于数据可视化</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggiraph) <span class="co"># 用于生成交互式 ggplot2 图形</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># 数据处理与可视化核心包</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 读取数据</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"https://raw.githubusercontent.com/holtzy/R-graph-gallery/master/DATA/dataConsumerConfidence.csv"</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">date =</span> lubridate<span class="sc">::</span><span class="fu">my</span>(Time)) <span class="sc">|&gt;</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>Time) <span class="sc">|&gt;</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(<span class="sc">!</span>date, <span class="at">names_to =</span> <span class="st">"country"</span>, <span class="at">values_to =</span> <span class="st">"value"</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">na.omit</span>() <span class="sc">|&gt;</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">country =</span> <span class="fu">as.factor</span>(country))</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制交互式折线图</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> date, <span class="co"># x 轴为日期</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> value, <span class="co"># y 轴为消费者信心指数</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> country, <span class="co"># 按国家分组着色</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>            <span class="at">tooltip =</span> country, <span class="co"># 鼠标悬停时显示国家名</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">data_id =</span> country <span class="co"># 交互高亮的分组依据</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line_interactive</span>(<span class="at">hover_nearest =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> <span class="co"># 绘制可交互折线，hover_nearest=TRUE 表示悬停高亮最近的线</span></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_classic</span>() <span class="co"># 使用经典主题</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>interactive_plot <span class="ot">&lt;-</span> <span class="fu">girafe</span>(<span class="at">ggobj =</span> plot) <span class="co"># 输出交互式图形</span></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>interactive_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="girafe html-widget html-fill-item" id="htmlwidget-90bcabe6116f9ebb0639" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-90bcabe6116f9ebb0639">{"x":{"html":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='ggiraph-svg' role='graphics-document' id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715' viewBox='0 0 504 360'>\n <defs id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_defs'>\n  <clipPath id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_c1'>\n   <rect x='0' y='0' width='504' height='360'/>\n  <\/clipPath>\n  <clipPath id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_c2'>\n   <rect x='38.16' y='5.48' width='366.76' height='322.79'/>\n  <\/clipPath>\n <\/defs>\n <g id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_rootg' class='ggiraph-svg-rootg'>\n  <g clip-path='url(#svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_c1)'>\n   <rect x='0' y='0' width='504' height='360' fill='#FFFFFF' fill-opacity='1' stroke='#FFFFFF' stroke-opacity='1' stroke-width='0.75' stroke-linejoin='round' stroke-linecap='round' class='ggiraph-svg-bg'/>\n   <rect x='0' y='0' width='504' height='360' fill='#FFFFFF' fill-opacity='1' stroke='#FFFFFF' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='round'/>\n  <\/g>\n  <g clip-path='url(#svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_c2)'>\n   <rect x='38.16' y='5.48' width='366.76' height='322.79' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e1' points='54.83,122.70 61.49,123.84 68.15,126.29 74.59,126.72 81.24,125.31 87.68,125.35 94.34,127.13 100.99,127.87 107.00,130.01 113.66,130.42 120.10,130.79 126.76,132.22 133.20,134.82 139.85,136.30 146.51,139.38 152.95,142.82 159.60,143.30 166.04,144.55 172.70,146.86 179.35,150.77 185.58,159.85 192.24,169.23 198.68,166.54 205.33,162.62 211.77,164.12 218.43,162.47 225.08,147.30 231.52,128.21 238.18,114.88 244.62,108.52 251.28,107.79 257.93,105.09 263.94,99.83 270.60,96.09 277.04,100.42 283.69,107.97 290.14,113.28 296.79,117.65 303.45,118.94 309.89,119.64 316.54,120.57 322.98,122.75 329.64,126.39 336.29,131.28 342.30,138.14 348.96,146.22 355.40,156.47 362.06,165.93 368.50,172.57 375.15,175.82 381.81,174.92 388.25,173.21' fill='none' stroke='#F8766D' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='Australia' data-id='Australia' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e2' points='54.83,67.31 61.49,70.49 68.15,69.34 74.59,62.32 81.24,50.36 87.68,39.54 94.34,30.98 100.99,25.10 107.00,25.00 113.66,25.51 120.10,27.17 126.76,26.96 133.20,30.56 139.85,34.22 146.51,32.20 152.95,27.72 159.60,22.59 166.04,20.15 172.70,28.22 179.35,46.87 185.58,61.79 192.24,80.75 198.68,94.39 205.33,99.87 211.77,91.63 218.43,79.41 225.08,62.70 231.52,48.88 238.18,39.75 244.62,36.64 251.28,32.58 257.93,29.38 263.94,36.58 270.60,43.76 277.04,48.65 283.69,55.03 290.14,65.66 296.79,68.55 303.45,63.05 309.89,59.14 316.54,55.79 322.98,52.19 329.64,56.24 336.29,85.99 342.30,153.05 348.96,240.23 355.40,288.01 362.06,301.95 368.50,304.11 375.15,303.77 381.81,302.51' fill='none' stroke='#D39200' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='China' data-id='China' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e3' points='54.83,139.29 61.49,144.61 68.15,151.72 74.59,155.72 81.24,161.63 87.68,164.53 94.34,156.48 100.99,146.79 107.00,139.57 113.66,134.85 120.10,129.14 126.76,124.33 133.20,120.10 139.85,117.99 146.51,115.96 152.95,115.95 159.60,118.58 166.04,125.63 172.70,131.27 179.35,141.32 185.58,161.43 192.24,180.34 198.68,177.89 205.33,163.42 211.77,152.62 218.43,149.02 225.08,151.15 231.52,159.19 238.18,165.51 244.62,161.91 251.28,160.10 257.93,155.06 263.94,142.13 270.60,126.87 277.04,108.11 283.69,94.45 290.14,94.95 296.79,101.01 303.45,104.21 309.89,111.00 316.54,118.12 322.98,126.58 329.64,136.98 336.29,153.86 342.30,179.56 348.96,193.11 355.40,198.94 362.06,203.00 368.50,203.85 375.15,202.64 381.81,205.34 388.25,206.21' fill='none' stroke='#93AA00' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='France' data-id='France' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e4' points='54.83,93.72 61.49,94.10 68.15,94.32 74.59,95.12 81.24,95.86 87.68,96.37 94.34,96.13 100.99,95.91 107.00,95.91 113.66,97.22 120.10,100.13 126.76,104.08 133.20,107.34 139.85,109.39 146.51,109.40 152.95,109.22 159.60,107.04 166.04,106.91 172.70,109.02 179.35,117.47 185.58,135.22 192.24,152.60 198.68,154.69 205.33,145.91 211.77,136.94 218.43,130.56 225.08,129.32 231.52,133.05 238.18,137.91 244.62,141.22 251.28,143.35 257.93,139.76 263.94,132.91 270.60,125.57 277.04,113.75 283.69,103.35 290.14,100.29 296.79,100.55 303.45,100.49 309.89,104.59 316.54,111.52 322.98,117.72 329.64,122.74 336.29,133.67 342.30,152.05 348.96,167.18 355.40,176.41 362.06,185.27 368.50,195.70 375.15,204.00 381.81,212.89 388.25,218.53' fill='none' stroke='#00BA38' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='Germany' data-id='Germany' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e5' points='54.83,98.46 61.49,96.83 68.15,94.42 74.59,93.72 81.24,95.81 87.68,99.28 94.34,102.90 100.99,106.74 107.00,109.72 113.66,112.25 120.10,114.98 126.76,117.40 133.20,117.51 139.85,119.86 146.51,120.84 152.95,120.38 159.60,119.23 166.04,115.86 172.70,117.56 179.35,130.40 185.58,151.08 192.24,161.09 198.68,158.06 205.33,143.95 211.77,135.11 218.43,130.23 225.08,129.71 231.52,135.88 238.18,139.48 244.62,132.77 251.28,124.63 257.93,116.30 263.94,107.16 270.60,93.80 277.04,76.71 283.69,63.82 290.14,60.06 296.79,62.78 303.45,64.88 309.89,67.33 316.54,73.54 322.98,83.37 329.64,101.59 336.29,126.26 342.30,156.18 348.96,171.53 355.40,179.28 362.06,186.71 368.50,193.68 375.15,195.12 381.81,197.43 388.25,199.52' fill='none' stroke='#00C19F' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='Italy' data-id='Italy' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e6' points='54.83,117.91 61.49,118.71 68.15,120.26 74.59,122.66 81.24,125.37 87.68,127.90 94.34,130.78 100.99,133.63 107.00,136.54 113.66,139.15 120.10,143.16 126.76,148.54 133.20,153.81 139.85,158.62 146.51,162.16 152.95,160.20 159.60,153.81 166.04,149.46 172.70,152.53 179.35,168.66 185.58,198.13 192.24,224.75 198.68,229.79 205.33,220.62 211.77,209.10 218.43,199.27 225.08,190.91 231.52,187.56 238.18,188.90 244.62,192.31 251.28,191.47 257.93,182.18 263.94,172.42 270.60,167.65 277.04,164.73 283.69,160.30 290.14,157.42 296.79,155.85 303.45,153.76 309.89,151.74 316.54,151.78 322.98,155.05 329.64,162.43 336.29,171.31 342.30,179.14 348.96,182.61 355.40,184.52 362.06,189.02 368.50,193.02 375.15,193.94 381.81,197.32 388.25,201.86' fill='none' stroke='#00B9E3' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='Japan' data-id='Japan' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e7' points='54.83,121.87 61.49,128.26 68.15,131.78 74.59,135.22 81.24,138.64 87.68,138.58 94.34,135.81 100.99,131.77 107.00,129.08 113.66,128.91 120.10,133.13 126.76,138.12 133.20,142.79 139.85,144.54 146.51,139.57 152.95,132.24 159.60,125.64 166.04,123.62 172.70,130.13 179.35,152.63 185.58,183.99 192.24,203.07 198.68,202.20 205.33,192.48 211.77,182.88 218.43,176.55 225.08,172.79 231.52,160.92 238.18,151.66 244.62,150.47 251.28,146.52 257.93,139.76 263.94,131.11 270.60,122.30 277.04,114.30 283.69,110.61 290.14,114.98 296.79,118.04 303.45,116.61 309.89,112.95 316.54,111.90 322.98,114.65 329.64,116.87 336.29,118.46 342.30,119.32 348.96,122.06 355.40,130.80 362.06,146.46 368.50,161.99 375.15,167.06 381.81,166.76 388.25,167.33' fill='none' stroke='#619CFF' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='South.Korea' data-id='South.Korea' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e8' points='54.83,105.17 61.49,106.98 68.15,111.12 74.59,115.60 81.24,121.45 87.68,128.29 94.34,134.69 100.99,137.59 107.00,137.82 113.66,134.33 120.10,129.12 126.76,127.28 133.20,126.35 139.85,130.60 146.51,131.57 152.95,129.34 159.60,122.46 166.04,114.76 172.70,112.01 179.35,119.95 185.58,143.62 192.24,177.79 198.68,194.54 205.33,191.46 211.77,180.54 218.43,175.92 225.08,179.85 231.52,187.31 238.18,189.46 244.62,180.37 251.28,167.35 257.93,143.73 263.94,114.91 270.60,92.21 277.04,74.89 283.69,67.10 290.14,68.33 296.79,79.72 303.45,98.64 309.89,114.31 316.54,121.58 322.98,132.18 329.64,154.68 336.29,188.15 342.30,222.38 348.96,251.19 355.40,268.04 362.06,276.89 368.50,283.90 375.15,295.64 381.81,307.86 388.25,313.59' fill='none' stroke='#DB72FB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='UK' data-id='UK' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e9' points='54.83,98.11 61.49,97.85 68.15,96.00 74.59,96.39 81.24,98.83 87.68,102.62 94.34,107.16 100.99,105.96 107.00,101.11 113.66,97.55 120.10,95.60 126.76,97.69 133.20,102.84 139.85,109.43 146.51,109.43 152.95,104.92 159.60,98.94 166.04,93.88 172.70,93.91 179.35,103.43 185.58,125.62 192.24,149.75 198.68,160.87 205.33,161.98 211.77,161.59 218.43,157.11 225.08,150.16 231.52,146.85 238.18,147.81 244.62,147.74 251.28,147.61 257.93,144.50 263.94,136.36 270.60,130.93 277.04,132.23 283.69,136.90 290.14,147.31 296.79,159.96 303.45,166.61 309.89,170.76 316.54,174.37 322.98,176.62 329.64,181.84 336.29,188.68 342.30,193.97 348.96,197.69 355.40,206.81 362.06,215.99 368.50,216.69 375.15,210.51 381.81,204.45 388.25,199.12' fill='none' stroke='#FF61C3' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='USA' data-id='USA' nearest='true'/>\n  <\/g>\n  <g clip-path='url(#svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_c1)'>\n   <polyline points='38.16,328.27 38.16,5.48' fill='none' stroke='#000000' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <text x='23.44' y='241.7' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>95<\/text>\n   <text x='18.54' y='132.14' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>100<\/text>\n   <text x='18.54' y='22.59' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>105<\/text>\n   <polyline points='35.42,238.54 38.16,238.54' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='35.42,128.99 38.16,128.99' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='35.42,19.44 38.16,19.44' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='38.16,328.27 404.92,328.27' fill='none' stroke='#000000' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='94.34,331.01 94.34,328.27' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='172.70,331.01 172.70,328.27' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='251.28,331.01 251.28,328.27' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='329.64,331.01 329.64,328.27' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <text x='84.55' y='339.5' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2019<\/text>\n   <text x='162.91' y='339.5' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2020<\/text>\n   <text x='241.48' y='339.5' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2021<\/text>\n   <text x='319.85' y='339.5' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2022<\/text>\n   <text x='210.83' y='352.09' font-size='8.25pt' font-family='Helvetica'>date<\/text>\n   <text transform='translate(13.37,180.02) rotate(-90.00)' font-size='8.25pt' font-family='Helvetica'>value<\/text>\n   <rect x='415.88' y='75.73' width='82.64' height='182.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <text x='421.36' y='90.32' font-size='8.25pt' font-family='Helvetica'>country<\/text>\n   <rect x='421.36' y='97.01' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e10' x1='423.09' y1='105.65' x2='436.91' y2='105.65' stroke='#F8766D' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='114.29' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e11' x1='423.09' y1='122.93' x2='436.91' y2='122.93' stroke='#D39200' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='131.57' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e12' x1='423.09' y1='140.21' x2='436.91' y2='140.21' stroke='#93AA00' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='148.85' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e13' x1='423.09' y1='157.49' x2='436.91' y2='157.49' stroke='#00BA38' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='166.13' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e14' x1='423.09' y1='174.77' x2='436.91' y2='174.77' stroke='#00C19F' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='183.41' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e15' x1='423.09' y1='192.05' x2='436.91' y2='192.05' stroke='#00B9E3' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='200.69' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e16' x1='423.09' y1='209.33' x2='436.91' y2='209.33' stroke='#619CFF' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='217.97' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e17' x1='423.09' y1='226.61' x2='436.91' y2='226.61' stroke='#DB72FB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='235.25' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e18' x1='423.09' y1='243.89' x2='436.91' y2='243.89' stroke='#FF61C3' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <text x='444.12' y='108.81' font-size='6.6pt' font-family='Helvetica'>Australia<\/text>\n   <text x='444.12' y='126.09' font-size='6.6pt' font-family='Helvetica'>China<\/text>\n   <text x='444.12' y='143.37' font-size='6.6pt' font-family='Helvetica'>France<\/text>\n   <text x='444.12' y='160.65' font-size='6.6pt' font-family='Helvetica'>Germany<\/text>\n   <text x='444.12' y='177.93' font-size='6.6pt' font-family='Helvetica'>Italy<\/text>\n   <text x='444.12' y='195.21' font-size='6.6pt' font-family='Helvetica'>Japan<\/text>\n   <text x='444.12' y='212.49' font-size='6.6pt' font-family='Helvetica'>South.Korea<\/text>\n   <text x='444.12' y='229.77' font-size='6.6pt' font-family='Helvetica'>UK<\/text>\n   <text x='444.12' y='247.05' font-size='6.6pt' font-family='Helvetica'>USA<\/text>\n  <\/g>\n <\/g>\n<\/svg>","js":null,"uid":"svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715","ratio":1.4,"settings":{"tooltip":{"css":".tooltip_SVGID_ { padding:5px;background:black;color:white;border-radius:2px;text-align:left; ; position:absolute;pointer-events:none;z-index:999;}","placement":"doc","opacity":0.9,"offx":10,"offy":10,"use_cursor_pos":true,"use_fill":false,"use_stroke":false,"delay_over":200,"delay_out":500},"hover":{"css":".hover_data_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\ntext.hover_data_SVGID_ { stroke:none;fill:orange; }\ncircle.hover_data_SVGID_ { fill:orange;stroke:black; }\nline.hover_data_SVGID_, polyline.hover_data_SVGID_ { fill:none;stroke:orange; }\nrect.hover_data_SVGID_, polygon.hover_data_SVGID_, path.hover_data_SVGID_ { fill:orange;stroke:none; }\nimage.hover_data_SVGID_ { stroke:orange; }","reactive":true,"nearest_distance":null},"hover_inv":{"css":""},"hover_key":{"css":".hover_key_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\ntext.hover_key_SVGID_ { stroke:none;fill:orange; }\ncircle.hover_key_SVGID_ { fill:orange;stroke:black; }\nline.hover_key_SVGID_, polyline.hover_key_SVGID_ { fill:none;stroke:orange; }\nrect.hover_key_SVGID_, polygon.hover_key_SVGID_, path.hover_key_SVGID_ { fill:orange;stroke:none; }\nimage.hover_key_SVGID_ { stroke:orange; }","reactive":true},"hover_theme":{"css":".hover_theme_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\ntext.hover_theme_SVGID_ { stroke:none;fill:orange; }\ncircle.hover_theme_SVGID_ { fill:orange;stroke:black; }\nline.hover_theme_SVGID_, polyline.hover_theme_SVGID_ { fill:none;stroke:orange; }\nrect.hover_theme_SVGID_, polygon.hover_theme_SVGID_, path.hover_theme_SVGID_ { fill:orange;stroke:none; }\nimage.hover_theme_SVGID_ { stroke:orange; }","reactive":true},"select":{"css":".select_data_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_data_SVGID_ { stroke:none;fill:red; }\ncircle.select_data_SVGID_ { fill:red;stroke:black; }\nline.select_data_SVGID_, polyline.select_data_SVGID_ { fill:none;stroke:red; }\nrect.select_data_SVGID_, polygon.select_data_SVGID_, path.select_data_SVGID_ { fill:red;stroke:none; }\nimage.select_data_SVGID_ { stroke:red; }","type":"multiple","only_shiny":true,"selected":[]},"select_inv":{"css":""},"select_key":{"css":".select_key_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_key_SVGID_ { stroke:none;fill:red; }\ncircle.select_key_SVGID_ { fill:red;stroke:black; }\nline.select_key_SVGID_, polyline.select_key_SVGID_ { fill:none;stroke:red; }\nrect.select_key_SVGID_, polygon.select_key_SVGID_, path.select_key_SVGID_ { fill:red;stroke:none; }\nimage.select_key_SVGID_ { stroke:red; }","type":"single","only_shiny":true,"selected":[]},"select_theme":{"css":".select_theme_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_theme_SVGID_ { stroke:none;fill:red; }\ncircle.select_theme_SVGID_ { fill:red;stroke:black; }\nline.select_theme_SVGID_, polyline.select_theme_SVGID_ { fill:none;stroke:red; }\nrect.select_theme_SVGID_, polygon.select_theme_SVGID_, path.select_theme_SVGID_ { fill:red;stroke:none; }\nimage.select_theme_SVGID_ { stroke:red; }","type":"single","only_shiny":true,"selected":[]},"zoom":{"min":1,"max":1,"duration":300},"toolbar":{"position":"topright","pngname":"diagram","tooltips":null,"fixed":false,"hidden":[],"delay_over":200,"delay_out":500},"sizing":{"rescale":true,"width":1}}},"evals":[],"jsHooks":[]}</script>
<p>交互式意大利面图：展示多个国家消费者信心指数随时间的变化（可悬停高亮）</p>
</div>
</div>
<p>定制 CSS：</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>interactive_plot2 <span class="ot">&lt;-</span> <span class="fu">girafe_options</span>(</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    interactive_plot,</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 设置鼠标悬停时的样式：填充色为浅黄色，描边为黑色，鼠标为指针</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_hover</span>(<span class="at">css =</span> <span class="st">"fill:#ffe7a6;stroke:black;cursor:pointer;"</span>),</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 设置选中时的样式：单选，填充色为红色，描边为黑色</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_selection</span>(<span class="at">type =</span> <span class="st">"single"</span>, <span class="at">css =</span> <span class="st">"fill:red;stroke:black;"</span>),</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_toolbar</span>(<span class="at">saveaspng =</span> <span class="cn">FALSE</span>) <span class="co"># 工具栏设置：禁用“保存为 PNG”按钮</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>interactive_plot2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="girafe html-widget html-fill-item" id="htmlwidget-b0d4e6a506ac1163f831" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-b0d4e6a506ac1163f831">{"x":{"html":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='ggiraph-svg' role='graphics-document' id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715' viewBox='0 0 504 360'>\n <defs id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_defs'>\n  <clipPath id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_c1'>\n   <rect x='0' y='0' width='504' height='360'/>\n  <\/clipPath>\n  <clipPath id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_c2'>\n   <rect x='38.16' y='5.48' width='366.76' height='322.79'/>\n  <\/clipPath>\n <\/defs>\n <g id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_rootg' class='ggiraph-svg-rootg'>\n  <g clip-path='url(#svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_c1)'>\n   <rect x='0' y='0' width='504' height='360' fill='#FFFFFF' fill-opacity='1' stroke='#FFFFFF' stroke-opacity='1' stroke-width='0.75' stroke-linejoin='round' stroke-linecap='round' class='ggiraph-svg-bg'/>\n   <rect x='0' y='0' width='504' height='360' fill='#FFFFFF' fill-opacity='1' stroke='#FFFFFF' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='round'/>\n  <\/g>\n  <g clip-path='url(#svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_c2)'>\n   <rect x='38.16' y='5.48' width='366.76' height='322.79' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e1' points='54.83,122.70 61.49,123.84 68.15,126.29 74.59,126.72 81.24,125.31 87.68,125.35 94.34,127.13 100.99,127.87 107.00,130.01 113.66,130.42 120.10,130.79 126.76,132.22 133.20,134.82 139.85,136.30 146.51,139.38 152.95,142.82 159.60,143.30 166.04,144.55 172.70,146.86 179.35,150.77 185.58,159.85 192.24,169.23 198.68,166.54 205.33,162.62 211.77,164.12 218.43,162.47 225.08,147.30 231.52,128.21 238.18,114.88 244.62,108.52 251.28,107.79 257.93,105.09 263.94,99.83 270.60,96.09 277.04,100.42 283.69,107.97 290.14,113.28 296.79,117.65 303.45,118.94 309.89,119.64 316.54,120.57 322.98,122.75 329.64,126.39 336.29,131.28 342.30,138.14 348.96,146.22 355.40,156.47 362.06,165.93 368.50,172.57 375.15,175.82 381.81,174.92 388.25,173.21' fill='none' stroke='#F8766D' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='Australia' data-id='Australia' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e2' points='54.83,67.31 61.49,70.49 68.15,69.34 74.59,62.32 81.24,50.36 87.68,39.54 94.34,30.98 100.99,25.10 107.00,25.00 113.66,25.51 120.10,27.17 126.76,26.96 133.20,30.56 139.85,34.22 146.51,32.20 152.95,27.72 159.60,22.59 166.04,20.15 172.70,28.22 179.35,46.87 185.58,61.79 192.24,80.75 198.68,94.39 205.33,99.87 211.77,91.63 218.43,79.41 225.08,62.70 231.52,48.88 238.18,39.75 244.62,36.64 251.28,32.58 257.93,29.38 263.94,36.58 270.60,43.76 277.04,48.65 283.69,55.03 290.14,65.66 296.79,68.55 303.45,63.05 309.89,59.14 316.54,55.79 322.98,52.19 329.64,56.24 336.29,85.99 342.30,153.05 348.96,240.23 355.40,288.01 362.06,301.95 368.50,304.11 375.15,303.77 381.81,302.51' fill='none' stroke='#D39200' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='China' data-id='China' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e3' points='54.83,139.29 61.49,144.61 68.15,151.72 74.59,155.72 81.24,161.63 87.68,164.53 94.34,156.48 100.99,146.79 107.00,139.57 113.66,134.85 120.10,129.14 126.76,124.33 133.20,120.10 139.85,117.99 146.51,115.96 152.95,115.95 159.60,118.58 166.04,125.63 172.70,131.27 179.35,141.32 185.58,161.43 192.24,180.34 198.68,177.89 205.33,163.42 211.77,152.62 218.43,149.02 225.08,151.15 231.52,159.19 238.18,165.51 244.62,161.91 251.28,160.10 257.93,155.06 263.94,142.13 270.60,126.87 277.04,108.11 283.69,94.45 290.14,94.95 296.79,101.01 303.45,104.21 309.89,111.00 316.54,118.12 322.98,126.58 329.64,136.98 336.29,153.86 342.30,179.56 348.96,193.11 355.40,198.94 362.06,203.00 368.50,203.85 375.15,202.64 381.81,205.34 388.25,206.21' fill='none' stroke='#93AA00' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='France' data-id='France' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e4' points='54.83,93.72 61.49,94.10 68.15,94.32 74.59,95.12 81.24,95.86 87.68,96.37 94.34,96.13 100.99,95.91 107.00,95.91 113.66,97.22 120.10,100.13 126.76,104.08 133.20,107.34 139.85,109.39 146.51,109.40 152.95,109.22 159.60,107.04 166.04,106.91 172.70,109.02 179.35,117.47 185.58,135.22 192.24,152.60 198.68,154.69 205.33,145.91 211.77,136.94 218.43,130.56 225.08,129.32 231.52,133.05 238.18,137.91 244.62,141.22 251.28,143.35 257.93,139.76 263.94,132.91 270.60,125.57 277.04,113.75 283.69,103.35 290.14,100.29 296.79,100.55 303.45,100.49 309.89,104.59 316.54,111.52 322.98,117.72 329.64,122.74 336.29,133.67 342.30,152.05 348.96,167.18 355.40,176.41 362.06,185.27 368.50,195.70 375.15,204.00 381.81,212.89 388.25,218.53' fill='none' stroke='#00BA38' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='Germany' data-id='Germany' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e5' points='54.83,98.46 61.49,96.83 68.15,94.42 74.59,93.72 81.24,95.81 87.68,99.28 94.34,102.90 100.99,106.74 107.00,109.72 113.66,112.25 120.10,114.98 126.76,117.40 133.20,117.51 139.85,119.86 146.51,120.84 152.95,120.38 159.60,119.23 166.04,115.86 172.70,117.56 179.35,130.40 185.58,151.08 192.24,161.09 198.68,158.06 205.33,143.95 211.77,135.11 218.43,130.23 225.08,129.71 231.52,135.88 238.18,139.48 244.62,132.77 251.28,124.63 257.93,116.30 263.94,107.16 270.60,93.80 277.04,76.71 283.69,63.82 290.14,60.06 296.79,62.78 303.45,64.88 309.89,67.33 316.54,73.54 322.98,83.37 329.64,101.59 336.29,126.26 342.30,156.18 348.96,171.53 355.40,179.28 362.06,186.71 368.50,193.68 375.15,195.12 381.81,197.43 388.25,199.52' fill='none' stroke='#00C19F' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='Italy' data-id='Italy' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e6' points='54.83,117.91 61.49,118.71 68.15,120.26 74.59,122.66 81.24,125.37 87.68,127.90 94.34,130.78 100.99,133.63 107.00,136.54 113.66,139.15 120.10,143.16 126.76,148.54 133.20,153.81 139.85,158.62 146.51,162.16 152.95,160.20 159.60,153.81 166.04,149.46 172.70,152.53 179.35,168.66 185.58,198.13 192.24,224.75 198.68,229.79 205.33,220.62 211.77,209.10 218.43,199.27 225.08,190.91 231.52,187.56 238.18,188.90 244.62,192.31 251.28,191.47 257.93,182.18 263.94,172.42 270.60,167.65 277.04,164.73 283.69,160.30 290.14,157.42 296.79,155.85 303.45,153.76 309.89,151.74 316.54,151.78 322.98,155.05 329.64,162.43 336.29,171.31 342.30,179.14 348.96,182.61 355.40,184.52 362.06,189.02 368.50,193.02 375.15,193.94 381.81,197.32 388.25,201.86' fill='none' stroke='#00B9E3' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='Japan' data-id='Japan' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e7' points='54.83,121.87 61.49,128.26 68.15,131.78 74.59,135.22 81.24,138.64 87.68,138.58 94.34,135.81 100.99,131.77 107.00,129.08 113.66,128.91 120.10,133.13 126.76,138.12 133.20,142.79 139.85,144.54 146.51,139.57 152.95,132.24 159.60,125.64 166.04,123.62 172.70,130.13 179.35,152.63 185.58,183.99 192.24,203.07 198.68,202.20 205.33,192.48 211.77,182.88 218.43,176.55 225.08,172.79 231.52,160.92 238.18,151.66 244.62,150.47 251.28,146.52 257.93,139.76 263.94,131.11 270.60,122.30 277.04,114.30 283.69,110.61 290.14,114.98 296.79,118.04 303.45,116.61 309.89,112.95 316.54,111.90 322.98,114.65 329.64,116.87 336.29,118.46 342.30,119.32 348.96,122.06 355.40,130.80 362.06,146.46 368.50,161.99 375.15,167.06 381.81,166.76 388.25,167.33' fill='none' stroke='#619CFF' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='South.Korea' data-id='South.Korea' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e8' points='54.83,105.17 61.49,106.98 68.15,111.12 74.59,115.60 81.24,121.45 87.68,128.29 94.34,134.69 100.99,137.59 107.00,137.82 113.66,134.33 120.10,129.12 126.76,127.28 133.20,126.35 139.85,130.60 146.51,131.57 152.95,129.34 159.60,122.46 166.04,114.76 172.70,112.01 179.35,119.95 185.58,143.62 192.24,177.79 198.68,194.54 205.33,191.46 211.77,180.54 218.43,175.92 225.08,179.85 231.52,187.31 238.18,189.46 244.62,180.37 251.28,167.35 257.93,143.73 263.94,114.91 270.60,92.21 277.04,74.89 283.69,67.10 290.14,68.33 296.79,79.72 303.45,98.64 309.89,114.31 316.54,121.58 322.98,132.18 329.64,154.68 336.29,188.15 342.30,222.38 348.96,251.19 355.40,268.04 362.06,276.89 368.50,283.90 375.15,295.64 381.81,307.86 388.25,313.59' fill='none' stroke='#DB72FB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='UK' data-id='UK' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e9' points='54.83,98.11 61.49,97.85 68.15,96.00 74.59,96.39 81.24,98.83 87.68,102.62 94.34,107.16 100.99,105.96 107.00,101.11 113.66,97.55 120.10,95.60 126.76,97.69 133.20,102.84 139.85,109.43 146.51,109.43 152.95,104.92 159.60,98.94 166.04,93.88 172.70,93.91 179.35,103.43 185.58,125.62 192.24,149.75 198.68,160.87 205.33,161.98 211.77,161.59 218.43,157.11 225.08,150.16 231.52,146.85 238.18,147.81 244.62,147.74 251.28,147.61 257.93,144.50 263.94,136.36 270.60,130.93 277.04,132.23 283.69,136.90 290.14,147.31 296.79,159.96 303.45,166.61 309.89,170.76 316.54,174.37 322.98,176.62 329.64,181.84 336.29,188.68 342.30,193.97 348.96,197.69 355.40,206.81 362.06,215.99 368.50,216.69 375.15,210.51 381.81,204.45 388.25,199.12' fill='none' stroke='#FF61C3' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='USA' data-id='USA' nearest='true'/>\n  <\/g>\n  <g clip-path='url(#svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_c1)'>\n   <polyline points='38.16,328.27 38.16,5.48' fill='none' stroke='#000000' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <text x='23.44' y='241.7' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>95<\/text>\n   <text x='18.54' y='132.14' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>100<\/text>\n   <text x='18.54' y='22.59' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>105<\/text>\n   <polyline points='35.42,238.54 38.16,238.54' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='35.42,128.99 38.16,128.99' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='35.42,19.44 38.16,19.44' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='38.16,328.27 404.92,328.27' fill='none' stroke='#000000' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='94.34,331.01 94.34,328.27' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='172.70,331.01 172.70,328.27' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='251.28,331.01 251.28,328.27' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='329.64,331.01 329.64,328.27' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <text x='84.55' y='339.5' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2019<\/text>\n   <text x='162.91' y='339.5' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2020<\/text>\n   <text x='241.48' y='339.5' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2021<\/text>\n   <text x='319.85' y='339.5' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2022<\/text>\n   <text x='210.83' y='352.09' font-size='8.25pt' font-family='Helvetica'>date<\/text>\n   <text transform='translate(13.37,180.02) rotate(-90.00)' font-size='8.25pt' font-family='Helvetica'>value<\/text>\n   <rect x='415.88' y='75.73' width='82.64' height='182.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <text x='421.36' y='90.32' font-size='8.25pt' font-family='Helvetica'>country<\/text>\n   <rect x='421.36' y='97.01' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e10' x1='423.09' y1='105.65' x2='436.91' y2='105.65' stroke='#F8766D' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='114.29' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e11' x1='423.09' y1='122.93' x2='436.91' y2='122.93' stroke='#D39200' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='131.57' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e12' x1='423.09' y1='140.21' x2='436.91' y2='140.21' stroke='#93AA00' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='148.85' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e13' x1='423.09' y1='157.49' x2='436.91' y2='157.49' stroke='#00BA38' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='166.13' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e14' x1='423.09' y1='174.77' x2='436.91' y2='174.77' stroke='#00C19F' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='183.41' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e15' x1='423.09' y1='192.05' x2='436.91' y2='192.05' stroke='#00B9E3' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='200.69' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e16' x1='423.09' y1='209.33' x2='436.91' y2='209.33' stroke='#619CFF' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='217.97' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e17' x1='423.09' y1='226.61' x2='436.91' y2='226.61' stroke='#DB72FB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='235.25' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e18' x1='423.09' y1='243.89' x2='436.91' y2='243.89' stroke='#FF61C3' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <text x='444.12' y='108.81' font-size='6.6pt' font-family='Helvetica'>Australia<\/text>\n   <text x='444.12' y='126.09' font-size='6.6pt' font-family='Helvetica'>China<\/text>\n   <text x='444.12' y='143.37' font-size='6.6pt' font-family='Helvetica'>France<\/text>\n   <text x='444.12' y='160.65' font-size='6.6pt' font-family='Helvetica'>Germany<\/text>\n   <text x='444.12' y='177.93' font-size='6.6pt' font-family='Helvetica'>Italy<\/text>\n   <text x='444.12' y='195.21' font-size='6.6pt' font-family='Helvetica'>Japan<\/text>\n   <text x='444.12' y='212.49' font-size='6.6pt' font-family='Helvetica'>South.Korea<\/text>\n   <text x='444.12' y='229.77' font-size='6.6pt' font-family='Helvetica'>UK<\/text>\n   <text x='444.12' y='247.05' font-size='6.6pt' font-family='Helvetica'>USA<\/text>\n  <\/g>\n <\/g>\n<\/svg>","js":null,"uid":"svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715","ratio":1.4,"settings":{"tooltip":{"css":".tooltip_SVGID_ { padding:5px;background:black;color:white;border-radius:2px;text-align:left; ; position:absolute;pointer-events:none;z-index:999;}","placement":"doc","opacity":0.9,"offx":10,"offy":10,"use_cursor_pos":true,"use_fill":false,"use_stroke":false,"delay_over":200,"delay_out":500},"hover":{"css":".hover_data_SVGID_ { fill:#ffe7a6;stroke:black;cursor:pointer; }","reactive":false,"nearest_distance":null},"hover_inv":{"css":""},"hover_key":{"css":".hover_key_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\ntext.hover_key_SVGID_ { stroke:none;fill:orange; }\ncircle.hover_key_SVGID_ { fill:orange;stroke:black; }\nline.hover_key_SVGID_, polyline.hover_key_SVGID_ { fill:none;stroke:orange; }\nrect.hover_key_SVGID_, polygon.hover_key_SVGID_, path.hover_key_SVGID_ { fill:orange;stroke:none; }\nimage.hover_key_SVGID_ { stroke:orange; }","reactive":true},"hover_theme":{"css":".hover_theme_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\ntext.hover_theme_SVGID_ { stroke:none;fill:orange; }\ncircle.hover_theme_SVGID_ { fill:orange;stroke:black; }\nline.hover_theme_SVGID_, polyline.hover_theme_SVGID_ { fill:none;stroke:orange; }\nrect.hover_theme_SVGID_, polygon.hover_theme_SVGID_, path.hover_theme_SVGID_ { fill:orange;stroke:none; }\nimage.hover_theme_SVGID_ { stroke:orange; }","reactive":true},"select":{"css":".select_data_SVGID_ { fill:red;stroke:black; }","type":"single","only_shiny":true,"selected":[]},"select_inv":{"css":""},"select_key":{"css":".select_key_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_key_SVGID_ { stroke:none;fill:red; }\ncircle.select_key_SVGID_ { fill:red;stroke:black; }\nline.select_key_SVGID_, polyline.select_key_SVGID_ { fill:none;stroke:red; }\nrect.select_key_SVGID_, polygon.select_key_SVGID_, path.select_key_SVGID_ { fill:red;stroke:none; }\nimage.select_key_SVGID_ { stroke:red; }","type":"single","only_shiny":true,"selected":[]},"select_theme":{"css":".select_theme_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_theme_SVGID_ { stroke:none;fill:red; }\ncircle.select_theme_SVGID_ { fill:red;stroke:black; }\nline.select_theme_SVGID_, polyline.select_theme_SVGID_ { fill:none;stroke:red; }\nrect.select_theme_SVGID_, polygon.select_theme_SVGID_, path.select_theme_SVGID_ { fill:red;stroke:none; }\nimage.select_theme_SVGID_ { stroke:red; }","type":"single","only_shiny":true,"selected":[]},"zoom":{"min":1,"max":1,"duration":300},"toolbar":{"position":"topright","pngname":"diagram","tooltips":null,"fixed":false,"hidden":"saveaspng","delay_over":200,"delay_out":500},"sizing":{"rescale":true,"width":1}}},"evals":[],"jsHooks":[]}</script>
<p>自定义交互式意大利面图的悬停和选中样式，禁用保存为 PNG 工具按钮</p>
</div>
</div>
<p>高亮某条线：</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>interactive_plot2 <span class="ot">&lt;-</span> <span class="fu">girafe_options</span>(</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    interactive_plot,</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># opts_hover: 设置鼠标悬停时的 CSS 样式</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   css = "stroke:#69B3A2; stroke-width: 3px; transition: all 0.3s ease;"</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   - stroke: 线条颜色为 #69B3A2</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   - stroke-width: 线宽加粗为 3px</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   - transition: 所有变化 0.3 秒内平滑过渡</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_hover</span>(<span class="at">css =</span> <span class="st">"stroke:#69B3A2; stroke-width: 3px; transition: all 0.3s ease;"</span>),</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># opts_hover_inv: 设置未悬停（非高亮）线条的 CSS 样式</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   "opacity:0.5;filter:saturate(10%);"</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   - opacity: 透明度降低为 0.5</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   - filter:saturate(10%): 饱和度降低为 10%</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_hover_inv</span>(<span class="st">"opacity:0.5;filter:saturate(10%);"</span>),</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># opts_toolbar: 工具栏设置</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   saveaspng = FALSE 禁用“保存为 PNG”按钮</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_toolbar</span>(<span class="at">saveaspng =</span> <span class="cn">FALSE</span>)</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>interactive_plot2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="girafe html-widget html-fill-item" id="htmlwidget-549de6f653acec55ba68" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-549de6f653acec55ba68">{"x":{"html":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='ggiraph-svg' role='graphics-document' id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715' viewBox='0 0 504 360'>\n <defs id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_defs'>\n  <clipPath id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_c1'>\n   <rect x='0' y='0' width='504' height='360'/>\n  <\/clipPath>\n  <clipPath id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_c2'>\n   <rect x='38.16' y='5.48' width='366.76' height='322.79'/>\n  <\/clipPath>\n <\/defs>\n <g id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_rootg' class='ggiraph-svg-rootg'>\n  <g clip-path='url(#svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_c1)'>\n   <rect x='0' y='0' width='504' height='360' fill='#FFFFFF' fill-opacity='1' stroke='#FFFFFF' stroke-opacity='1' stroke-width='0.75' stroke-linejoin='round' stroke-linecap='round' class='ggiraph-svg-bg'/>\n   <rect x='0' y='0' width='504' height='360' fill='#FFFFFF' fill-opacity='1' stroke='#FFFFFF' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='round'/>\n  <\/g>\n  <g clip-path='url(#svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_c2)'>\n   <rect x='38.16' y='5.48' width='366.76' height='322.79' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e1' points='54.83,122.70 61.49,123.84 68.15,126.29 74.59,126.72 81.24,125.31 87.68,125.35 94.34,127.13 100.99,127.87 107.00,130.01 113.66,130.42 120.10,130.79 126.76,132.22 133.20,134.82 139.85,136.30 146.51,139.38 152.95,142.82 159.60,143.30 166.04,144.55 172.70,146.86 179.35,150.77 185.58,159.85 192.24,169.23 198.68,166.54 205.33,162.62 211.77,164.12 218.43,162.47 225.08,147.30 231.52,128.21 238.18,114.88 244.62,108.52 251.28,107.79 257.93,105.09 263.94,99.83 270.60,96.09 277.04,100.42 283.69,107.97 290.14,113.28 296.79,117.65 303.45,118.94 309.89,119.64 316.54,120.57 322.98,122.75 329.64,126.39 336.29,131.28 342.30,138.14 348.96,146.22 355.40,156.47 362.06,165.93 368.50,172.57 375.15,175.82 381.81,174.92 388.25,173.21' fill='none' stroke='#F8766D' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='Australia' data-id='Australia' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e2' points='54.83,67.31 61.49,70.49 68.15,69.34 74.59,62.32 81.24,50.36 87.68,39.54 94.34,30.98 100.99,25.10 107.00,25.00 113.66,25.51 120.10,27.17 126.76,26.96 133.20,30.56 139.85,34.22 146.51,32.20 152.95,27.72 159.60,22.59 166.04,20.15 172.70,28.22 179.35,46.87 185.58,61.79 192.24,80.75 198.68,94.39 205.33,99.87 211.77,91.63 218.43,79.41 225.08,62.70 231.52,48.88 238.18,39.75 244.62,36.64 251.28,32.58 257.93,29.38 263.94,36.58 270.60,43.76 277.04,48.65 283.69,55.03 290.14,65.66 296.79,68.55 303.45,63.05 309.89,59.14 316.54,55.79 322.98,52.19 329.64,56.24 336.29,85.99 342.30,153.05 348.96,240.23 355.40,288.01 362.06,301.95 368.50,304.11 375.15,303.77 381.81,302.51' fill='none' stroke='#D39200' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='China' data-id='China' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e3' points='54.83,139.29 61.49,144.61 68.15,151.72 74.59,155.72 81.24,161.63 87.68,164.53 94.34,156.48 100.99,146.79 107.00,139.57 113.66,134.85 120.10,129.14 126.76,124.33 133.20,120.10 139.85,117.99 146.51,115.96 152.95,115.95 159.60,118.58 166.04,125.63 172.70,131.27 179.35,141.32 185.58,161.43 192.24,180.34 198.68,177.89 205.33,163.42 211.77,152.62 218.43,149.02 225.08,151.15 231.52,159.19 238.18,165.51 244.62,161.91 251.28,160.10 257.93,155.06 263.94,142.13 270.60,126.87 277.04,108.11 283.69,94.45 290.14,94.95 296.79,101.01 303.45,104.21 309.89,111.00 316.54,118.12 322.98,126.58 329.64,136.98 336.29,153.86 342.30,179.56 348.96,193.11 355.40,198.94 362.06,203.00 368.50,203.85 375.15,202.64 381.81,205.34 388.25,206.21' fill='none' stroke='#93AA00' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='France' data-id='France' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e4' points='54.83,93.72 61.49,94.10 68.15,94.32 74.59,95.12 81.24,95.86 87.68,96.37 94.34,96.13 100.99,95.91 107.00,95.91 113.66,97.22 120.10,100.13 126.76,104.08 133.20,107.34 139.85,109.39 146.51,109.40 152.95,109.22 159.60,107.04 166.04,106.91 172.70,109.02 179.35,117.47 185.58,135.22 192.24,152.60 198.68,154.69 205.33,145.91 211.77,136.94 218.43,130.56 225.08,129.32 231.52,133.05 238.18,137.91 244.62,141.22 251.28,143.35 257.93,139.76 263.94,132.91 270.60,125.57 277.04,113.75 283.69,103.35 290.14,100.29 296.79,100.55 303.45,100.49 309.89,104.59 316.54,111.52 322.98,117.72 329.64,122.74 336.29,133.67 342.30,152.05 348.96,167.18 355.40,176.41 362.06,185.27 368.50,195.70 375.15,204.00 381.81,212.89 388.25,218.53' fill='none' stroke='#00BA38' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='Germany' data-id='Germany' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e5' points='54.83,98.46 61.49,96.83 68.15,94.42 74.59,93.72 81.24,95.81 87.68,99.28 94.34,102.90 100.99,106.74 107.00,109.72 113.66,112.25 120.10,114.98 126.76,117.40 133.20,117.51 139.85,119.86 146.51,120.84 152.95,120.38 159.60,119.23 166.04,115.86 172.70,117.56 179.35,130.40 185.58,151.08 192.24,161.09 198.68,158.06 205.33,143.95 211.77,135.11 218.43,130.23 225.08,129.71 231.52,135.88 238.18,139.48 244.62,132.77 251.28,124.63 257.93,116.30 263.94,107.16 270.60,93.80 277.04,76.71 283.69,63.82 290.14,60.06 296.79,62.78 303.45,64.88 309.89,67.33 316.54,73.54 322.98,83.37 329.64,101.59 336.29,126.26 342.30,156.18 348.96,171.53 355.40,179.28 362.06,186.71 368.50,193.68 375.15,195.12 381.81,197.43 388.25,199.52' fill='none' stroke='#00C19F' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='Italy' data-id='Italy' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e6' points='54.83,117.91 61.49,118.71 68.15,120.26 74.59,122.66 81.24,125.37 87.68,127.90 94.34,130.78 100.99,133.63 107.00,136.54 113.66,139.15 120.10,143.16 126.76,148.54 133.20,153.81 139.85,158.62 146.51,162.16 152.95,160.20 159.60,153.81 166.04,149.46 172.70,152.53 179.35,168.66 185.58,198.13 192.24,224.75 198.68,229.79 205.33,220.62 211.77,209.10 218.43,199.27 225.08,190.91 231.52,187.56 238.18,188.90 244.62,192.31 251.28,191.47 257.93,182.18 263.94,172.42 270.60,167.65 277.04,164.73 283.69,160.30 290.14,157.42 296.79,155.85 303.45,153.76 309.89,151.74 316.54,151.78 322.98,155.05 329.64,162.43 336.29,171.31 342.30,179.14 348.96,182.61 355.40,184.52 362.06,189.02 368.50,193.02 375.15,193.94 381.81,197.32 388.25,201.86' fill='none' stroke='#00B9E3' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='Japan' data-id='Japan' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e7' points='54.83,121.87 61.49,128.26 68.15,131.78 74.59,135.22 81.24,138.64 87.68,138.58 94.34,135.81 100.99,131.77 107.00,129.08 113.66,128.91 120.10,133.13 126.76,138.12 133.20,142.79 139.85,144.54 146.51,139.57 152.95,132.24 159.60,125.64 166.04,123.62 172.70,130.13 179.35,152.63 185.58,183.99 192.24,203.07 198.68,202.20 205.33,192.48 211.77,182.88 218.43,176.55 225.08,172.79 231.52,160.92 238.18,151.66 244.62,150.47 251.28,146.52 257.93,139.76 263.94,131.11 270.60,122.30 277.04,114.30 283.69,110.61 290.14,114.98 296.79,118.04 303.45,116.61 309.89,112.95 316.54,111.90 322.98,114.65 329.64,116.87 336.29,118.46 342.30,119.32 348.96,122.06 355.40,130.80 362.06,146.46 368.50,161.99 375.15,167.06 381.81,166.76 388.25,167.33' fill='none' stroke='#619CFF' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='South.Korea' data-id='South.Korea' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e8' points='54.83,105.17 61.49,106.98 68.15,111.12 74.59,115.60 81.24,121.45 87.68,128.29 94.34,134.69 100.99,137.59 107.00,137.82 113.66,134.33 120.10,129.12 126.76,127.28 133.20,126.35 139.85,130.60 146.51,131.57 152.95,129.34 159.60,122.46 166.04,114.76 172.70,112.01 179.35,119.95 185.58,143.62 192.24,177.79 198.68,194.54 205.33,191.46 211.77,180.54 218.43,175.92 225.08,179.85 231.52,187.31 238.18,189.46 244.62,180.37 251.28,167.35 257.93,143.73 263.94,114.91 270.60,92.21 277.04,74.89 283.69,67.10 290.14,68.33 296.79,79.72 303.45,98.64 309.89,114.31 316.54,121.58 322.98,132.18 329.64,154.68 336.29,188.15 342.30,222.38 348.96,251.19 355.40,268.04 362.06,276.89 368.50,283.90 375.15,295.64 381.81,307.86 388.25,313.59' fill='none' stroke='#DB72FB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='UK' data-id='UK' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e9' points='54.83,98.11 61.49,97.85 68.15,96.00 74.59,96.39 81.24,98.83 87.68,102.62 94.34,107.16 100.99,105.96 107.00,101.11 113.66,97.55 120.10,95.60 126.76,97.69 133.20,102.84 139.85,109.43 146.51,109.43 152.95,104.92 159.60,98.94 166.04,93.88 172.70,93.91 179.35,103.43 185.58,125.62 192.24,149.75 198.68,160.87 205.33,161.98 211.77,161.59 218.43,157.11 225.08,150.16 231.52,146.85 238.18,147.81 244.62,147.74 251.28,147.61 257.93,144.50 263.94,136.36 270.60,130.93 277.04,132.23 283.69,136.90 290.14,147.31 296.79,159.96 303.45,166.61 309.89,170.76 316.54,174.37 322.98,176.62 329.64,181.84 336.29,188.68 342.30,193.97 348.96,197.69 355.40,206.81 362.06,215.99 368.50,216.69 375.15,210.51 381.81,204.45 388.25,199.12' fill='none' stroke='#FF61C3' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='USA' data-id='USA' nearest='true'/>\n  <\/g>\n  <g clip-path='url(#svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_c1)'>\n   <polyline points='38.16,328.27 38.16,5.48' fill='none' stroke='#000000' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <text x='23.44' y='241.7' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>95<\/text>\n   <text x='18.54' y='132.14' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>100<\/text>\n   <text x='18.54' y='22.59' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>105<\/text>\n   <polyline points='35.42,238.54 38.16,238.54' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='35.42,128.99 38.16,128.99' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='35.42,19.44 38.16,19.44' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='38.16,328.27 404.92,328.27' fill='none' stroke='#000000' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='94.34,331.01 94.34,328.27' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='172.70,331.01 172.70,328.27' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='251.28,331.01 251.28,328.27' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='329.64,331.01 329.64,328.27' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <text x='84.55' y='339.5' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2019<\/text>\n   <text x='162.91' y='339.5' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2020<\/text>\n   <text x='241.48' y='339.5' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2021<\/text>\n   <text x='319.85' y='339.5' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2022<\/text>\n   <text x='210.83' y='352.09' font-size='8.25pt' font-family='Helvetica'>date<\/text>\n   <text transform='translate(13.37,180.02) rotate(-90.00)' font-size='8.25pt' font-family='Helvetica'>value<\/text>\n   <rect x='415.88' y='75.73' width='82.64' height='182.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <text x='421.36' y='90.32' font-size='8.25pt' font-family='Helvetica'>country<\/text>\n   <rect x='421.36' y='97.01' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e10' x1='423.09' y1='105.65' x2='436.91' y2='105.65' stroke='#F8766D' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='114.29' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e11' x1='423.09' y1='122.93' x2='436.91' y2='122.93' stroke='#D39200' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='131.57' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e12' x1='423.09' y1='140.21' x2='436.91' y2='140.21' stroke='#93AA00' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='148.85' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e13' x1='423.09' y1='157.49' x2='436.91' y2='157.49' stroke='#00BA38' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='166.13' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e14' x1='423.09' y1='174.77' x2='436.91' y2='174.77' stroke='#00C19F' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='183.41' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e15' x1='423.09' y1='192.05' x2='436.91' y2='192.05' stroke='#00B9E3' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='200.69' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e16' x1='423.09' y1='209.33' x2='436.91' y2='209.33' stroke='#619CFF' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='217.97' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e17' x1='423.09' y1='226.61' x2='436.91' y2='226.61' stroke='#DB72FB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='235.25' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e18' x1='423.09' y1='243.89' x2='436.91' y2='243.89' stroke='#FF61C3' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <text x='444.12' y='108.81' font-size='6.6pt' font-family='Helvetica'>Australia<\/text>\n   <text x='444.12' y='126.09' font-size='6.6pt' font-family='Helvetica'>China<\/text>\n   <text x='444.12' y='143.37' font-size='6.6pt' font-family='Helvetica'>France<\/text>\n   <text x='444.12' y='160.65' font-size='6.6pt' font-family='Helvetica'>Germany<\/text>\n   <text x='444.12' y='177.93' font-size='6.6pt' font-family='Helvetica'>Italy<\/text>\n   <text x='444.12' y='195.21' font-size='6.6pt' font-family='Helvetica'>Japan<\/text>\n   <text x='444.12' y='212.49' font-size='6.6pt' font-family='Helvetica'>South.Korea<\/text>\n   <text x='444.12' y='229.77' font-size='6.6pt' font-family='Helvetica'>UK<\/text>\n   <text x='444.12' y='247.05' font-size='6.6pt' font-family='Helvetica'>USA<\/text>\n  <\/g>\n <\/g>\n<\/svg>","js":null,"uid":"svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715","ratio":1.4,"settings":{"tooltip":{"css":".tooltip_SVGID_ { padding:5px;background:black;color:white;border-radius:2px;text-align:left; ; position:absolute;pointer-events:none;z-index:999;}","placement":"doc","opacity":0.9,"offx":10,"offy":10,"use_cursor_pos":true,"use_fill":false,"use_stroke":false,"delay_over":200,"delay_out":500},"hover":{"css":".hover_data_SVGID_ { stroke:#69B3A2; stroke-width: 3px; transition: all 0.3s ease; }","reactive":false,"nearest_distance":null},"hover_inv":{"css":".hover_inv_SVGID_ { opacity:0.5;filter:saturate(10%); }"},"hover_key":{"css":".hover_key_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\ntext.hover_key_SVGID_ { stroke:none;fill:orange; }\ncircle.hover_key_SVGID_ { fill:orange;stroke:black; }\nline.hover_key_SVGID_, polyline.hover_key_SVGID_ { fill:none;stroke:orange; }\nrect.hover_key_SVGID_, polygon.hover_key_SVGID_, path.hover_key_SVGID_ { fill:orange;stroke:none; }\nimage.hover_key_SVGID_ { stroke:orange; }","reactive":true},"hover_theme":{"css":".hover_theme_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\ntext.hover_theme_SVGID_ { stroke:none;fill:orange; }\ncircle.hover_theme_SVGID_ { fill:orange;stroke:black; }\nline.hover_theme_SVGID_, polyline.hover_theme_SVGID_ { fill:none;stroke:orange; }\nrect.hover_theme_SVGID_, polygon.hover_theme_SVGID_, path.hover_theme_SVGID_ { fill:orange;stroke:none; }\nimage.hover_theme_SVGID_ { stroke:orange; }","reactive":true},"select":{"css":".select_data_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_data_SVGID_ { stroke:none;fill:red; }\ncircle.select_data_SVGID_ { fill:red;stroke:black; }\nline.select_data_SVGID_, polyline.select_data_SVGID_ { fill:none;stroke:red; }\nrect.select_data_SVGID_, polygon.select_data_SVGID_, path.select_data_SVGID_ { fill:red;stroke:none; }\nimage.select_data_SVGID_ { stroke:red; }","type":"multiple","only_shiny":true,"selected":[]},"select_inv":{"css":""},"select_key":{"css":".select_key_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_key_SVGID_ { stroke:none;fill:red; }\ncircle.select_key_SVGID_ { fill:red;stroke:black; }\nline.select_key_SVGID_, polyline.select_key_SVGID_ { fill:none;stroke:red; }\nrect.select_key_SVGID_, polygon.select_key_SVGID_, path.select_key_SVGID_ { fill:red;stroke:none; }\nimage.select_key_SVGID_ { stroke:red; }","type":"single","only_shiny":true,"selected":[]},"select_theme":{"css":".select_theme_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_theme_SVGID_ { stroke:none;fill:red; }\ncircle.select_theme_SVGID_ { fill:red;stroke:black; }\nline.select_theme_SVGID_, polyline.select_theme_SVGID_ { fill:none;stroke:red; }\nrect.select_theme_SVGID_, polygon.select_theme_SVGID_, path.select_theme_SVGID_ { fill:red;stroke:none; }\nimage.select_theme_SVGID_ { stroke:red; }","type":"single","only_shiny":true,"selected":[]},"zoom":{"min":1,"max":1,"duration":300},"toolbar":{"position":"topright","pngname":"diagram","tooltips":null,"fixed":false,"hidden":"saveaspng","delay_over":200,"delay_out":500},"sizing":{"rescale":true,"width":1}}},"evals":[],"jsHooks":[]}</script>
<p>自定义交互式意大利面图的高亮线样式，鼠标悬停时线条加粗变色，未悬停线条变淡，禁用保存为 PNG 工具按钮</p>
</div>
</div>
<p>更进一步：</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>hover_css <span class="ot">&lt;-</span> <span class="st">"</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="st">    fill: #ffe7a6;                      # 鼠标悬停时填充色为浅黄色</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="st">    fill-opacity: 0.5;                  # 填充透明度为0.5</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="st">    stroke: black;                      # 描边颜色为黑色</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="st">    stroke-width: 7px;                  # 描边宽度为7像素</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="st">    stroke-dasharray: 5,5;              # 虚线样式，5像素实线+5像素空白</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="st">    transition: fill-opacity 0.5s, stroke-width 0.5s, stroke-dasharray 0.5s, filter 0.5s; # 平滑过渡动画</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="st">    filter: drop-shadow(0 0 5px rgba(0,0,0,0.5)); # 添加阴影效果</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="st">"</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>interactive_plot2 <span class="ot">&lt;-</span> <span class="fu">girafe_options</span>(</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    interactive_plot,</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_hover</span>(<span class="at">css =</span> hover_css), <span class="co"># 设置鼠标悬停时的CSS样式</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_toolbar</span>(<span class="at">saveaspng =</span> <span class="cn">FALSE</span>) <span class="co"># 工具栏设置：禁用“保存为 PNG”按钮</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>interactive_plot2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="girafe html-widget html-fill-item" id="htmlwidget-48345a3f59d3587d8494" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-48345a3f59d3587d8494">{"x":{"html":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='ggiraph-svg' role='graphics-document' id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715' viewBox='0 0 504 360'>\n <defs id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_defs'>\n  <clipPath id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_c1'>\n   <rect x='0' y='0' width='504' height='360'/>\n  <\/clipPath>\n  <clipPath id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_c2'>\n   <rect x='38.16' y='5.48' width='366.76' height='322.79'/>\n  <\/clipPath>\n <\/defs>\n <g id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_rootg' class='ggiraph-svg-rootg'>\n  <g clip-path='url(#svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_c1)'>\n   <rect x='0' y='0' width='504' height='360' fill='#FFFFFF' fill-opacity='1' stroke='#FFFFFF' stroke-opacity='1' stroke-width='0.75' stroke-linejoin='round' stroke-linecap='round' class='ggiraph-svg-bg'/>\n   <rect x='0' y='0' width='504' height='360' fill='#FFFFFF' fill-opacity='1' stroke='#FFFFFF' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='round'/>\n  <\/g>\n  <g clip-path='url(#svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_c2)'>\n   <rect x='38.16' y='5.48' width='366.76' height='322.79' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e1' points='54.83,122.70 61.49,123.84 68.15,126.29 74.59,126.72 81.24,125.31 87.68,125.35 94.34,127.13 100.99,127.87 107.00,130.01 113.66,130.42 120.10,130.79 126.76,132.22 133.20,134.82 139.85,136.30 146.51,139.38 152.95,142.82 159.60,143.30 166.04,144.55 172.70,146.86 179.35,150.77 185.58,159.85 192.24,169.23 198.68,166.54 205.33,162.62 211.77,164.12 218.43,162.47 225.08,147.30 231.52,128.21 238.18,114.88 244.62,108.52 251.28,107.79 257.93,105.09 263.94,99.83 270.60,96.09 277.04,100.42 283.69,107.97 290.14,113.28 296.79,117.65 303.45,118.94 309.89,119.64 316.54,120.57 322.98,122.75 329.64,126.39 336.29,131.28 342.30,138.14 348.96,146.22 355.40,156.47 362.06,165.93 368.50,172.57 375.15,175.82 381.81,174.92 388.25,173.21' fill='none' stroke='#F8766D' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='Australia' data-id='Australia' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e2' points='54.83,67.31 61.49,70.49 68.15,69.34 74.59,62.32 81.24,50.36 87.68,39.54 94.34,30.98 100.99,25.10 107.00,25.00 113.66,25.51 120.10,27.17 126.76,26.96 133.20,30.56 139.85,34.22 146.51,32.20 152.95,27.72 159.60,22.59 166.04,20.15 172.70,28.22 179.35,46.87 185.58,61.79 192.24,80.75 198.68,94.39 205.33,99.87 211.77,91.63 218.43,79.41 225.08,62.70 231.52,48.88 238.18,39.75 244.62,36.64 251.28,32.58 257.93,29.38 263.94,36.58 270.60,43.76 277.04,48.65 283.69,55.03 290.14,65.66 296.79,68.55 303.45,63.05 309.89,59.14 316.54,55.79 322.98,52.19 329.64,56.24 336.29,85.99 342.30,153.05 348.96,240.23 355.40,288.01 362.06,301.95 368.50,304.11 375.15,303.77 381.81,302.51' fill='none' stroke='#D39200' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='China' data-id='China' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e3' points='54.83,139.29 61.49,144.61 68.15,151.72 74.59,155.72 81.24,161.63 87.68,164.53 94.34,156.48 100.99,146.79 107.00,139.57 113.66,134.85 120.10,129.14 126.76,124.33 133.20,120.10 139.85,117.99 146.51,115.96 152.95,115.95 159.60,118.58 166.04,125.63 172.70,131.27 179.35,141.32 185.58,161.43 192.24,180.34 198.68,177.89 205.33,163.42 211.77,152.62 218.43,149.02 225.08,151.15 231.52,159.19 238.18,165.51 244.62,161.91 251.28,160.10 257.93,155.06 263.94,142.13 270.60,126.87 277.04,108.11 283.69,94.45 290.14,94.95 296.79,101.01 303.45,104.21 309.89,111.00 316.54,118.12 322.98,126.58 329.64,136.98 336.29,153.86 342.30,179.56 348.96,193.11 355.40,198.94 362.06,203.00 368.50,203.85 375.15,202.64 381.81,205.34 388.25,206.21' fill='none' stroke='#93AA00' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='France' data-id='France' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e4' points='54.83,93.72 61.49,94.10 68.15,94.32 74.59,95.12 81.24,95.86 87.68,96.37 94.34,96.13 100.99,95.91 107.00,95.91 113.66,97.22 120.10,100.13 126.76,104.08 133.20,107.34 139.85,109.39 146.51,109.40 152.95,109.22 159.60,107.04 166.04,106.91 172.70,109.02 179.35,117.47 185.58,135.22 192.24,152.60 198.68,154.69 205.33,145.91 211.77,136.94 218.43,130.56 225.08,129.32 231.52,133.05 238.18,137.91 244.62,141.22 251.28,143.35 257.93,139.76 263.94,132.91 270.60,125.57 277.04,113.75 283.69,103.35 290.14,100.29 296.79,100.55 303.45,100.49 309.89,104.59 316.54,111.52 322.98,117.72 329.64,122.74 336.29,133.67 342.30,152.05 348.96,167.18 355.40,176.41 362.06,185.27 368.50,195.70 375.15,204.00 381.81,212.89 388.25,218.53' fill='none' stroke='#00BA38' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='Germany' data-id='Germany' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e5' points='54.83,98.46 61.49,96.83 68.15,94.42 74.59,93.72 81.24,95.81 87.68,99.28 94.34,102.90 100.99,106.74 107.00,109.72 113.66,112.25 120.10,114.98 126.76,117.40 133.20,117.51 139.85,119.86 146.51,120.84 152.95,120.38 159.60,119.23 166.04,115.86 172.70,117.56 179.35,130.40 185.58,151.08 192.24,161.09 198.68,158.06 205.33,143.95 211.77,135.11 218.43,130.23 225.08,129.71 231.52,135.88 238.18,139.48 244.62,132.77 251.28,124.63 257.93,116.30 263.94,107.16 270.60,93.80 277.04,76.71 283.69,63.82 290.14,60.06 296.79,62.78 303.45,64.88 309.89,67.33 316.54,73.54 322.98,83.37 329.64,101.59 336.29,126.26 342.30,156.18 348.96,171.53 355.40,179.28 362.06,186.71 368.50,193.68 375.15,195.12 381.81,197.43 388.25,199.52' fill='none' stroke='#00C19F' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='Italy' data-id='Italy' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e6' points='54.83,117.91 61.49,118.71 68.15,120.26 74.59,122.66 81.24,125.37 87.68,127.90 94.34,130.78 100.99,133.63 107.00,136.54 113.66,139.15 120.10,143.16 126.76,148.54 133.20,153.81 139.85,158.62 146.51,162.16 152.95,160.20 159.60,153.81 166.04,149.46 172.70,152.53 179.35,168.66 185.58,198.13 192.24,224.75 198.68,229.79 205.33,220.62 211.77,209.10 218.43,199.27 225.08,190.91 231.52,187.56 238.18,188.90 244.62,192.31 251.28,191.47 257.93,182.18 263.94,172.42 270.60,167.65 277.04,164.73 283.69,160.30 290.14,157.42 296.79,155.85 303.45,153.76 309.89,151.74 316.54,151.78 322.98,155.05 329.64,162.43 336.29,171.31 342.30,179.14 348.96,182.61 355.40,184.52 362.06,189.02 368.50,193.02 375.15,193.94 381.81,197.32 388.25,201.86' fill='none' stroke='#00B9E3' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='Japan' data-id='Japan' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e7' points='54.83,121.87 61.49,128.26 68.15,131.78 74.59,135.22 81.24,138.64 87.68,138.58 94.34,135.81 100.99,131.77 107.00,129.08 113.66,128.91 120.10,133.13 126.76,138.12 133.20,142.79 139.85,144.54 146.51,139.57 152.95,132.24 159.60,125.64 166.04,123.62 172.70,130.13 179.35,152.63 185.58,183.99 192.24,203.07 198.68,202.20 205.33,192.48 211.77,182.88 218.43,176.55 225.08,172.79 231.52,160.92 238.18,151.66 244.62,150.47 251.28,146.52 257.93,139.76 263.94,131.11 270.60,122.30 277.04,114.30 283.69,110.61 290.14,114.98 296.79,118.04 303.45,116.61 309.89,112.95 316.54,111.90 322.98,114.65 329.64,116.87 336.29,118.46 342.30,119.32 348.96,122.06 355.40,130.80 362.06,146.46 368.50,161.99 375.15,167.06 381.81,166.76 388.25,167.33' fill='none' stroke='#619CFF' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='South.Korea' data-id='South.Korea' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e8' points='54.83,105.17 61.49,106.98 68.15,111.12 74.59,115.60 81.24,121.45 87.68,128.29 94.34,134.69 100.99,137.59 107.00,137.82 113.66,134.33 120.10,129.12 126.76,127.28 133.20,126.35 139.85,130.60 146.51,131.57 152.95,129.34 159.60,122.46 166.04,114.76 172.70,112.01 179.35,119.95 185.58,143.62 192.24,177.79 198.68,194.54 205.33,191.46 211.77,180.54 218.43,175.92 225.08,179.85 231.52,187.31 238.18,189.46 244.62,180.37 251.28,167.35 257.93,143.73 263.94,114.91 270.60,92.21 277.04,74.89 283.69,67.10 290.14,68.33 296.79,79.72 303.45,98.64 309.89,114.31 316.54,121.58 322.98,132.18 329.64,154.68 336.29,188.15 342.30,222.38 348.96,251.19 355.40,268.04 362.06,276.89 368.50,283.90 375.15,295.64 381.81,307.86 388.25,313.59' fill='none' stroke='#DB72FB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='UK' data-id='UK' nearest='true'/>\n   <polyline id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e9' points='54.83,98.11 61.49,97.85 68.15,96.00 74.59,96.39 81.24,98.83 87.68,102.62 94.34,107.16 100.99,105.96 107.00,101.11 113.66,97.55 120.10,95.60 126.76,97.69 133.20,102.84 139.85,109.43 146.51,109.43 152.95,104.92 159.60,98.94 166.04,93.88 172.70,93.91 179.35,103.43 185.58,125.62 192.24,149.75 198.68,160.87 205.33,161.98 211.77,161.59 218.43,157.11 225.08,150.16 231.52,146.85 238.18,147.81 244.62,147.74 251.28,147.61 257.93,144.50 263.94,136.36 270.60,130.93 277.04,132.23 283.69,136.90 290.14,147.31 296.79,159.96 303.45,166.61 309.89,170.76 316.54,174.37 322.98,176.62 329.64,181.84 336.29,188.68 342.30,193.97 348.96,197.69 355.40,206.81 362.06,215.99 368.50,216.69 375.15,210.51 381.81,204.45 388.25,199.12' fill='none' stroke='#FF61C3' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' title='USA' data-id='USA' nearest='true'/>\n  <\/g>\n  <g clip-path='url(#svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_c1)'>\n   <polyline points='38.16,328.27 38.16,5.48' fill='none' stroke='#000000' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <text x='23.44' y='241.7' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>95<\/text>\n   <text x='18.54' y='132.14' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>100<\/text>\n   <text x='18.54' y='22.59' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>105<\/text>\n   <polyline points='35.42,238.54 38.16,238.54' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='35.42,128.99 38.16,128.99' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='35.42,19.44 38.16,19.44' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='38.16,328.27 404.92,328.27' fill='none' stroke='#000000' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='94.34,331.01 94.34,328.27' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='172.70,331.01 172.70,328.27' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='251.28,331.01 251.28,328.27' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='329.64,331.01 329.64,328.27' fill='none' stroke='#333333' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <text x='84.55' y='339.5' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2019<\/text>\n   <text x='162.91' y='339.5' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2020<\/text>\n   <text x='241.48' y='339.5' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2021<\/text>\n   <text x='319.85' y='339.5' font-size='6.6pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2022<\/text>\n   <text x='210.83' y='352.09' font-size='8.25pt' font-family='Helvetica'>date<\/text>\n   <text transform='translate(13.37,180.02) rotate(-90.00)' font-size='8.25pt' font-family='Helvetica'>value<\/text>\n   <rect x='415.88' y='75.73' width='82.64' height='182.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <text x='421.36' y='90.32' font-size='8.25pt' font-family='Helvetica'>country<\/text>\n   <rect x='421.36' y='97.01' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e10' x1='423.09' y1='105.65' x2='436.91' y2='105.65' stroke='#F8766D' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='114.29' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e11' x1='423.09' y1='122.93' x2='436.91' y2='122.93' stroke='#D39200' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='131.57' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e12' x1='423.09' y1='140.21' x2='436.91' y2='140.21' stroke='#93AA00' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='148.85' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e13' x1='423.09' y1='157.49' x2='436.91' y2='157.49' stroke='#00BA38' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='166.13' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e14' x1='423.09' y1='174.77' x2='436.91' y2='174.77' stroke='#00C19F' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='183.41' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e15' x1='423.09' y1='192.05' x2='436.91' y2='192.05' stroke='#00B9E3' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='200.69' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e16' x1='423.09' y1='209.33' x2='436.91' y2='209.33' stroke='#619CFF' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='217.97' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e17' x1='423.09' y1='226.61' x2='436.91' y2='226.61' stroke='#DB72FB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <rect x='421.36' y='235.25' width='17.28' height='17.28' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <line id='svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715_e18' x1='423.09' y1='243.89' x2='436.91' y2='243.89' stroke='#FF61C3' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt' nearest='true'/>\n   <text x='444.12' y='108.81' font-size='6.6pt' font-family='Helvetica'>Australia<\/text>\n   <text x='444.12' y='126.09' font-size='6.6pt' font-family='Helvetica'>China<\/text>\n   <text x='444.12' y='143.37' font-size='6.6pt' font-family='Helvetica'>France<\/text>\n   <text x='444.12' y='160.65' font-size='6.6pt' font-family='Helvetica'>Germany<\/text>\n   <text x='444.12' y='177.93' font-size='6.6pt' font-family='Helvetica'>Italy<\/text>\n   <text x='444.12' y='195.21' font-size='6.6pt' font-family='Helvetica'>Japan<\/text>\n   <text x='444.12' y='212.49' font-size='6.6pt' font-family='Helvetica'>South.Korea<\/text>\n   <text x='444.12' y='229.77' font-size='6.6pt' font-family='Helvetica'>UK<\/text>\n   <text x='444.12' y='247.05' font-size='6.6pt' font-family='Helvetica'>USA<\/text>\n  <\/g>\n <\/g>\n<\/svg>","js":null,"uid":"svg_2b0ada06_bfcf_4038_a6e7_3e2ce683f715","ratio":1.4,"settings":{"tooltip":{"css":".tooltip_SVGID_ { padding:5px;background:black;color:white;border-radius:2px;text-align:left; ; position:absolute;pointer-events:none;z-index:999;}","placement":"doc","opacity":0.9,"offx":10,"offy":10,"use_cursor_pos":true,"use_fill":false,"use_stroke":false,"delay_over":200,"delay_out":500},"hover":{"css":".hover_data_SVGID_ { fill: #ffe7a6;                      # 鼠标悬停时填充色为浅黄色\n    fill-opacity: 0.5;                  # 填充透明度为0.5\n    stroke: black;                      # 描边颜色为黑色\n    stroke-width: 7px;                  # 描边宽度为7像素\n    stroke-dasharray: 5,5;              # 虚线样式，5像素实线+5像素空白\n    transition: fill-opacity 0.5s, stroke-width 0.5s, stroke-dasharray 0.5s, filter 0.5s; # 平滑过渡动画\n    filter: drop-shadow(0 0 5px rgba(0,0,0,0.5)); # 添加阴影效果 }","reactive":false,"nearest_distance":null},"hover_inv":{"css":""},"hover_key":{"css":".hover_key_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\ntext.hover_key_SVGID_ { stroke:none;fill:orange; }\ncircle.hover_key_SVGID_ { fill:orange;stroke:black; }\nline.hover_key_SVGID_, polyline.hover_key_SVGID_ { fill:none;stroke:orange; }\nrect.hover_key_SVGID_, polygon.hover_key_SVGID_, path.hover_key_SVGID_ { fill:orange;stroke:none; }\nimage.hover_key_SVGID_ { stroke:orange; }","reactive":true},"hover_theme":{"css":".hover_theme_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\ntext.hover_theme_SVGID_ { stroke:none;fill:orange; }\ncircle.hover_theme_SVGID_ { fill:orange;stroke:black; }\nline.hover_theme_SVGID_, polyline.hover_theme_SVGID_ { fill:none;stroke:orange; }\nrect.hover_theme_SVGID_, polygon.hover_theme_SVGID_, path.hover_theme_SVGID_ { fill:orange;stroke:none; }\nimage.hover_theme_SVGID_ { stroke:orange; }","reactive":true},"select":{"css":".select_data_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_data_SVGID_ { stroke:none;fill:red; }\ncircle.select_data_SVGID_ { fill:red;stroke:black; }\nline.select_data_SVGID_, polyline.select_data_SVGID_ { fill:none;stroke:red; }\nrect.select_data_SVGID_, polygon.select_data_SVGID_, path.select_data_SVGID_ { fill:red;stroke:none; }\nimage.select_data_SVGID_ { stroke:red; }","type":"multiple","only_shiny":true,"selected":[]},"select_inv":{"css":""},"select_key":{"css":".select_key_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_key_SVGID_ { stroke:none;fill:red; }\ncircle.select_key_SVGID_ { fill:red;stroke:black; }\nline.select_key_SVGID_, polyline.select_key_SVGID_ { fill:none;stroke:red; }\nrect.select_key_SVGID_, polygon.select_key_SVGID_, path.select_key_SVGID_ { fill:red;stroke:none; }\nimage.select_key_SVGID_ { stroke:red; }","type":"single","only_shiny":true,"selected":[]},"select_theme":{"css":".select_theme_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_theme_SVGID_ { stroke:none;fill:red; }\ncircle.select_theme_SVGID_ { fill:red;stroke:black; }\nline.select_theme_SVGID_, polyline.select_theme_SVGID_ { fill:none;stroke:red; }\nrect.select_theme_SVGID_, polygon.select_theme_SVGID_, path.select_theme_SVGID_ { fill:red;stroke:none; }\nimage.select_theme_SVGID_ { stroke:red; }","type":"single","only_shiny":true,"selected":[]},"zoom":{"min":1,"max":1,"duration":300},"toolbar":{"position":"topright","pngname":"diagram","tooltips":null,"fixed":false,"hidden":"saveaspng","delay_over":200,"delay_out":500},"sizing":{"rescale":true,"width":1}}},"evals":[],"jsHooks":[]}</script>
<p>自定义交互式意大利面图的悬停样式，鼠标悬停时线条变色加粗并添加阴影，禁用保存为 PNG 工具按钮</p>
</div>
</div>
<p>把 CSS 和其它的 <code>ggiraph</code> 特性组合：</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> date,</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> value,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> country,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">group =</span> country,</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">tooltip =</span> <span class="fu">paste</span>(<span class="st">"Country:"</span>, country, <span class="st">"&lt;br&gt;Date:"</span>, date, <span class="st">"&lt;br&gt;Value:"</span>, <span class="fu">round</span>(value, <span class="dv">2</span>)),</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">data_id =</span> country</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line_interactive</span>(<span class="at">size =</span> <span class="fl">1.2</span>, <span class="at">hover_nearest =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point_interactive</span>(<span class="fu">aes</span>(<span class="at">size =</span> value), <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_viridis_d</span>() <span class="sc">+</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_size_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">"Interactive Country Data Visualization"</span>,</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">subtitle =</span> <span class="st">"Try to hover and click on the lines!"</span>,</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">"R-Graph-Gallery.com"</span>,</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="st">"Date"</span>,</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Consumer Confidence"</span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">20</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"italic"</span>),</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"ivory"</span>, <span class="at">color =</span> <span class="cn">NA</span>),</span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"ivory"</span>, <span class="at">color =</span> <span class="cn">NA</span>)</span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>interactive_plot <span class="ot">&lt;-</span> <span class="fu">girafe</span>(<span class="at">ggobj =</span> plot)</span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>hover_css <span class="ot">&lt;-</span> <span class="st">"</span></span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a><span class="st">  stroke: black;</span></span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a><span class="st">  stroke-width: 1px;</span></span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a><span class="st">  r: 8px;</span></span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a><span class="st">  transition: all 0.3s ease;</span></span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a><span class="st">"</span></span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-40"><a href="#cb15-40" aria-hidden="true" tabindex="-1"></a>tooltip_css <span class="ot">&lt;-</span> <span class="st">"</span></span>
<span id="cb15-41"><a href="#cb15-41" aria-hidden="true" tabindex="-1"></a><span class="st">  background-color: #2C3E50;</span></span>
<span id="cb15-42"><a href="#cb15-42" aria-hidden="true" tabindex="-1"></a><span class="st">  color: #ECF0F1;</span></span>
<span id="cb15-43"><a href="#cb15-43" aria-hidden="true" tabindex="-1"></a><span class="st">  padding: 10px;</span></span>
<span id="cb15-44"><a href="#cb15-44" aria-hidden="true" tabindex="-1"></a><span class="st">  border-radius: 5px;</span></span>
<span id="cb15-45"><a href="#cb15-45" aria-hidden="true" tabindex="-1"></a><span class="st">  font-family: 'Arial', sans-serif;</span></span>
<span id="cb15-46"><a href="#cb15-46" aria-hidden="true" tabindex="-1"></a><span class="st">  font-size: 14px;</span></span>
<span id="cb15-47"><a href="#cb15-47" aria-hidden="true" tabindex="-1"></a><span class="st">  box-shadow: 0px 0px 10px rgba(0,0,0,0.5);</span></span>
<span id="cb15-48"><a href="#cb15-48" aria-hidden="true" tabindex="-1"></a><span class="st">"</span></span>
<span id="cb15-49"><a href="#cb15-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-50"><a href="#cb15-50" aria-hidden="true" tabindex="-1"></a>interactive_plot <span class="ot">&lt;-</span> <span class="fu">girafe_options</span>(</span>
<span id="cb15-51"><a href="#cb15-51" aria-hidden="true" tabindex="-1"></a>    interactive_plot,</span>
<span id="cb15-52"><a href="#cb15-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_hover</span>(<span class="at">css =</span> hover_css),</span>
<span id="cb15-53"><a href="#cb15-53" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_tooltip</span>(<span class="at">css =</span> tooltip_css, <span class="at">use_fill =</span> <span class="cn">TRUE</span>),</span>
<span id="cb15-54"><a href="#cb15-54" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_selection</span>(<span class="at">type =</span> <span class="st">"multiple"</span>, <span class="at">only_shiny =</span> <span class="cn">FALSE</span>),</span>
<span id="cb15-55"><a href="#cb15-55" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_zoom</span>(<span class="at">min =</span> <span class="fl">0.5</span>, <span class="at">max =</span> <span class="dv">2</span>),</span>
<span id="cb15-56"><a href="#cb15-56" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_toolbar</span>(<span class="at">saveaspng =</span> <span class="cn">TRUE</span>, <span class="at">position =</span> <span class="st">"topright"</span>, <span class="at">pngname =</span> <span class="st">"country_data_plot"</span>),</span>
<span id="cb15-57"><a href="#cb15-57" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_sizing</span>(<span class="at">rescale =</span> <span class="cn">TRUE</span>)</span>
<span id="cb15-58"><a href="#cb15-58" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb15-59"><a href="#cb15-59" aria-hidden="true" tabindex="-1"></a>interactive_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="girafe html-widget html-fill-item" id="htmlwidget-4b1ba7f5c064ae154f81" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-4b1ba7f5c064ae154f81">{"x":{"html":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='ggiraph-svg' role='graphics-document' id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4' viewBox='0 0 504 360'>\n <defs id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_defs'>\n  <clipPath id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_c1'>\n   <rect x='0' y='0' width='504' height='360'/>\n  <\/clipPath>\n  <clipPath id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_c2'>\n   <rect x='48.54' y='54.75' width='448.49' height='247.39'/>\n  <\/clipPath>\n <\/defs>\n <g id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_rootg' class='ggiraph-svg-rootg'>\n  <g clip-path='url(#svg_fe395010_96ad_45e5_b3b2_657189ef79d4_c1)'>\n   <rect x='0' y='0' width='504' height='360' fill='#FFFFFF' fill-opacity='1' stroke='#FFFFFF' stroke-opacity='1' stroke-width='0.75' stroke-linejoin='round' stroke-linecap='round' class='ggiraph-svg-bg'/>\n   <rect x='0' y='0' width='504' height='360' fill='#FFFFF0' fill-opacity='1' stroke='none'/>\n  <\/g>\n  <g clip-path='url(#svg_fe395010_96ad_45e5_b3b2_657189ef79d4_c2)'>\n   <rect x='48.54' y='54.75' width='448.49' height='247.39' fill='#FFFFF0' fill-opacity='1' stroke='none'/>\n   <polyline points='48.54,233.37 497.03,233.37' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.36' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='48.54,149.41 497.03,149.41' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.36' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='48.54,65.45 497.03,65.45' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.36' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='117.23,302.14 117.23,54.75' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.36' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='213.06,302.14 213.06,54.75' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.36' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='309.14,302.14 309.14,54.75' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.36' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='404.97,302.14 404.97,54.75' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.36' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e1' points='68.93,144.59 77.06,145.46 85.20,147.34 93.08,147.67 101.22,146.59 109.09,146.62 117.23,147.98 125.37,148.55 132.72,150.19 140.86,150.50 148.74,150.79 156.87,151.89 164.75,153.88 172.89,155.01 181.03,157.37 188.90,160.01 197.04,160.37 204.92,161.34 213.06,163.10 221.19,166.10 228.81,173.06 236.95,180.25 244.82,178.19 252.96,175.18 260.84,176.34 268.98,175.07 277.11,163.44 284.99,148.81 293.13,138.59 301.01,133.72 309.14,133.16 317.28,131.09 324.63,127.06 332.77,124.20 340.65,127.51 348.79,133.30 356.66,137.37 364.80,140.72 372.94,141.71 380.82,142.24 388.95,142.96 396.83,144.62 404.97,147.41 413.11,151.17 420.46,156.42 428.60,162.62 436.47,170.47 444.61,177.72 452.49,182.81 460.63,185.30 468.76,184.61 476.64,183.30' fill='none' stroke='#440154' stroke-opacity='1' stroke-width='2.56' stroke-linejoin='round' stroke-linecap='butt' title='Country: Australia &amp;lt;br&amp;gt;Date: 2018-07-01 &amp;lt;br&amp;gt;Value: 100.29' data-id='Australia' nearest='true'/>\n   <polyline id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e2' points='68.93,102.14 77.06,104.57 85.20,103.69 93.08,98.31 101.22,89.15 109.09,80.85 117.23,74.29 125.37,69.78 132.72,69.71 140.86,70.10 148.74,71.37 156.87,71.21 164.75,73.97 172.89,76.78 181.03,75.22 188.90,71.80 197.04,67.86 204.92,65.99 213.06,72.18 221.19,86.47 228.81,97.91 236.95,112.44 244.82,122.89 252.96,127.09 260.84,120.77 268.98,111.41 277.11,98.61 284.99,88.01 293.13,81.01 301.01,78.63 309.14,75.52 317.28,73.07 324.63,78.58 332.77,84.09 340.65,87.83 348.79,92.72 356.66,100.87 364.80,103.09 372.94,98.87 380.82,95.88 388.95,93.31 396.83,90.54 404.97,93.65 413.11,116.45 420.46,167.85 428.60,234.66 436.47,271.29 444.61,281.97 452.49,283.63 460.63,283.36 468.76,282.40' fill='none' stroke='#472D7B' stroke-opacity='1' stroke-width='2.56' stroke-linejoin='round' stroke-linecap='butt' title='Country: China &amp;lt;br&amp;gt;Date: 2018-07-01 &amp;lt;br&amp;gt;Value: 102.82' data-id='China' nearest='true'/>\n   <polyline id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e3' points='68.93,157.30 77.06,161.38 85.20,166.83 93.08,169.90 101.22,174.42 109.09,176.65 117.23,170.48 125.37,163.05 132.72,157.52 140.86,153.90 148.74,149.52 156.87,145.84 164.75,142.59 172.89,140.98 181.03,139.43 188.90,139.42 197.04,141.43 204.92,146.83 213.06,151.16 221.19,158.86 228.81,174.27 236.95,188.77 244.82,186.89 252.96,175.80 260.84,167.52 268.98,164.76 277.11,166.39 284.99,172.55 293.13,177.40 301.01,174.64 309.14,173.25 317.28,169.39 324.63,159.48 332.77,147.78 340.65,133.40 348.79,122.94 356.66,123.32 364.80,127.97 372.94,130.42 380.82,135.62 388.95,141.08 396.83,147.56 404.97,155.53 413.11,168.47 420.46,188.17 428.60,198.55 436.47,203.02 444.61,206.13 452.49,206.78 460.63,205.86 468.76,207.93 476.64,208.59' fill='none' stroke='#3B528B' stroke-opacity='1' stroke-width='2.56' stroke-linejoin='round' stroke-linecap='butt' title='Country: France &amp;lt;br&amp;gt;Date: 2018-07-01 &amp;lt;br&amp;gt;Value: 99.53' data-id='France' nearest='true'/>\n   <polyline id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e4' points='68.93,122.38 77.06,122.67 85.20,122.84 93.08,123.45 101.22,124.02 109.09,124.41 117.23,124.22 125.37,124.06 132.72,124.06 140.86,125.06 148.74,127.29 156.87,130.31 164.75,132.81 172.89,134.39 181.03,134.39 188.90,134.25 197.04,132.58 204.92,132.48 213.06,134.10 221.19,140.58 228.81,154.18 236.95,167.51 244.82,169.10 252.96,162.37 260.84,155.50 268.98,150.61 277.11,149.66 284.99,152.52 293.13,156.24 301.01,158.78 309.14,160.41 317.28,157.67 324.63,152.41 332.77,146.79 340.65,137.73 348.79,129.76 356.66,127.41 364.80,127.61 372.94,127.57 380.82,130.71 388.95,136.02 396.83,140.77 404.97,144.62 413.11,153.00 420.46,167.08 428.60,178.68 436.47,185.75 444.61,192.54 452.49,200.54 460.63,206.90 468.76,213.71 476.64,218.03' fill='none' stroke='#2C728E' stroke-opacity='1' stroke-width='2.56' stroke-linejoin='round' stroke-linecap='butt' title='Country: Germany &amp;lt;br&amp;gt;Date: 2018-07-01 &amp;lt;br&amp;gt;Value: 101.61' data-id='Germany' nearest='true'/>\n   <polyline id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e5' points='68.93,126.01 77.06,124.76 85.20,122.92 93.08,122.38 101.22,123.98 109.09,126.64 117.23,129.42 125.37,132.35 132.72,134.64 140.86,136.58 148.74,138.67 156.87,140.53 164.75,140.61 172.89,142.41 181.03,143.16 188.90,142.81 197.04,141.93 204.92,139.35 213.06,140.65 221.19,150.49 228.81,166.34 236.95,174.01 244.82,171.69 252.96,160.88 260.84,154.10 268.98,150.36 277.11,149.96 284.99,154.69 293.13,157.45 301.01,152.31 309.14,146.07 317.28,139.68 324.63,132.68 332.77,122.44 340.65,109.34 348.79,99.46 356.66,96.58 364.80,98.66 372.94,100.27 380.82,102.15 388.95,106.91 396.83,114.44 404.97,128.41 413.11,147.31 420.46,170.25 428.60,182.02 436.47,187.96 444.61,193.65 452.49,198.99 460.63,200.09 468.76,201.86 476.64,203.47' fill='none' stroke='#21908C' stroke-opacity='1' stroke-width='2.56' stroke-linejoin='round' stroke-linecap='butt' title='Country: Italy &amp;lt;br&amp;gt;Date: 2018-07-01 &amp;lt;br&amp;gt;Value: 101.39' data-id='Italy' nearest='true'/>\n   <polyline id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e6' points='68.93,140.92 77.06,141.53 85.20,142.72 93.08,144.56 101.22,146.63 109.09,148.58 117.23,150.78 125.37,152.96 132.72,155.20 140.86,157.20 148.74,160.27 156.87,164.39 164.75,168.43 172.89,172.12 181.03,174.83 188.90,173.33 197.04,168.43 204.92,165.09 213.06,167.45 221.19,179.81 228.81,202.40 236.95,222.80 244.82,226.66 252.96,219.64 260.84,210.81 268.98,203.27 277.11,196.86 284.99,194.30 293.13,195.33 301.01,197.94 309.14,197.29 317.28,190.18 324.63,182.69 332.77,179.04 340.65,176.80 348.79,173.41 356.66,171.20 364.80,169.99 372.94,168.40 380.82,166.85 388.95,166.88 396.83,169.38 404.97,175.04 413.11,181.84 420.46,187.84 428.60,190.51 436.47,191.97 444.61,195.42 452.49,198.49 460.63,199.19 468.76,201.78 476.64,205.26' fill='none' stroke='#27AD81' stroke-opacity='1' stroke-width='2.56' stroke-linejoin='round' stroke-linecap='butt' title='Country: Japan &amp;lt;br&amp;gt;Date: 2018-07-01 &amp;lt;br&amp;gt;Value: 100.51' data-id='Japan' nearest='true'/>\n   <polyline id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e7' points='68.93,143.95 77.06,148.85 85.20,151.55 93.08,154.18 101.22,156.80 109.09,156.76 117.23,154.63 125.37,151.54 132.72,149.47 140.86,149.35 148.74,152.58 156.87,156.41 164.75,159.98 172.89,161.33 181.03,157.52 188.90,151.90 197.04,146.85 204.92,145.29 213.06,150.28 221.19,167.53 228.81,191.56 236.95,206.18 244.82,205.52 252.96,198.07 260.84,190.71 268.98,185.86 277.11,182.98 284.99,173.88 293.13,166.78 301.01,165.88 309.14,162.85 317.28,157.67 324.63,151.04 332.77,144.28 340.65,138.15 348.79,135.32 356.66,138.67 364.80,141.01 372.94,139.92 380.82,137.12 388.95,136.31 396.83,138.42 404.97,140.12 413.11,141.34 420.46,142.00 428.60,144.10 436.47,150.80 444.61,162.80 452.49,174.70 460.63,178.59 468.76,178.36 476.64,178.79' fill='none' stroke='#5DC863' stroke-opacity='1' stroke-width='2.56' stroke-linejoin='round' stroke-linecap='butt' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2018-07-01 &amp;lt;br&amp;gt;Value: 100.33' data-id='South.Korea' nearest='true'/>\n   <polyline id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e8' points='68.93,131.15 77.06,132.54 85.20,135.71 93.08,139.15 101.22,143.63 109.09,148.87 117.23,153.78 125.37,156.00 132.72,156.18 140.86,153.50 148.74,149.51 156.87,148.10 164.75,147.39 172.89,150.64 181.03,151.39 188.90,149.67 197.04,144.40 204.92,138.50 213.06,136.40 221.19,142.48 228.81,160.62 236.95,186.81 244.82,199.65 252.96,197.29 260.84,188.92 268.98,185.38 277.11,188.39 284.99,194.10 293.13,195.75 301.01,188.79 309.14,178.81 317.28,160.70 324.63,138.61 332.77,121.22 340.65,107.94 348.79,101.97 356.66,102.91 364.80,111.65 372.94,126.15 380.82,138.16 388.95,143.73 396.83,151.85 404.97,169.10 413.11,194.75 420.46,220.98 428.60,243.07 436.47,255.98 444.61,262.77 452.49,268.13 460.63,277.13 468.76,286.50 476.64,290.89' fill='none' stroke='#AADC32' stroke-opacity='1' stroke-width='2.56' stroke-linejoin='round' stroke-linecap='butt' title='Country: UK &amp;lt;br&amp;gt;Date: 2018-07-01 &amp;lt;br&amp;gt;Value: 101.09' data-id='UK' nearest='true'/>\n   <polyline id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e9' points='68.93,125.74 77.06,125.55 85.20,124.12 93.08,124.43 101.22,126.29 109.09,129.20 117.23,132.68 125.37,131.76 132.72,128.04 140.86,125.32 148.74,123.82 156.87,125.42 164.75,129.37 172.89,134.42 181.03,134.42 188.90,130.96 197.04,126.38 204.92,122.50 213.06,122.52 221.19,129.82 228.81,146.82 236.95,165.32 244.82,173.84 252.96,174.69 260.84,174.40 268.98,170.96 277.11,165.63 284.99,163.10 293.13,163.83 301.01,163.78 309.14,163.68 317.28,161.30 324.63,155.06 332.77,150.89 340.65,151.90 348.79,155.47 356.66,163.45 364.80,173.15 372.94,178.24 380.82,181.42 388.95,184.19 396.83,185.91 404.97,189.92 413.11,195.16 420.46,199.21 428.60,202.06 436.47,209.05 444.61,216.09 452.49,216.63 460.63,211.89 468.76,207.24 476.64,203.16' fill='none' stroke='#FDE725' stroke-opacity='1' stroke-width='2.56' stroke-linejoin='round' stroke-linecap='butt' title='Country: USA &amp;lt;br&amp;gt;Date: 2018-07-01 &amp;lt;br&amp;gt;Value: 101.41' data-id='USA' nearest='true'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e10' cx='68.93' cy='157.3' r='1.68pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2018-07-01 &amp;lt;br&amp;gt;Value: 99.53' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e11' cx='68.93' cy='122.38' r='1.76pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2018-07-01 &amp;lt;br&amp;gt;Value: 101.61' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e12' cx='68.93' cy='126.01' r='1.75pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2018-07-01 &amp;lt;br&amp;gt;Value: 101.39' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e13' cx='68.93' cy='140.92' r='1.72pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2018-07-01 &amp;lt;br&amp;gt;Value: 100.51' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e14' cx='68.93' cy='131.15' r='1.74pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2018-07-01 &amp;lt;br&amp;gt;Value: 101.09' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e15' cx='68.93' cy='125.74' r='1.75pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2018-07-01 &amp;lt;br&amp;gt;Value: 101.41' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e16' cx='68.93' cy='102.14' r='1.8pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2018-07-01 &amp;lt;br&amp;gt;Value: 102.82' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e17' cx='68.93' cy='144.59' r='1.71pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2018-07-01 &amp;lt;br&amp;gt;Value: 100.29' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e18' cx='68.93' cy='143.95' r='1.71pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2018-07-01 &amp;lt;br&amp;gt;Value: 100.33' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e19' cx='77.06' cy='161.38' r='1.67pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2018-08-01 &amp;lt;br&amp;gt;Value: 99.29' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e20' cx='77.06' cy='122.67' r='1.76pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2018-08-01 &amp;lt;br&amp;gt;Value: 101.59' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e21' cx='77.06' cy='124.76' r='1.75pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2018-08-01 &amp;lt;br&amp;gt;Value: 101.47' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e22' cx='77.06' cy='141.53' r='1.72pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2018-08-01 &amp;lt;br&amp;gt;Value: 100.47' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e23' cx='77.06' cy='132.54' r='1.74pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2018-08-01 &amp;lt;br&amp;gt;Value: 101' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e24' cx='77.06' cy='125.55' r='1.75pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2018-08-01 &amp;lt;br&amp;gt;Value: 101.42' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e25' cx='77.06' cy='104.57' r='1.79pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2018-08-01 &amp;lt;br&amp;gt;Value: 102.67' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e26' cx='77.06' cy='145.46' r='1.71pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2018-08-01 &amp;lt;br&amp;gt;Value: 100.24' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e27' cx='77.06' cy='148.85' r='1.7pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2018-08-01 &amp;lt;br&amp;gt;Value: 100.03' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e28' cx='85.2' cy='166.83' r='1.66pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2018-09-01 &amp;lt;br&amp;gt;Value: 98.96' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e29' cx='85.2' cy='122.84' r='1.76pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2018-09-01 &amp;lt;br&amp;gt;Value: 101.58' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e30' cx='85.2' cy='122.92' r='1.76pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2018-09-01 &amp;lt;br&amp;gt;Value: 101.58' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e31' cx='85.2' cy='142.72' r='1.72pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2018-09-01 &amp;lt;br&amp;gt;Value: 100.4' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e32' cx='85.2' cy='135.71' r='1.73pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2018-09-01 &amp;lt;br&amp;gt;Value: 100.82' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e33' cx='85.2' cy='124.12' r='1.76pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2018-09-01 &amp;lt;br&amp;gt;Value: 101.51' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e34' cx='85.2' cy='103.69' r='1.8pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2018-09-01 &amp;lt;br&amp;gt;Value: 102.72' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e35' cx='85.2' cy='147.34' r='1.71pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2018-09-01 &amp;lt;br&amp;gt;Value: 100.12' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e36' cx='85.2' cy='151.55' r='1.7pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2018-09-01 &amp;lt;br&amp;gt;Value: 99.87' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e37' cx='93.08' cy='169.9' r='1.65pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2018-10-01 &amp;lt;br&amp;gt;Value: 98.78' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e38' cx='93.08' cy='123.45' r='1.76pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2018-10-01 &amp;lt;br&amp;gt;Value: 101.55' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e39' cx='93.08' cy='122.38' r='1.76pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2018-10-01 &amp;lt;br&amp;gt;Value: 101.61' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e40' cx='93.08' cy='144.56' r='1.71pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2018-10-01 &amp;lt;br&amp;gt;Value: 100.29' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e41' cx='93.08' cy='139.15' r='1.72pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2018-10-01 &amp;lt;br&amp;gt;Value: 100.61' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e42' cx='93.08' cy='124.43' r='1.75pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2018-10-01 &amp;lt;br&amp;gt;Value: 101.49' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e43' cx='93.08' cy='98.31' r='1.81pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2018-10-01 &amp;lt;br&amp;gt;Value: 103.04' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e44' cx='93.08' cy='147.67' r='1.7pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2018-10-01 &amp;lt;br&amp;gt;Value: 100.1' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e45' cx='93.08' cy='154.18' r='1.69pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2018-10-01 &amp;lt;br&amp;gt;Value: 99.72' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e46' cx='101.22' cy='174.42' r='1.64pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2018-11-01 &amp;lt;br&amp;gt;Value: 98.51' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e47' cx='101.22' cy='124.02' r='1.76pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2018-11-01 &amp;lt;br&amp;gt;Value: 101.51' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e48' cx='101.22' cy='123.98' r='1.76pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2018-11-01 &amp;lt;br&amp;gt;Value: 101.51' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e49' cx='101.22' cy='146.63' r='1.71pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2018-11-01 &amp;lt;br&amp;gt;Value: 100.17' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e50' cx='101.22' cy='143.63' r='1.71pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2018-11-01 &amp;lt;br&amp;gt;Value: 100.34' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e51' cx='101.22' cy='126.29' r='1.75pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2018-11-01 &amp;lt;br&amp;gt;Value: 101.38' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e52' cx='101.22' cy='89.15' r='1.82pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2018-11-01 &amp;lt;br&amp;gt;Value: 103.59' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e53' cx='101.22' cy='146.59' r='1.71pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2018-11-01 &amp;lt;br&amp;gt;Value: 100.17' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e54' cx='101.22' cy='156.8' r='1.68pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2018-11-01 &amp;lt;br&amp;gt;Value: 99.56' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e55' cx='109.09' cy='176.65' r='1.64pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2018-12-01 &amp;lt;br&amp;gt;Value: 98.38' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e56' cx='109.09' cy='124.41' r='1.75pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2018-12-01 &amp;lt;br&amp;gt;Value: 101.49' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e57' cx='109.09' cy='126.64' r='1.75pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2018-12-01 &amp;lt;br&amp;gt;Value: 101.36' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e58' cx='109.09' cy='148.58' r='1.7pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2018-12-01 &amp;lt;br&amp;gt;Value: 100.05' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e59' cx='109.09' cy='148.87' r='1.7pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2018-12-01 &amp;lt;br&amp;gt;Value: 100.03' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e60' cx='109.09' cy='129.2' r='1.74pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2018-12-01 &amp;lt;br&amp;gt;Value: 101.2' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e61' cx='109.09' cy='80.85' r='1.84pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2018-12-01 &amp;lt;br&amp;gt;Value: 104.08' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e62' cx='109.09' cy='146.62' r='1.71pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2018-12-01 &amp;lt;br&amp;gt;Value: 100.17' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e63' cx='109.09' cy='156.76' r='1.68pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2018-12-01 &amp;lt;br&amp;gt;Value: 99.56' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e64' cx='117.23' cy='170.48' r='1.65pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2019-01-01 &amp;lt;br&amp;gt;Value: 98.75' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e65' cx='117.23' cy='124.22' r='1.75pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2019-01-01 &amp;lt;br&amp;gt;Value: 101.5' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e66' cx='117.23' cy='129.42' r='1.74pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2019-01-01 &amp;lt;br&amp;gt;Value: 101.19' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e67' cx='117.23' cy='150.78' r='1.7pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2019-01-01 &amp;lt;br&amp;gt;Value: 99.92' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e68' cx='117.23' cy='153.78' r='1.69pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2019-01-01 &amp;lt;br&amp;gt;Value: 99.74' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e69' cx='117.23' cy='132.68' r='1.74pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2019-01-01 &amp;lt;br&amp;gt;Value: 101' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e70' cx='117.23' cy='74.29' r='1.85pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2019-01-01 &amp;lt;br&amp;gt;Value: 104.47' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e71' cx='117.23' cy='147.98' r='1.7pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2019-01-01 &amp;lt;br&amp;gt;Value: 100.09' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e72' cx='117.23' cy='154.63' r='1.69pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2019-01-01 &amp;lt;br&amp;gt;Value: 99.69' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e73' cx='125.37' cy='163.05' r='1.67pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2019-02-01 &amp;lt;br&amp;gt;Value: 99.19' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e74' cx='125.37' cy='124.06' r='1.76pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2019-02-01 &amp;lt;br&amp;gt;Value: 101.51' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e75' cx='125.37' cy='132.35' r='1.74pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2019-02-01 &amp;lt;br&amp;gt;Value: 101.02' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e76' cx='125.37' cy='152.96' r='1.69pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2019-02-01 &amp;lt;br&amp;gt;Value: 99.79' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e77' cx='125.37' cy='156' r='1.69pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2019-02-01 &amp;lt;br&amp;gt;Value: 99.61' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e78' cx='125.37' cy='131.76' r='1.74pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2019-02-01 &amp;lt;br&amp;gt;Value: 101.05' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e79' cx='125.37' cy='69.78' r='1.86pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2019-02-01 &amp;lt;br&amp;gt;Value: 104.74' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e80' cx='125.37' cy='148.55' r='1.7pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2019-02-01 &amp;lt;br&amp;gt;Value: 100.05' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e81' cx='125.37' cy='151.54' r='1.7pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2019-02-01 &amp;lt;br&amp;gt;Value: 99.87' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e82' cx='132.72' cy='157.52' r='1.68pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2019-03-01 &amp;lt;br&amp;gt;Value: 99.52' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e83' cx='132.72' cy='124.06' r='1.76pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2019-03-01 &amp;lt;br&amp;gt;Value: 101.51' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e84' cx='132.72' cy='134.64' r='1.73pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2019-03-01 &amp;lt;br&amp;gt;Value: 100.88' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e85' cx='132.72' cy='155.2' r='1.69pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2019-03-01 &amp;lt;br&amp;gt;Value: 99.66' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e86' cx='132.72' cy='156.18' r='1.69pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2019-03-01 &amp;lt;br&amp;gt;Value: 99.6' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e87' cx='132.72' cy='128.04' r='1.75pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2019-03-01 &amp;lt;br&amp;gt;Value: 101.27' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e88' cx='132.72' cy='69.71' r='1.86pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2019-03-01 &amp;lt;br&amp;gt;Value: 104.75' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e89' cx='132.72' cy='150.19' r='1.7pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2019-03-01 &amp;lt;br&amp;gt;Value: 99.95' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e90' cx='132.72' cy='149.47' r='1.7pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2019-03-01 &amp;lt;br&amp;gt;Value: 100' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e91' cx='140.86' cy='153.9' r='1.69pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2019-04-01 &amp;lt;br&amp;gt;Value: 99.73' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e92' cx='140.86' cy='125.06' r='1.75pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2019-04-01 &amp;lt;br&amp;gt;Value: 101.45' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e93' cx='140.86' cy='136.58' r='1.73pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2019-04-01 &amp;lt;br&amp;gt;Value: 100.76' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e94' cx='140.86' cy='157.2' r='1.68pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2019-04-01 &amp;lt;br&amp;gt;Value: 99.54' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e95' cx='140.86' cy='153.5' r='1.69pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2019-04-01 &amp;lt;br&amp;gt;Value: 99.76' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e96' cx='140.86' cy='125.32' r='1.75pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2019-04-01 &amp;lt;br&amp;gt;Value: 101.43' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e97' cx='140.86' cy='70.1' r='1.86pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2019-04-01 &amp;lt;br&amp;gt;Value: 104.72' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e98' cx='140.86' cy='150.5' r='1.7pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2019-04-01 &amp;lt;br&amp;gt;Value: 99.93' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e99' cx='140.86' cy='149.35' r='1.7pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2019-04-01 &amp;lt;br&amp;gt;Value: 100' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e100' cx='148.74' cy='149.52' r='1.7pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2019-05-01 &amp;lt;br&amp;gt;Value: 99.99' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e101' cx='148.74' cy='127.29' r='1.75pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2019-05-01 &amp;lt;br&amp;gt;Value: 101.32' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e102' cx='148.74' cy='138.67' r='1.72pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2019-05-01 &amp;lt;br&amp;gt;Value: 100.64' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e103' cx='148.74' cy='160.27' r='1.68pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2019-05-01 &amp;lt;br&amp;gt;Value: 99.35' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e104' cx='148.74' cy='149.51' r='1.7pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2019-05-01 &amp;lt;br&amp;gt;Value: 99.99' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e105' cx='148.74' cy='123.82' r='1.76pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2019-05-01 &amp;lt;br&amp;gt;Value: 101.52' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e106' cx='148.74' cy='71.37' r='1.86pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2019-05-01 &amp;lt;br&amp;gt;Value: 104.65' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e107' cx='148.74' cy='150.79' r='1.7pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2019-05-01 &amp;lt;br&amp;gt;Value: 99.92' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e108' cx='148.74' cy='152.58' r='1.69pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2019-05-01 &amp;lt;br&amp;gt;Value: 99.81' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e109' cx='156.87' cy='145.84' r='1.71pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2019-06-01 &amp;lt;br&amp;gt;Value: 100.21' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e110' cx='156.87' cy='130.31' r='1.74pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2019-06-01 &amp;lt;br&amp;gt;Value: 101.14' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e111' cx='156.87' cy='140.53' r='1.72pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2019-06-01 &amp;lt;br&amp;gt;Value: 100.53' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e112' cx='156.87' cy='164.39' r='1.67pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2019-06-01 &amp;lt;br&amp;gt;Value: 99.11' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e113' cx='156.87' cy='148.1' r='1.7pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2019-06-01 &amp;lt;br&amp;gt;Value: 100.08' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e114' cx='156.87' cy='125.42' r='1.75pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2019-06-01 &amp;lt;br&amp;gt;Value: 101.43' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e115' cx='156.87' cy='71.21' r='1.86pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2019-06-01 &amp;lt;br&amp;gt;Value: 104.66' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e116' cx='156.87' cy='151.89' r='1.7pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2019-06-01 &amp;lt;br&amp;gt;Value: 99.85' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e117' cx='156.87' cy='156.41' r='1.68pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2019-06-01 &amp;lt;br&amp;gt;Value: 99.58' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e118' cx='164.75' cy='142.59' r='1.72pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2019-07-01 &amp;lt;br&amp;gt;Value: 100.41' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e119' cx='164.75' cy='132.81' r='1.74pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2019-07-01 &amp;lt;br&amp;gt;Value: 100.99' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e120' cx='164.75' cy='140.61' r='1.72pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2019-07-01 &amp;lt;br&amp;gt;Value: 100.52' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e121' cx='164.75' cy='168.43' r='1.66pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2019-07-01 &amp;lt;br&amp;gt;Value: 98.87' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e122' cx='164.75' cy='147.39' r='1.71pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2019-07-01 &amp;lt;br&amp;gt;Value: 100.12' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e123' cx='164.75' cy='129.37' r='1.74pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2019-07-01 &amp;lt;br&amp;gt;Value: 101.19' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e124' cx='164.75' cy='73.97' r='1.85pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2019-07-01 &amp;lt;br&amp;gt;Value: 104.49' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e125' cx='164.75' cy='153.88' r='1.69pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2019-07-01 &amp;lt;br&amp;gt;Value: 99.73' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e126' cx='164.75' cy='159.98' r='1.68pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2019-07-01 &amp;lt;br&amp;gt;Value: 99.37' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e127' cx='172.89' cy='140.98' r='1.72pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2019-08-01 &amp;lt;br&amp;gt;Value: 100.5' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e128' cx='172.89' cy='134.39' r='1.73pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2019-08-01 &amp;lt;br&amp;gt;Value: 100.89' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e129' cx='172.89' cy='142.41' r='1.72pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2019-08-01 &amp;lt;br&amp;gt;Value: 100.42' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e130' cx='172.89' cy='172.12' r='1.65pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2019-08-01 &amp;lt;br&amp;gt;Value: 98.65' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e131' cx='172.89' cy='150.64' r='1.7pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2019-08-01 &amp;lt;br&amp;gt;Value: 99.93' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e132' cx='172.89' cy='134.42' r='1.73pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2019-08-01 &amp;lt;br&amp;gt;Value: 100.89' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e133' cx='172.89' cy='76.78' r='1.85pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2019-08-01 &amp;lt;br&amp;gt;Value: 104.33' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e134' cx='172.89' cy='155.01' r='1.69pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2019-08-01 &amp;lt;br&amp;gt;Value: 99.67' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e135' cx='172.89' cy='161.33' r='1.67pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2019-08-01 &amp;lt;br&amp;gt;Value: 99.29' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e136' cx='181.03' cy='139.43' r='1.72pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2019-09-01 &amp;lt;br&amp;gt;Value: 100.59' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e137' cx='181.03' cy='134.39' r='1.73pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2019-09-01 &amp;lt;br&amp;gt;Value: 100.89' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e138' cx='181.03' cy='143.16' r='1.71pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2019-09-01 &amp;lt;br&amp;gt;Value: 100.37' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e139' cx='181.03' cy='174.83' r='1.64pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2019-09-01 &amp;lt;br&amp;gt;Value: 98.49' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e140' cx='181.03' cy='151.39' r='1.7pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2019-09-01 &amp;lt;br&amp;gt;Value: 99.88' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e141' cx='181.03' cy='134.42' r='1.73pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2019-09-01 &amp;lt;br&amp;gt;Value: 100.89' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e142' cx='181.03' cy='75.22' r='1.85pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2019-09-01 &amp;lt;br&amp;gt;Value: 104.42' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e143' cx='181.03' cy='157.37' r='1.68pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2019-09-01 &amp;lt;br&amp;gt;Value: 99.53' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e144' cx='181.03' cy='157.52' r='1.68pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2019-09-01 &amp;lt;br&amp;gt;Value: 99.52' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e145' cx='188.9' cy='139.42' r='1.72pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2019-10-01 &amp;lt;br&amp;gt;Value: 100.6' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e146' cx='188.9' cy='134.25' r='1.73pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2019-10-01 &amp;lt;br&amp;gt;Value: 100.9' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e147' cx='188.9' cy='142.81' r='1.72pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2019-10-01 &amp;lt;br&amp;gt;Value: 100.39' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e148' cx='188.9' cy='173.33' r='1.64pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2019-10-01 &amp;lt;br&amp;gt;Value: 98.58' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e149' cx='188.9' cy='149.67' r='1.7pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2019-10-01 &amp;lt;br&amp;gt;Value: 99.98' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e150' cx='188.9' cy='130.96' r='1.74pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2019-10-01 &amp;lt;br&amp;gt;Value: 101.1' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e151' cx='188.9' cy='71.8' r='1.86pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2019-10-01 &amp;lt;br&amp;gt;Value: 104.62' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e152' cx='188.9' cy='160.01' r='1.68pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2019-10-01 &amp;lt;br&amp;gt;Value: 99.37' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e153' cx='188.9' cy='151.9' r='1.7pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2019-10-01 &amp;lt;br&amp;gt;Value: 99.85' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e154' cx='197.04' cy='141.43' r='1.72pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2019-11-01 &amp;lt;br&amp;gt;Value: 100.48' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e155' cx='197.04' cy='132.58' r='1.74pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2019-11-01 &amp;lt;br&amp;gt;Value: 101' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e156' cx='197.04' cy='141.93' r='1.72pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2019-11-01 &amp;lt;br&amp;gt;Value: 100.45' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e157' cx='197.04' cy='168.43' r='1.66pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2019-11-01 &amp;lt;br&amp;gt;Value: 98.87' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e158' cx='197.04' cy='144.4' r='1.71pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2019-11-01 &amp;lt;br&amp;gt;Value: 100.3' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e159' cx='197.04' cy='126.38' r='1.75pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2019-11-01 &amp;lt;br&amp;gt;Value: 101.37' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e160' cx='197.04' cy='67.86' r='1.86pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2019-11-01 &amp;lt;br&amp;gt;Value: 104.86' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e161' cx='197.04' cy='160.37' r='1.68pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2019-11-01 &amp;lt;br&amp;gt;Value: 99.35' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e162' cx='197.04' cy='146.85' r='1.71pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2019-11-01 &amp;lt;br&amp;gt;Value: 100.15' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e163' cx='204.92' cy='146.83' r='1.71pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2019-12-01 &amp;lt;br&amp;gt;Value: 100.15' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e164' cx='204.92' cy='132.48' r='1.74pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2019-12-01 &amp;lt;br&amp;gt;Value: 101.01' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e165' cx='204.92' cy='139.35' r='1.72pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2019-12-01 &amp;lt;br&amp;gt;Value: 100.6' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e166' cx='204.92' cy='165.09' r='1.66pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2019-12-01 &amp;lt;br&amp;gt;Value: 99.07' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e167' cx='204.92' cy='138.5' r='1.72pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2019-12-01 &amp;lt;br&amp;gt;Value: 100.65' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e168' cx='204.92' cy='122.5' r='1.76pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2019-12-01 &amp;lt;br&amp;gt;Value: 101.6' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e169' cx='204.92' cy='65.99' r='1.87pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2019-12-01 &amp;lt;br&amp;gt;Value: 104.97' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e170' cx='204.92' cy='161.34' r='1.67pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2019-12-01 &amp;lt;br&amp;gt;Value: 99.29' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e171' cx='204.92' cy='145.29' r='1.71pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2019-12-01 &amp;lt;br&amp;gt;Value: 100.25' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e172' cx='213.06' cy='151.16' r='1.7pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2020-01-01 &amp;lt;br&amp;gt;Value: 99.9' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e173' cx='213.06' cy='134.1' r='1.73pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2020-01-01 &amp;lt;br&amp;gt;Value: 100.91' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e174' cx='213.06' cy='140.65' r='1.72pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2020-01-01 &amp;lt;br&amp;gt;Value: 100.52' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e175' cx='213.06' cy='167.45' r='1.66pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2020-01-01 &amp;lt;br&amp;gt;Value: 98.93' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e176' cx='213.06' cy='136.4' r='1.73pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2020-01-01 &amp;lt;br&amp;gt;Value: 100.77' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e177' cx='213.06' cy='122.52' r='1.76pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2020-01-01 &amp;lt;br&amp;gt;Value: 101.6' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e178' cx='213.06' cy='72.18' r='1.86pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2020-01-01 &amp;lt;br&amp;gt;Value: 104.6' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e179' cx='213.06' cy='163.1' r='1.67pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2020-01-01 &amp;lt;br&amp;gt;Value: 99.18' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e180' cx='213.06' cy='150.28' r='1.7pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2020-01-01 &amp;lt;br&amp;gt;Value: 99.95' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e181' cx='221.19' cy='158.86' r='1.68pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2020-02-01 &amp;lt;br&amp;gt;Value: 99.44' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e182' cx='221.19' cy='140.58' r='1.72pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2020-02-01 &amp;lt;br&amp;gt;Value: 100.53' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e183' cx='221.19' cy='150.49' r='1.7pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2020-02-01 &amp;lt;br&amp;gt;Value: 99.94' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e184' cx='221.19' cy='179.81' r='1.63pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2020-02-01 &amp;lt;br&amp;gt;Value: 98.19' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e185' cx='221.19' cy='142.48' r='1.72pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2020-02-01 &amp;lt;br&amp;gt;Value: 100.41' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e186' cx='221.19' cy='129.82' r='1.74pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2020-02-01 &amp;lt;br&amp;gt;Value: 101.17' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e187' cx='221.19' cy='86.47' r='1.83pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2020-02-01 &amp;lt;br&amp;gt;Value: 103.75' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e188' cx='221.19' cy='166.1' r='1.66pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2020-02-01 &amp;lt;br&amp;gt;Value: 99.01' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e189' cx='221.19' cy='167.53' r='1.66pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2020-02-01 &amp;lt;br&amp;gt;Value: 98.92' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e190' cx='228.81' cy='174.27' r='1.64pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2020-03-01 &amp;lt;br&amp;gt;Value: 98.52' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e191' cx='228.81' cy='154.18' r='1.69pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2020-03-01 &amp;lt;br&amp;gt;Value: 99.72' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e192' cx='228.81' cy='166.34' r='1.66pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2020-03-01 &amp;lt;br&amp;gt;Value: 98.99' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e193' cx='228.81' cy='202.4' r='1.57pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2020-03-01 &amp;lt;br&amp;gt;Value: 96.84' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e194' cx='228.81' cy='160.62' r='1.68pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2020-03-01 &amp;lt;br&amp;gt;Value: 99.33' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e195' cx='228.81' cy='146.82' r='1.71pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2020-03-01 &amp;lt;br&amp;gt;Value: 100.15' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e196' cx='228.81' cy='97.91' r='1.81pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2020-03-01 &amp;lt;br&amp;gt;Value: 103.07' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e197' cx='228.81' cy='173.06' r='1.65pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2020-03-01 &amp;lt;br&amp;gt;Value: 98.59' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e198' cx='228.81' cy='191.56' r='1.6pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2020-03-01 &amp;lt;br&amp;gt;Value: 97.49' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e199' cx='236.95' cy='188.77' r='1.61pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2020-04-01 &amp;lt;br&amp;gt;Value: 97.66' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e200' cx='236.95' cy='167.51' r='1.66pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2020-04-01 &amp;lt;br&amp;gt;Value: 98.92' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e201' cx='236.95' cy='174.01' r='1.64pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2020-04-01 &amp;lt;br&amp;gt;Value: 98.53' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e202' cx='236.95' cy='222.8' r='1.51pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2020-04-01 &amp;lt;br&amp;gt;Value: 95.63' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e203' cx='236.95' cy='186.81' r='1.61pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2020-04-01 &amp;lt;br&amp;gt;Value: 97.77' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e204' cx='236.95' cy='165.32' r='1.66pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2020-04-01 &amp;lt;br&amp;gt;Value: 99.05' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e205' cx='236.95' cy='112.44' r='1.78pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2020-04-01 &amp;lt;br&amp;gt;Value: 102.2' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e206' cx='236.95' cy='180.25' r='1.63pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2020-04-01 &amp;lt;br&amp;gt;Value: 98.16' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e207' cx='236.95' cy='206.18' r='1.56pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2020-04-01 &amp;lt;br&amp;gt;Value: 96.62' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e208' cx='244.82' cy='186.89' r='1.61pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2020-05-01 &amp;lt;br&amp;gt;Value: 97.77' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e209' cx='244.82' cy='169.1' r='1.65pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2020-05-01 &amp;lt;br&amp;gt;Value: 98.83' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e210' cx='244.82' cy='171.69' r='1.65pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2020-05-01 &amp;lt;br&amp;gt;Value: 98.67' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e211' cx='244.82' cy='226.66' r='1.49pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2020-05-01 &amp;lt;br&amp;gt;Value: 95.4' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e212' cx='244.82' cy='199.65' r='1.58pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2020-05-01 &amp;lt;br&amp;gt;Value: 97.01' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e213' cx='244.82' cy='173.84' r='1.64pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2020-05-01 &amp;lt;br&amp;gt;Value: 98.55' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e214' cx='244.82' cy='122.89' r='1.76pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2020-05-01 &amp;lt;br&amp;gt;Value: 101.58' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e215' cx='244.82' cy='178.19' r='1.63pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2020-05-01 &amp;lt;br&amp;gt;Value: 98.29' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e216' cx='244.82' cy='205.52' r='1.56pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2020-05-01 &amp;lt;br&amp;gt;Value: 96.66' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e217' cx='252.96' cy='175.8' r='1.64pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2020-06-01 &amp;lt;br&amp;gt;Value: 98.43' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e218' cx='252.96' cy='162.37' r='1.67pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2020-06-01 &amp;lt;br&amp;gt;Value: 99.23' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e219' cx='252.96' cy='160.88' r='1.67pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2020-06-01 &amp;lt;br&amp;gt;Value: 99.32' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e220' cx='252.96' cy='219.64' r='1.52pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2020-06-01 &amp;lt;br&amp;gt;Value: 95.82' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e221' cx='252.96' cy='197.29' r='1.58pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2020-06-01 &amp;lt;br&amp;gt;Value: 97.15' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e222' cx='252.96' cy='174.69' r='1.64pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2020-06-01 &amp;lt;br&amp;gt;Value: 98.49' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e223' cx='252.96' cy='127.09' r='1.75pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2020-06-01 &amp;lt;br&amp;gt;Value: 101.33' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e224' cx='252.96' cy='175.18' r='1.64pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2020-06-01 &amp;lt;br&amp;gt;Value: 98.47' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e225' cx='252.96' cy='198.07' r='1.58pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2020-06-01 &amp;lt;br&amp;gt;Value: 97.1' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e226' cx='260.84' cy='167.52' r='1.66pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2020-07-01 &amp;lt;br&amp;gt;Value: 98.92' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e227' cx='260.84' cy='155.5' r='1.69pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2020-07-01 &amp;lt;br&amp;gt;Value: 99.64' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e228' cx='260.84' cy='154.1' r='1.69pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2020-07-01 &amp;lt;br&amp;gt;Value: 99.72' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e229' cx='260.84' cy='210.81' r='1.54pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2020-07-01 &amp;lt;br&amp;gt;Value: 96.34' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e230' cx='260.84' cy='188.92' r='1.6pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2020-07-01 &amp;lt;br&amp;gt;Value: 97.65' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e231' cx='260.84' cy='174.4' r='1.64pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2020-07-01 &amp;lt;br&amp;gt;Value: 98.51' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e232' cx='260.84' cy='120.77' r='1.76pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2020-07-01 &amp;lt;br&amp;gt;Value: 101.71' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e233' cx='260.84' cy='176.34' r='1.64pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2020-07-01 &amp;lt;br&amp;gt;Value: 98.4' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e234' cx='260.84' cy='190.71' r='1.6pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2020-07-01 &amp;lt;br&amp;gt;Value: 97.54' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e235' cx='268.98' cy='164.76' r='1.67pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2020-08-01 &amp;lt;br&amp;gt;Value: 99.09' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e236' cx='268.98' cy='150.61' r='1.7pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2020-08-01 &amp;lt;br&amp;gt;Value: 99.93' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e237' cx='268.98' cy='150.36' r='1.7pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2020-08-01 &amp;lt;br&amp;gt;Value: 99.94' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e238' cx='268.98' cy='203.27' r='1.57pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2020-08-01 &amp;lt;br&amp;gt;Value: 96.79' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e239' cx='268.98' cy='185.38' r='1.61pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2020-08-01 &amp;lt;br&amp;gt;Value: 97.86' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e240' cx='268.98' cy='170.96' r='1.65pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2020-08-01 &amp;lt;br&amp;gt;Value: 98.72' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e241' cx='268.98' cy='111.41' r='1.78pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2020-08-01 &amp;lt;br&amp;gt;Value: 102.26' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e242' cx='268.98' cy='175.07' r='1.64pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2020-08-01 &amp;lt;br&amp;gt;Value: 98.47' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e243' cx='268.98' cy='185.86' r='1.61pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2020-08-01 &amp;lt;br&amp;gt;Value: 97.83' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e244' cx='277.11' cy='166.39' r='1.66pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2020-09-01 &amp;lt;br&amp;gt;Value: 98.99' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e245' cx='277.11' cy='149.66' r='1.7pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2020-09-01 &amp;lt;br&amp;gt;Value: 99.98' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e246' cx='277.11' cy='149.96' r='1.7pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2020-09-01 &amp;lt;br&amp;gt;Value: 99.97' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e247' cx='277.11' cy='196.86' r='1.58pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2020-09-01 &amp;lt;br&amp;gt;Value: 97.17' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e248' cx='277.11' cy='188.39' r='1.61pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2020-09-01 &amp;lt;br&amp;gt;Value: 97.68' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e249' cx='277.11' cy='165.63' r='1.66pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2020-09-01 &amp;lt;br&amp;gt;Value: 99.03' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e250' cx='277.11' cy='98.61' r='1.81pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2020-09-01 &amp;lt;br&amp;gt;Value: 103.03' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e251' cx='277.11' cy='163.44' r='1.67pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2020-09-01 &amp;lt;br&amp;gt;Value: 99.16' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e252' cx='277.11' cy='182.98' r='1.62pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2020-09-01 &amp;lt;br&amp;gt;Value: 98' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e253' cx='284.99' cy='172.55' r='1.65pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2020-10-01 &amp;lt;br&amp;gt;Value: 98.62' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e254' cx='284.99' cy='152.52' r='1.69pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2020-10-01 &amp;lt;br&amp;gt;Value: 99.81' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e255' cx='284.99' cy='154.69' r='1.69pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2020-10-01 &amp;lt;br&amp;gt;Value: 99.69' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e256' cx='284.99' cy='194.3' r='1.59pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2020-10-01 &amp;lt;br&amp;gt;Value: 97.33' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e257' cx='284.99' cy='194.1' r='1.59pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2020-10-01 &amp;lt;br&amp;gt;Value: 97.34' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e258' cx='284.99' cy='163.1' r='1.67pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2020-10-01 &amp;lt;br&amp;gt;Value: 99.18' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e259' cx='284.99' cy='88.01' r='1.83pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2020-10-01 &amp;lt;br&amp;gt;Value: 103.66' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e260' cx='284.99' cy='148.81' r='1.7pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2020-10-01 &amp;lt;br&amp;gt;Value: 100.04' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e261' cx='284.99' cy='173.88' r='1.64pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2020-10-01 &amp;lt;br&amp;gt;Value: 98.54' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e262' cx='293.13' cy='177.4' r='1.63pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2020-11-01 &amp;lt;br&amp;gt;Value: 98.33' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e263' cx='293.13' cy='156.24' r='1.69pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2020-11-01 &amp;lt;br&amp;gt;Value: 99.59' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e264' cx='293.13' cy='157.45' r='1.68pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2020-11-01 &amp;lt;br&amp;gt;Value: 99.52' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e265' cx='293.13' cy='195.33' r='1.59pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2020-11-01 &amp;lt;br&amp;gt;Value: 97.27' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e266' cx='293.13' cy='195.75' r='1.59pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2020-11-01 &amp;lt;br&amp;gt;Value: 97.24' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e267' cx='293.13' cy='163.83' r='1.67pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2020-11-01 &amp;lt;br&amp;gt;Value: 99.14' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e268' cx='293.13' cy='81.01' r='1.84pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2020-11-01 &amp;lt;br&amp;gt;Value: 104.07' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e269' cx='293.13' cy='138.59' r='1.72pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2020-11-01 &amp;lt;br&amp;gt;Value: 100.64' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e270' cx='293.13' cy='166.78' r='1.66pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2020-11-01 &amp;lt;br&amp;gt;Value: 98.97' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e271' cx='301.01' cy='174.64' r='1.64pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2020-12-01 &amp;lt;br&amp;gt;Value: 98.5' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e272' cx='301.01' cy='158.78' r='1.68pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2020-12-01 &amp;lt;br&amp;gt;Value: 99.44' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e273' cx='301.01' cy='152.31' r='1.69pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2020-12-01 &amp;lt;br&amp;gt;Value: 99.83' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e274' cx='301.01' cy='197.94' r='1.58pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2020-12-01 &amp;lt;br&amp;gt;Value: 97.11' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e275' cx='301.01' cy='188.79' r='1.61pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2020-12-01 &amp;lt;br&amp;gt;Value: 97.66' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e276' cx='301.01' cy='163.78' r='1.67pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2020-12-01 &amp;lt;br&amp;gt;Value: 99.14' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e277' cx='301.01' cy='78.63' r='1.84pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2020-12-01 &amp;lt;br&amp;gt;Value: 104.21' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e278' cx='301.01' cy='133.72' r='1.73pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2020-12-01 &amp;lt;br&amp;gt;Value: 100.93' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e279' cx='301.01' cy='165.88' r='1.66pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2020-12-01 &amp;lt;br&amp;gt;Value: 99.02' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e280' cx='309.14' cy='173.25' r='1.64pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2021-01-01 &amp;lt;br&amp;gt;Value: 98.58' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e281' cx='309.14' cy='160.41' r='1.68pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2021-01-01 &amp;lt;br&amp;gt;Value: 99.34' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e282' cx='309.14' cy='146.07' r='1.71pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2021-01-01 &amp;lt;br&amp;gt;Value: 100.2' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e283' cx='309.14' cy='197.29' r='1.58pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2021-01-01 &amp;lt;br&amp;gt;Value: 97.15' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e284' cx='309.14' cy='178.81' r='1.63pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2021-01-01 &amp;lt;br&amp;gt;Value: 98.25' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e285' cx='309.14' cy='163.68' r='1.67pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2021-01-01 &amp;lt;br&amp;gt;Value: 99.15' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e286' cx='309.14' cy='75.52' r='1.85pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2021-01-01 &amp;lt;br&amp;gt;Value: 104.4' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e287' cx='309.14' cy='133.16' r='1.74pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2021-01-01 &amp;lt;br&amp;gt;Value: 100.97' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e288' cx='309.14' cy='162.85' r='1.67pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2021-01-01 &amp;lt;br&amp;gt;Value: 99.2' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e289' cx='317.28' cy='169.39' r='1.65pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2021-02-01 &amp;lt;br&amp;gt;Value: 98.81' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e290' cx='317.28' cy='157.67' r='1.68pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2021-02-01 &amp;lt;br&amp;gt;Value: 99.51' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e291' cx='317.28' cy='139.68' r='1.72pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2021-02-01 &amp;lt;br&amp;gt;Value: 100.58' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e292' cx='317.28' cy='190.18' r='1.6pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2021-02-01 &amp;lt;br&amp;gt;Value: 97.57' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e293' cx='317.28' cy='160.7' r='1.67pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2021-02-01 &amp;lt;br&amp;gt;Value: 99.33' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e294' cx='317.28' cy='161.3' r='1.67pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2021-02-01 &amp;lt;br&amp;gt;Value: 99.29' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e295' cx='317.28' cy='73.07' r='1.85pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2021-02-01 &amp;lt;br&amp;gt;Value: 104.55' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e296' cx='317.28' cy='131.09' r='1.74pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2021-02-01 &amp;lt;br&amp;gt;Value: 101.09' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e297' cx='317.28' cy='157.67' r='1.68pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2021-02-01 &amp;lt;br&amp;gt;Value: 99.51' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e298' cx='324.63' cy='159.48' r='1.68pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2021-03-01 &amp;lt;br&amp;gt;Value: 99.4' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e299' cx='324.63' cy='152.41' r='1.69pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2021-03-01 &amp;lt;br&amp;gt;Value: 99.82' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e300' cx='324.63' cy='132.68' r='1.74pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2021-03-01 &amp;lt;br&amp;gt;Value: 101' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e301' cx='324.63' cy='182.69' r='1.62pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2021-03-01 &amp;lt;br&amp;gt;Value: 98.02' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e302' cx='324.63' cy='138.61' r='1.72pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2021-03-01 &amp;lt;br&amp;gt;Value: 100.64' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e303' cx='324.63' cy='155.06' r='1.69pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2021-03-01 &amp;lt;br&amp;gt;Value: 99.66' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e304' cx='324.63' cy='78.58' r='1.84pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2021-03-01 &amp;lt;br&amp;gt;Value: 104.22' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e305' cx='324.63' cy='127.06' r='1.75pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2021-03-01 &amp;lt;br&amp;gt;Value: 101.33' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e306' cx='324.63' cy='151.04' r='1.7pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2021-03-01 &amp;lt;br&amp;gt;Value: 99.9' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e307' cx='332.77' cy='147.78' r='1.7pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2021-04-01 &amp;lt;br&amp;gt;Value: 100.1' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e308' cx='332.77' cy='146.79' r='1.71pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2021-04-01 &amp;lt;br&amp;gt;Value: 100.16' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e309' cx='332.77' cy='122.44' r='1.76pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2021-04-01 &amp;lt;br&amp;gt;Value: 101.61' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e310' cx='332.77' cy='179.04' r='1.63pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2021-04-01 &amp;lt;br&amp;gt;Value: 98.24' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e311' cx='332.77' cy='121.22' r='1.76pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2021-04-01 &amp;lt;br&amp;gt;Value: 101.68' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e312' cx='332.77' cy='150.89' r='1.7pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2021-04-01 &amp;lt;br&amp;gt;Value: 99.91' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e313' cx='332.77' cy='84.09' r='1.83pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2021-04-01 &amp;lt;br&amp;gt;Value: 103.89' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e314' cx='332.77' cy='124.2' r='1.75pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2021-04-01 &amp;lt;br&amp;gt;Value: 101.5' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e315' cx='332.77' cy='144.28' r='1.71pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2021-04-01 &amp;lt;br&amp;gt;Value: 100.31' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e316' cx='340.65' cy='133.4' r='1.74pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2021-05-01 &amp;lt;br&amp;gt;Value: 100.95' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e317' cx='340.65' cy='137.73' r='1.73pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2021-05-01 &amp;lt;br&amp;gt;Value: 100.7' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e318' cx='340.65' cy='109.34' r='1.78pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2021-05-01 &amp;lt;br&amp;gt;Value: 102.39' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e319' cx='340.65' cy='176.8' r='1.64pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2021-05-01 &amp;lt;br&amp;gt;Value: 98.37' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e320' cx='340.65' cy='107.94' r='1.79pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2021-05-01 &amp;lt;br&amp;gt;Value: 102.47' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e321' cx='340.65' cy='151.9' r='1.7pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2021-05-01 &amp;lt;br&amp;gt;Value: 99.85' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e322' cx='340.65' cy='87.83' r='1.83pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2021-05-01 &amp;lt;br&amp;gt;Value: 103.67' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e323' cx='340.65' cy='127.51' r='1.75pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2021-05-01 &amp;lt;br&amp;gt;Value: 101.3' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e324' cx='340.65' cy='138.15' r='1.73pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2021-05-01 &amp;lt;br&amp;gt;Value: 100.67' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e325' cx='348.79' cy='122.94' r='1.76pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2021-06-01 &amp;lt;br&amp;gt;Value: 101.58' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e326' cx='348.79' cy='129.76' r='1.74pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2021-06-01 &amp;lt;br&amp;gt;Value: 101.17' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e327' cx='348.79' cy='99.46' r='1.8pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2021-06-01 &amp;lt;br&amp;gt;Value: 102.97' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e328' cx='348.79' cy='173.41' r='1.64pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2021-06-01 &amp;lt;br&amp;gt;Value: 98.57' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e329' cx='348.79' cy='101.97' r='1.8pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2021-06-01 &amp;lt;br&amp;gt;Value: 102.82' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e330' cx='348.79' cy='155.47' r='1.69pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2021-06-01 &amp;lt;br&amp;gt;Value: 99.64' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e331' cx='348.79' cy='92.72' r='1.82pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2021-06-01 &amp;lt;br&amp;gt;Value: 103.38' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e332' cx='348.79' cy='133.3' r='1.74pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2021-06-01 &amp;lt;br&amp;gt;Value: 100.96' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e333' cx='348.79' cy='135.32' r='1.73pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2021-06-01 &amp;lt;br&amp;gt;Value: 100.84' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e334' cx='356.66' cy='123.32' r='1.76pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2021-07-01 &amp;lt;br&amp;gt;Value: 101.55' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e335' cx='356.66' cy='127.41' r='1.75pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2021-07-01 &amp;lt;br&amp;gt;Value: 101.31' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e336' cx='356.66' cy='96.58' r='1.81pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2021-07-01 &amp;lt;br&amp;gt;Value: 103.15' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e337' cx='356.66' cy='171.2' r='1.65pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2021-07-01 &amp;lt;br&amp;gt;Value: 98.7' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e338' cx='356.66' cy='102.91' r='1.8pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2021-07-01 &amp;lt;br&amp;gt;Value: 102.77' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e339' cx='356.66' cy='163.45' r='1.67pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2021-07-01 &amp;lt;br&amp;gt;Value: 99.16' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e340' cx='356.66' cy='100.87' r='1.8pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2021-07-01 &amp;lt;br&amp;gt;Value: 102.89' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e341' cx='356.66' cy='137.37' r='1.73pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2021-07-01 &amp;lt;br&amp;gt;Value: 100.72' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e342' cx='356.66' cy='138.67' r='1.72pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2021-07-01 &amp;lt;br&amp;gt;Value: 100.64' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e343' cx='364.8' cy='127.97' r='1.75pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2021-08-01 &amp;lt;br&amp;gt;Value: 101.28' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e344' cx='364.8' cy='127.61' r='1.75pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2021-08-01 &amp;lt;br&amp;gt;Value: 101.3' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e345' cx='364.8' cy='98.66' r='1.81pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2021-08-01 &amp;lt;br&amp;gt;Value: 103.02' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e346' cx='364.8' cy='169.99' r='1.65pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2021-08-01 &amp;lt;br&amp;gt;Value: 98.77' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e347' cx='364.8' cy='111.65' r='1.78pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2021-08-01 &amp;lt;br&amp;gt;Value: 102.25' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e348' cx='364.8' cy='173.15' r='1.65pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2021-08-01 &amp;lt;br&amp;gt;Value: 98.59' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e349' cx='364.8' cy='103.09' r='1.8pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2021-08-01 &amp;lt;br&amp;gt;Value: 102.76' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e350' cx='364.8' cy='140.72' r='1.72pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2021-08-01 &amp;lt;br&amp;gt;Value: 100.52' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e351' cx='364.8' cy='141.01' r='1.72pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2021-08-01 &amp;lt;br&amp;gt;Value: 100.5' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e352' cx='372.94' cy='130.42' r='1.74pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2021-09-01 &amp;lt;br&amp;gt;Value: 101.13' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e353' cx='372.94' cy='127.57' r='1.75pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2021-09-01 &amp;lt;br&amp;gt;Value: 101.3' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e354' cx='372.94' cy='100.27' r='1.8pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2021-09-01 &amp;lt;br&amp;gt;Value: 102.93' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e355' cx='372.94' cy='168.4' r='1.66pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2021-09-01 &amp;lt;br&amp;gt;Value: 98.87' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e356' cx='372.94' cy='126.15' r='1.75pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2021-09-01 &amp;lt;br&amp;gt;Value: 101.39' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e357' cx='372.94' cy='178.24' r='1.63pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2021-09-01 &amp;lt;br&amp;gt;Value: 98.28' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e358' cx='372.94' cy='98.87' r='1.81pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2021-09-01 &amp;lt;br&amp;gt;Value: 103.01' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e359' cx='372.94' cy='141.71' r='1.72pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2021-09-01 &amp;lt;br&amp;gt;Value: 100.46' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e360' cx='372.94' cy='139.92' r='1.72pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2021-09-01 &amp;lt;br&amp;gt;Value: 100.56' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e361' cx='380.82' cy='135.62' r='1.73pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2021-10-01 &amp;lt;br&amp;gt;Value: 100.82' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e362' cx='380.82' cy='130.71' r='1.74pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2021-10-01 &amp;lt;br&amp;gt;Value: 101.11' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e363' cx='380.82' cy='102.15' r='1.8pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2021-10-01 &amp;lt;br&amp;gt;Value: 102.81' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e364' cx='380.82' cy='166.85' r='1.66pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2021-10-01 &amp;lt;br&amp;gt;Value: 98.96' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e365' cx='380.82' cy='138.16' r='1.73pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2021-10-01 &amp;lt;br&amp;gt;Value: 100.67' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e366' cx='380.82' cy='181.42' r='1.62pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2021-10-01 &amp;lt;br&amp;gt;Value: 98.09' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e367' cx='380.82' cy='95.88' r='1.81pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2021-10-01 &amp;lt;br&amp;gt;Value: 103.19' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e368' cx='380.82' cy='142.24' r='1.72pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2021-10-01 &amp;lt;br&amp;gt;Value: 100.43' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e369' cx='380.82' cy='137.12' r='1.73pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2021-10-01 &amp;lt;br&amp;gt;Value: 100.73' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e370' cx='388.95' cy='141.08' r='1.72pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2021-11-01 &amp;lt;br&amp;gt;Value: 100.5' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e371' cx='388.95' cy='136.02' r='1.73pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2021-11-01 &amp;lt;br&amp;gt;Value: 100.8' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e372' cx='388.95' cy='106.91' r='1.79pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2021-11-01 &amp;lt;br&amp;gt;Value: 102.53' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e373' cx='388.95' cy='166.88' r='1.66pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2021-11-01 &amp;lt;br&amp;gt;Value: 98.96' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e374' cx='388.95' cy='143.73' r='1.71pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2021-11-01 &amp;lt;br&amp;gt;Value: 100.34' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e375' cx='388.95' cy='184.19' r='1.62pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2021-11-01 &amp;lt;br&amp;gt;Value: 97.93' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e376' cx='388.95' cy='93.31' r='1.82pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2021-11-01 &amp;lt;br&amp;gt;Value: 103.34' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e377' cx='388.95' cy='142.96' r='1.72pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2021-11-01 &amp;lt;br&amp;gt;Value: 100.38' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e378' cx='388.95' cy='136.31' r='1.73pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2021-11-01 &amp;lt;br&amp;gt;Value: 100.78' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e379' cx='396.83' cy='147.56' r='1.7pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2021-12-01 &amp;lt;br&amp;gt;Value: 100.11' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e380' cx='396.83' cy='140.77' r='1.72pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2021-12-01 &amp;lt;br&amp;gt;Value: 100.51' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e381' cx='396.83' cy='114.44' r='1.77pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2021-12-01 &amp;lt;br&amp;gt;Value: 102.08' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e382' cx='396.83' cy='169.38' r='1.65pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2021-12-01 &amp;lt;br&amp;gt;Value: 98.81' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e383' cx='396.83' cy='151.85' r='1.7pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2021-12-01 &amp;lt;br&amp;gt;Value: 99.85' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e384' cx='396.83' cy='185.91' r='1.61pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2021-12-01 &amp;lt;br&amp;gt;Value: 97.83' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e385' cx='396.83' cy='90.54' r='1.82pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2021-12-01 &amp;lt;br&amp;gt;Value: 103.51' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e386' cx='396.83' cy='144.62' r='1.71pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2021-12-01 &amp;lt;br&amp;gt;Value: 100.28' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e387' cx='396.83' cy='138.42' r='1.72pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2021-12-01 &amp;lt;br&amp;gt;Value: 100.65' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e388' cx='404.97' cy='155.53' r='1.69pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2022-01-01 &amp;lt;br&amp;gt;Value: 99.64' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e389' cx='404.97' cy='144.62' r='1.71pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2022-01-01 &amp;lt;br&amp;gt;Value: 100.29' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e390' cx='404.97' cy='128.41' r='1.75pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2022-01-01 &amp;lt;br&amp;gt;Value: 101.25' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e391' cx='404.97' cy='175.04' r='1.64pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2022-01-01 &amp;lt;br&amp;gt;Value: 98.47' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e392' cx='404.97' cy='169.1' r='1.65pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2022-01-01 &amp;lt;br&amp;gt;Value: 98.83' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e393' cx='404.97' cy='189.92' r='1.6pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2022-01-01 &amp;lt;br&amp;gt;Value: 97.59' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e394' cx='404.97' cy='93.65' r='1.82pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2022-01-01 &amp;lt;br&amp;gt;Value: 103.32' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e395' cx='404.97' cy='147.41' r='1.71pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2022-01-01 &amp;lt;br&amp;gt;Value: 100.12' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e396' cx='404.97' cy='140.12' r='1.72pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2022-01-01 &amp;lt;br&amp;gt;Value: 100.55' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e397' cx='413.11' cy='168.47' r='1.66pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2022-02-01 &amp;lt;br&amp;gt;Value: 98.87' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e398' cx='413.11' cy='153' r='1.69pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2022-02-01 &amp;lt;br&amp;gt;Value: 99.79' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e399' cx='413.11' cy='147.31' r='1.71pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2022-02-01 &amp;lt;br&amp;gt;Value: 100.12' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e400' cx='413.11' cy='181.84' r='1.62pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2022-02-01 &amp;lt;br&amp;gt;Value: 98.07' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e401' cx='413.11' cy='194.75' r='1.59pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2022-02-01 &amp;lt;br&amp;gt;Value: 97.3' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e402' cx='413.11' cy='195.16' r='1.59pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2022-02-01 &amp;lt;br&amp;gt;Value: 97.28' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e403' cx='413.11' cy='116.45' r='1.77pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2022-02-01 &amp;lt;br&amp;gt;Value: 101.96' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e404' cx='413.11' cy='151.17' r='1.7pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2022-02-01 &amp;lt;br&amp;gt;Value: 99.9' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e405' cx='413.11' cy='141.34' r='1.72pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2022-02-01 &amp;lt;br&amp;gt;Value: 100.48' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e406' cx='420.46' cy='188.17' r='1.61pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2022-03-01 &amp;lt;br&amp;gt;Value: 97.69' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e407' cx='420.46' cy='167.08' r='1.66pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2022-03-01 &amp;lt;br&amp;gt;Value: 98.95' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e408' cx='420.46' cy='170.25' r='1.65pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2022-03-01 &amp;lt;br&amp;gt;Value: 98.76' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e409' cx='420.46' cy='187.84' r='1.61pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2022-03-01 &amp;lt;br&amp;gt;Value: 97.71' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e410' cx='420.46' cy='220.98' r='1.51pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2022-03-01 &amp;lt;br&amp;gt;Value: 95.74' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e411' cx='420.46' cy='199.21' r='1.58pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2022-03-01 &amp;lt;br&amp;gt;Value: 97.03' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e412' cx='420.46' cy='167.85' r='1.66pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2022-03-01 &amp;lt;br&amp;gt;Value: 98.9' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e413' cx='420.46' cy='156.42' r='1.68pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2022-03-01 &amp;lt;br&amp;gt;Value: 99.58' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e414' cx='420.46' cy='142' r='1.72pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2022-03-01 &amp;lt;br&amp;gt;Value: 100.44' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e415' cx='428.6' cy='198.55' r='1.58pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2022-04-01 &amp;lt;br&amp;gt;Value: 97.07' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e416' cx='428.6' cy='178.68' r='1.63pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2022-04-01 &amp;lt;br&amp;gt;Value: 98.26' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e417' cx='428.6' cy='182.02' r='1.62pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2022-04-01 &amp;lt;br&amp;gt;Value: 98.06' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e418' cx='428.6' cy='190.51' r='1.6pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2022-04-01 &amp;lt;br&amp;gt;Value: 97.55' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e419' cx='428.6' cy='243.07' r='1.44pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2022-04-01 &amp;lt;br&amp;gt;Value: 94.42' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e420' cx='428.6' cy='202.06' r='1.57pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2022-04-01 &amp;lt;br&amp;gt;Value: 96.86' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e421' cx='428.6' cy='234.66' r='1.47pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2022-04-01 &amp;lt;br&amp;gt;Value: 94.92' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e422' cx='428.6' cy='162.62' r='1.67pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2022-04-01 &amp;lt;br&amp;gt;Value: 99.21' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e423' cx='428.6' cy='144.1' r='1.71pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2022-04-01 &amp;lt;br&amp;gt;Value: 100.32' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e424' cx='436.47' cy='203.02' r='1.57pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2022-05-01 &amp;lt;br&amp;gt;Value: 96.81' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e425' cx='436.47' cy='185.75' r='1.61pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2022-05-01 &amp;lt;br&amp;gt;Value: 97.84' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e426' cx='436.47' cy='187.96' r='1.61pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2022-05-01 &amp;lt;br&amp;gt;Value: 97.7' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e427' cx='436.47' cy='191.97' r='1.6pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2022-05-01 &amp;lt;br&amp;gt;Value: 97.47' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e428' cx='436.47' cy='255.98' r='1.38pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2022-05-01 &amp;lt;br&amp;gt;Value: 93.65' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e429' cx='436.47' cy='209.05' r='1.55pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2022-05-01 &amp;lt;br&amp;gt;Value: 96.45' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e430' cx='436.47' cy='271.29' r='1.3pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2022-05-01 &amp;lt;br&amp;gt;Value: 92.74' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e431' cx='436.47' cy='170.47' r='1.65pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2022-05-01 &amp;lt;br&amp;gt;Value: 98.75' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e432' cx='436.47' cy='150.8' r='1.7pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2022-05-01 &amp;lt;br&amp;gt;Value: 99.92' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e433' cx='444.61' cy='206.13' r='1.56pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2022-06-01 &amp;lt;br&amp;gt;Value: 96.62' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e434' cx='444.61' cy='192.54' r='1.6pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2022-06-01 &amp;lt;br&amp;gt;Value: 97.43' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e435' cx='444.61' cy='193.65' r='1.59pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2022-06-01 &amp;lt;br&amp;gt;Value: 97.37' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e436' cx='444.61' cy='195.42' r='1.59pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2022-06-01 &amp;lt;br&amp;gt;Value: 97.26' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e437' cx='444.61' cy='262.77' r='1.35pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2022-06-01 &amp;lt;br&amp;gt;Value: 93.25' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e438' cx='444.61' cy='216.09' r='1.53pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2022-06-01 &amp;lt;br&amp;gt;Value: 96.03' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e439' cx='444.61' cy='281.97' r='1.23pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2022-06-01 &amp;lt;br&amp;gt;Value: 92.11' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e440' cx='444.61' cy='177.72' r='1.63pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2022-06-01 &amp;lt;br&amp;gt;Value: 98.31' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e441' cx='444.61' cy='162.8' r='1.67pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2022-06-01 &amp;lt;br&amp;gt;Value: 99.2' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e442' cx='452.49' cy='206.78' r='1.56pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2022-07-01 &amp;lt;br&amp;gt;Value: 96.58' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e443' cx='452.49' cy='200.54' r='1.57pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2022-07-01 &amp;lt;br&amp;gt;Value: 96.96' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e444' cx='452.49' cy='198.99' r='1.58pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2022-07-01 &amp;lt;br&amp;gt;Value: 97.05' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e445' cx='452.49' cy='198.49' r='1.58pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2022-07-01 &amp;lt;br&amp;gt;Value: 97.08' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e446' cx='452.49' cy='268.13' r='1.32pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2022-07-01 &amp;lt;br&amp;gt;Value: 92.93' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e447' cx='452.49' cy='216.63' r='1.53pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2022-07-01 &amp;lt;br&amp;gt;Value: 96' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e448' cx='452.49' cy='283.63' r='1.21pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2022-07-01 &amp;lt;br&amp;gt;Value: 92.01' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e449' cx='452.49' cy='182.81' r='1.62pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2022-07-01 &amp;lt;br&amp;gt;Value: 98.01' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e450' cx='452.49' cy='174.7' r='1.64pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2022-07-01 &amp;lt;br&amp;gt;Value: 98.49' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e451' cx='460.63' cy='205.86' r='1.56pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2022-08-01 &amp;lt;br&amp;gt;Value: 96.64' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e452' cx='460.63' cy='206.9' r='1.56pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2022-08-01 &amp;lt;br&amp;gt;Value: 96.58' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e453' cx='460.63' cy='200.09' r='1.57pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2022-08-01 &amp;lt;br&amp;gt;Value: 96.98' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e454' cx='460.63' cy='199.19' r='1.58pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2022-08-01 &amp;lt;br&amp;gt;Value: 97.04' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e455' cx='460.63' cy='277.13' r='1.26pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2022-08-01 &amp;lt;br&amp;gt;Value: 92.39' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e456' cx='460.63' cy='211.89' r='1.54pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2022-08-01 &amp;lt;br&amp;gt;Value: 96.28' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e457' cx='460.63' cy='283.36' r='1.21pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2022-08-01 &amp;lt;br&amp;gt;Value: 92.02' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e458' cx='460.63' cy='185.3' r='1.61pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2022-08-01 &amp;lt;br&amp;gt;Value: 97.86' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e459' cx='460.63' cy='178.59' r='1.63pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2022-08-01 &amp;lt;br&amp;gt;Value: 98.26' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e460' cx='468.76' cy='207.93' r='1.55pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2022-09-01 &amp;lt;br&amp;gt;Value: 96.52' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e461' cx='468.76' cy='213.71' r='1.53pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2022-09-01 &amp;lt;br&amp;gt;Value: 96.17' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e462' cx='468.76' cy='201.86' r='1.57pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2022-09-01 &amp;lt;br&amp;gt;Value: 96.88' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e463' cx='468.76' cy='201.78' r='1.57pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2022-09-01 &amp;lt;br&amp;gt;Value: 96.88' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e464' cx='468.76' cy='286.5' r='1.18pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2022-09-01 &amp;lt;br&amp;gt;Value: 91.84' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e465' cx='468.76' cy='207.24' r='1.55pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2022-09-01 &amp;lt;br&amp;gt;Value: 96.56' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e466' cx='468.76' cy='282.4' r='1.22pt' fill='#472D7B' fill-opacity='0.7' stroke='#472D7B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: China &amp;lt;br&amp;gt;Date: 2022-09-01 &amp;lt;br&amp;gt;Value: 92.08' data-id='China'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e467' cx='468.76' cy='184.61' r='1.62pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2022-09-01 &amp;lt;br&amp;gt;Value: 97.9' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e468' cx='468.76' cy='178.36' r='1.63pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2022-09-01 &amp;lt;br&amp;gt;Value: 98.28' data-id='South.Korea'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e469' cx='476.64' cy='208.59' r='1.55pt' fill='#3B528B' fill-opacity='0.7' stroke='#3B528B' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: France &amp;lt;br&amp;gt;Date: 2022-10-01 &amp;lt;br&amp;gt;Value: 96.48' data-id='France'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e470' cx='476.64' cy='218.03' r='1.52pt' fill='#2C728E' fill-opacity='0.7' stroke='#2C728E' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Germany &amp;lt;br&amp;gt;Date: 2022-10-01 &amp;lt;br&amp;gt;Value: 95.91' data-id='Germany'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e471' cx='476.64' cy='203.47' r='1.56pt' fill='#21908C' fill-opacity='0.7' stroke='#21908C' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Italy &amp;lt;br&amp;gt;Date: 2022-10-01 &amp;lt;br&amp;gt;Value: 96.78' data-id='Italy'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e472' cx='476.64' cy='205.26' r='1.56pt' fill='#27AD81' fill-opacity='0.7' stroke='#27AD81' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Japan &amp;lt;br&amp;gt;Date: 2022-10-01 &amp;lt;br&amp;gt;Value: 96.67' data-id='Japan'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e473' cx='476.64' cy='290.89' r='1.07pt' fill='#AADC32' fill-opacity='0.7' stroke='#AADC32' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: UK &amp;lt;br&amp;gt;Date: 2022-10-01 &amp;lt;br&amp;gt;Value: 91.57' data-id='UK'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e474' cx='476.64' cy='203.16' r='1.57pt' fill='#FDE725' fill-opacity='0.7' stroke='#FDE725' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: USA &amp;lt;br&amp;gt;Date: 2022-10-01 &amp;lt;br&amp;gt;Value: 96.8' data-id='USA'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e475' cx='476.64' cy='183.3' r='1.62pt' fill='#440154' fill-opacity='0.7' stroke='#440154' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: Australia &amp;lt;br&amp;gt;Date: 2022-10-01 &amp;lt;br&amp;gt;Value: 97.98' data-id='Australia'/>\n   <circle id='svg_fe395010_96ad_45e5_b3b2_657189ef79d4_e476' cx='476.64' cy='178.79' r='1.63pt' fill='#5DC863' fill-opacity='0.7' stroke='#5DC863' stroke-opacity='0.7' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Country: South.Korea &amp;lt;br&amp;gt;Date: 2022-10-01 &amp;lt;br&amp;gt;Value: 98.25' data-id='South.Korea'/>\n  <\/g>\n  <g clip-path='url(#svg_fe395010_96ad_45e5_b3b2_657189ef79d4_c1)'>\n   <text x='29.82' y='237.39' font-size='8.4pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>95<\/text>\n   <text x='23.6' y='153.42' font-size='8.4pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>100<\/text>\n   <text x='23.6' y='69.46' font-size='8.4pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>105<\/text>\n   <text x='104.79' y='316.44' font-size='8.4pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2019<\/text>\n   <text x='200.61' y='316.44' font-size='8.4pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2020<\/text>\n   <text x='296.7' y='316.44' font-size='8.4pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2021<\/text>\n   <text x='392.53' y='316.44' font-size='8.4pt' font-family='Helvetica' fill='#4D4D4D' fill-opacity='1'>2022<\/text>\n   <text x='258' y='332.45' font-size='10.5pt' font-family='Helvetica'>Date<\/text>\n   <text transform='translate(17.02,248.07) rotate(-90.00)' font-size='10.5pt' font-family='Helvetica'>Consumer Confidence<\/text>\n   <text x='151.4' y='44.24' font-size='12pt' font-style='italic' font-family='Helvetica'>Try to hover and click on the lines!<\/text>\n   <text x='93.28' y='21.37' font-size='15pt' font-weight='bold' font-family='Helvetica'>Interactive Country Data Visualization<\/text>\n   <text x='390.74' y='350.55' font-size='8.4pt' font-family='Helvetica'>R-Graph-Gallery.com<\/text>\n  <\/g>\n <\/g>\n<\/svg>","js":null,"uid":"svg_fe395010_96ad_45e5_b3b2_657189ef79d4","ratio":1.4,"settings":{"tooltip":{"css":".tooltip_SVGID_ { background-color: #2C3E50;\n  color: #ECF0F1;\n  padding: 10px;\n  border-radius: 5px;\n  font-family: 'Arial', sans-serif;\n  font-size: 14px;\n  box-shadow: 0px 0px 10px rgba(0,0,0,0.5); ; position:absolute;pointer-events:none;z-index:999;}","placement":"doc","opacity":0.9,"offx":10,"offy":0,"use_cursor_pos":true,"use_fill":true,"use_stroke":false,"delay_over":200,"delay_out":500},"hover":{"css":".hover_data_SVGID_ { stroke: black;\n  stroke-width: 1px;\n  r: 8px;\n  transition: all 0.3s ease; }","reactive":false,"nearest_distance":null},"hover_inv":{"css":""},"hover_key":{"css":".hover_key_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\ntext.hover_key_SVGID_ { stroke:none;fill:orange; }\ncircle.hover_key_SVGID_ { fill:orange;stroke:black; }\nline.hover_key_SVGID_, polyline.hover_key_SVGID_ { fill:none;stroke:orange; }\nrect.hover_key_SVGID_, polygon.hover_key_SVGID_, path.hover_key_SVGID_ { fill:orange;stroke:none; }\nimage.hover_key_SVGID_ { stroke:orange; }","reactive":true},"hover_theme":{"css":".hover_theme_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\ntext.hover_theme_SVGID_ { stroke:none;fill:orange; }\ncircle.hover_theme_SVGID_ { fill:orange;stroke:black; }\nline.hover_theme_SVGID_, polyline.hover_theme_SVGID_ { fill:none;stroke:orange; }\nrect.hover_theme_SVGID_, polygon.hover_theme_SVGID_, path.hover_theme_SVGID_ { fill:orange;stroke:none; }\nimage.hover_theme_SVGID_ { stroke:orange; }","reactive":true},"select":{"css":".select_data_SVGID_ { fill:red;stroke:gray; }","type":"multiple","only_shiny":false,"selected":[]},"select_inv":{"css":""},"select_key":{"css":".select_key_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_key_SVGID_ { stroke:none;fill:red; }\ncircle.select_key_SVGID_ { fill:red;stroke:black; }\nline.select_key_SVGID_, polyline.select_key_SVGID_ { fill:none;stroke:red; }\nrect.select_key_SVGID_, polygon.select_key_SVGID_, path.select_key_SVGID_ { fill:red;stroke:none; }\nimage.select_key_SVGID_ { stroke:red; }","type":"single","only_shiny":true,"selected":[]},"select_theme":{"css":".select_theme_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_theme_SVGID_ { stroke:none;fill:red; }\ncircle.select_theme_SVGID_ { fill:red;stroke:black; }\nline.select_theme_SVGID_, polyline.select_theme_SVGID_ { fill:none;stroke:red; }\nrect.select_theme_SVGID_, polygon.select_theme_SVGID_, path.select_theme_SVGID_ { fill:red;stroke:none; }\nimage.select_theme_SVGID_ { stroke:red; }","type":"single","only_shiny":true,"selected":[]},"zoom":{"min":0.5,"max":2,"duration":300},"toolbar":{"position":"topright","pngname":"country_data_plot","tooltips":null,"fixed":false,"hidden":[],"delay_over":200,"delay_out":500},"sizing":{"rescale":true,"width":1}}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="ggplot2" class="level2" data-number="27.3">
<h2 data-number="27.3" class="anchored" data-anchor-id="ggplot2"><span class="header-section-number">27.3</span> <code>ggplot2</code></h2>
<section id="基本" class="level3" data-number="27.3.1">
<h3 data-number="27.3.1" class="anchored" data-anchor-id="基本"><span class="header-section-number">27.3.1</span> 基本</h3>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 创建示例数据</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>xValue <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>yValue <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(<span class="fu">rnorm</span>(<span class="dv">10</span>))</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(xValue, yValue)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘图</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> xValue, <span class="at">y =</span> yValue)) <span class="sc">+</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>使用 <code>geom_line()</code> 绘制简单的折线图</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="线外观" class="level3" data-number="27.3.2">
<h3 data-number="27.3.2" class="anchored" data-anchor-id="线外观"><span class="header-section-number">27.3.2</span> 线外观</h3>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> xValue, <span class="at">y =</span> yValue)) <span class="sc">+</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"#69b3a2"</span>, <span class="co"># 线条颜色</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">linewidth =</span> <span class="dv">2</span>, <span class="co"># 线条粗细，旧版是 size</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">alpha =</span> <span class="fl">0.9</span>, <span class="co"># 线条透明度</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">linetype =</span> <span class="dv">2</span> <span class="co"># 线条类型</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>使用 <code>geom_line()</code>绘制带有自定义线条样式的折线图</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="对数" class="level3" data-number="27.3.3">
<h3 data-number="27.3.3" class="anchored" data-anchor-id="对数"><span class="header-section-number">27.3.3</span> 对数</h3>
<p><code>scale_y_log10()</code> 可以将 y 轴进行 log10 变换，适用于数据范围较大或呈指数增长的情况。</p>
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">seq</span>(<span class="dv">10</span>, <span class="dv">100</span>), <span class="co"># x 变量，取值从10到100</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="fu">seq</span>(<span class="dv">10</span>, <span class="dv">100</span>) <span class="sc">/</span> <span class="dv">2</span> <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">90</span>) <span class="co"># y 变量，等差递增并加上正态噪声</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制普通折线图</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y)) <span class="sc">+</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>()</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制对数折线图</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y)) <span class="sc">+</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="co"># 添加折线</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_log10</span>( <span class="co"># y 轴使用 log10 变换</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">50</span>, <span class="dv">100</span>), <span class="co"># 指定 y 轴刻度</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">100</span>) <span class="co"># 设置 y 轴显示范围</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>左图：y 轴从 1 到 100 的线性刻度</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-18-2.png" class="img-fluid figure-img" width="672"></p>
<figcaption>右图：y 轴使用 log10 变换</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<p>使用对数坐标轴绘制折线图，展示 y 轴 log10 变换效果</p>
</div>
</div>
</div>
</section>
<section id="date" class="level3" data-number="27.3.4">
<h3 data-number="27.3.4" class="anchored" data-anchor-id="date"><span class="header-section-number">27.3.4</span> date</h3>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># df 是前文从 github 加载的数据</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(date)) <span class="sc">|&gt;</span> <span class="co"># 转化为时间</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tail</span>(<span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"grey"</span>) <span class="sc">+</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">21</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="st">"#69b3a2"</span>, <span class="at">size =</span> <span class="dv">6</span>) <span class="sc">+</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="sc">+</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Evolution of bitcoin price"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>使用日期数据绘制折线图</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="group" class="level3" data-number="27.3.5">
<h3 data-number="27.3.5" class="anchored" data-anchor-id="group"><span class="header-section-number">27.3.5</span> group</h3>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>don <span class="ot">&lt;-</span> babynames <span class="sc">|&gt;</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Ashley"</span>, <span class="st">"Patricia"</span>, <span class="st">"Helen"</span>)) <span class="sc">|&gt;</span> <span class="co"># 只保留名字为 Ashley、Patricia、Helen 的记录</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">"F"</span>) <span class="co"># 只保留女性婴儿数据</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制分组折线图</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>don <span class="sc">|&gt;</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> year, <span class="co"># x 轴为年份</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> n, <span class="co"># y 轴为出生人数</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>        <span class="co"># group = name,     # 按名字分组，有color设置就不需要这句</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> name <span class="co"># 按名字着色</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="co"># 绘制折线</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>分组折线图：展示 1880 年至 2015 年间美国女性婴儿名字 Ashley、Patricia、Helen 的流行趋势</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>don <span class="sc">|&gt;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> year, <span class="co"># x 轴为年份</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> n, <span class="co"># y 轴为出生人数</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">group =</span> name, <span class="co"># 按名字分组</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> name <span class="co"># 按名字着色</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="co"># 绘制折线</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_viridis</span>(<span class="at">discrete =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> <span class="co"># 使用色盲友好的配色方案</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Popularity of American names in the previous 30 years"</span>) <span class="sc">+</span> <span class="co"># 添加标题</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="sc">+</span> <span class="co"># 应用 hrbrthemes 主题</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">"Number of babies born"</span>) <span class="co"># 设置 y 轴标签</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>美化的分组折线图：展示 1880 年至 2015 年间美国女性婴儿名字 Ashley、Patricia、Helen 的流行趋势</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="linear-model" class="level3" data-number="27.3.6">
<h3 data-number="27.3.6" class="anchored" data-anchor-id="linear-model"><span class="header-section-number">27.3.6</span> Linear model</h3>
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 创建示例数据</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">cond =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"condition_1"</span>, <span class="st">"condition_2"</span>), <span class="at">each =</span> <span class="dv">10</span>),</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">my_x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span> <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="at">sd =</span> <span class="dv">9</span>),</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">my_y =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span> <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="at">sd =</span> <span class="dv">16</span>)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制散点图，展示数据分布</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> my_x, <span class="at">y =</span> my_y)) <span class="sc">+</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"#69b3a2"</span>) <span class="sc">+</span> <span class="co"># 绘制散点，颜色为#69b3a2</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="co"># 应用 hrbrthemes 主题</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制散点图并添加线性趋势线（不显示置信区间）</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> my_x, <span class="at">y =</span> my_y)) <span class="sc">+</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="co"># 绘制散点</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> <span class="co"># 添加线性拟合线，颜色为红色，不显示置信区间</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="co"># 应用 hrbrthemes 主题</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制散点图并添加线性趋势线及置信区间</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> my_x, <span class="at">y =</span> my_y)) <span class="sc">+</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="co"># 绘制散点</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">fill =</span> <span class="st">"#69b3a2"</span>, <span class="at">se =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> <span class="co"># 添加线性拟合线，颜色为红色，置信区间填充色为#69b3a2</span></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="co"># 应用 hrbrthemes 主题</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell quarto-layout-panel" data-layout-ncol="3">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>散点图</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-22-2.png" class="img-fluid figure-img" width="672"></p>
<figcaption>线性趋势线</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-22-3.png" class="img-fluid figure-img" width="672"></p>
<figcaption>线性趋势线及置信区间</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<p>线性模型拟合：点图、线性趋势线、置信区间演示</p>
</div>
</div>
</div>
</section>
<section id="annotation" class="level3" data-number="27.3.7">
<h3 data-number="27.3.7" class="anchored" data-anchor-id="annotation"><span class="header-section-number">27.3.7</span> Annotation</h3>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制比特币价格折线图，并添加注释</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(date)) <span class="sc">|&gt;</span> <span class="co"># 转换日期格式</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> value)) <span class="sc">+</span> <span class="co"># 设置 x 轴为日期，y 轴为价格</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#69b3a2"</span>) <span class="sc">+</span> <span class="co"># 绘制折线，颜色为 #69b3a2</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">22000</span>) <span class="sc">+</span> <span class="co"># 设置 y 轴范围为 0 到 22000</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">annotate</span>(</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">geom =</span> <span class="st">"text"</span>, <span class="co"># 添加文本注释</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fu">as.Date</span>(<span class="st">"2017-01-01"</span>), <span class="co"># 注释文本的 x 坐标（日期）</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="dv">20089</span>, <span class="co"># 注释文本的 y 坐标（价格）</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">"Bitcoin price reached 20k $</span><span class="sc">\n</span><span class="st">at the end of 2017"</span> <span class="co"># 注释内容，\n 表示换行</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">annotate</span>(</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">geom =</span> <span class="st">"point"</span>, <span class="co"># 添加点注释</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fu">as.Date</span>(<span class="st">"2017-12-17"</span>), <span class="co"># 点的 x 坐标（日期）</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="dv">20089</span>, <span class="co"># 点的 y 坐标（价格）</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> <span class="dv">10</span>, <span class="co"># 点的大小</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">shape =</span> <span class="dv">21</span>, <span class="co"># 点的形状（圆形，带边框）</span></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> <span class="st">"transparent"</span> <span class="co"># 填充色为透明</span></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_hline</span>(</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">yintercept =</span> <span class="dv">5000</span>, <span class="co"># 添加水平线，y=5000</span></span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"orange"</span>, <span class="co"># 水平线颜色为橙色</span></span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> .<span class="dv">5</span> <span class="co"># 水平线宽度</span></span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="co"># 应用 hrbrthemes 主题</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>比特币价格注释示例：突出 2017 年末价格峰值及 5000 美元水平线</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="highlight" class="level3" data-number="27.3.8">
<h3 data-number="27.3.8" class="anchored" data-anchor-id="highlight"><span class="header-section-number">27.3.8</span> Highlight</h3>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gghighlight)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 构造示例数据</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>period <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Date =</span> <span class="fu">seq</span>(<span class="fu">as.Date</span>(<span class="st">"2020-01-01"</span>), <span class="at">by =</span> <span class="st">"day"</span>, <span class="at">length.out =</span> period),</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">Value =</span> <span class="fu">c</span>(</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">cumsum</span>(<span class="fu">rnorm</span>(period)),</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">cumsum</span>(<span class="fu">rnorm</span>(period)),</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>        <span class="fu">cumsum</span>(<span class="fu">rnorm</span>(period))</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">Type =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"a"</span>, period), <span class="fu">rep</span>(<span class="st">"b"</span>, period), <span class="fu">rep</span>(<span class="st">"c"</span>, period))</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Date, <span class="at">y =</span> Value, <span class="at">color =</span> Type)) <span class="sc">+</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption><code>ggplot2</code> 默认线条</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Date, <span class="at">y =</span> Value, <span class="at">color =</span> Type)) <span class="sc">+</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gghighlight</span>(<span class="fu">max</span>(Value) <span class="sc">&gt;</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>使用 <code>gghighlight</code> 高亮显示特定线</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df) <span class="sc">+</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(Date, Value, <span class="at">colour =</span> Type), <span class="co"># 映射：x轴为Date，y轴为Value，按Type着色</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">linewidth =</span> <span class="dv">1</span> <span class="co"># 线宽为1</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gghighlight</span>(</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">max</span>(Value) <span class="sc">&gt;</span> <span class="dv">10</span>, <span class="co"># 仅高亮 Value 最大值大于10的线</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">unhighlighted_params =</span> <span class="fu">list</span>(</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">linewidth =</span> <span class="fl">0.3</span>, <span class="co"># 未高亮线宽为0.3</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">colour =</span> <span class="fu">alpha</span>(<span class="st">"blue"</span>, <span class="fl">0.7</span>), <span class="co"># 未高亮线为蓝色，透明度0.7</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">linetype =</span> <span class="st">"dashed"</span> <span class="co"># 未高亮线为虚线</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>自定义未高亮线的样式</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="co"># plot1：高亮最大值大于10的线</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>plot1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df) <span class="sc">+</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(Date, Value, <span class="at">colour =</span> Type), <span class="co"># 映射：x轴为Date，y轴为Value，按Type着色</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">linewidth =</span> <span class="fl">0.4</span>, <span class="co"># 线宽为0.4</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"#4393C3"</span> <span class="co"># 线条颜色为#4393C3</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gghighlight</span>(</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">max</span>(Value) <span class="sc">&gt;</span> <span class="dv">10</span>, <span class="co"># 仅高亮 Value 最大值大于10的线</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">unhighlighted_params =</span> <span class="fu">list</span>(</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">linewidth =</span> <span class="fl">0.3</span>, <span class="co"># 未高亮线宽为0.3</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">colour =</span> <span class="fu">alpha</span>(<span class="st">"darkred"</span>, <span class="fl">0.7</span>), <span class="co"># 未高亮线为深红色，透明度0.7</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">linetype =</span> <span class="st">"dotted"</span> <span class="co"># 未高亮线为点状线</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">use_direct_label =</span> <span class="cn">FALSE</span> <span class="co"># 不直接标注高亮线</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">""</span>)</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a><span class="co"># plot2：高亮最小值小于-10的线</span></span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>plot2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df) <span class="sc">+</span></span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(</span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(Date, Value, <span class="at">colour =</span> Type), <span class="co"># 映射：x轴为Date，y轴为Value，按Type着色</span></span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">linewidth =</span> <span class="fl">0.4</span>, <span class="co"># 线宽为0.4</span></span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"#4393C3"</span> <span class="co"># 线条颜色为#4393C3</span></span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gghighlight</span>(</span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a>        <span class="fu">min</span>(Value) <span class="sc">&lt;</span> <span class="sc">-</span><span class="dv">10</span>, <span class="co"># 仅高亮 Value 最小值小于-10的线</span></span>
<span id="cb27-33"><a href="#cb27-33" aria-hidden="true" tabindex="-1"></a>        <span class="at">unhighlighted_params =</span> <span class="fu">list</span>(</span>
<span id="cb27-34"><a href="#cb27-34" aria-hidden="true" tabindex="-1"></a>            <span class="at">linewidth =</span> <span class="fl">0.3</span>, <span class="co"># 未高亮线宽为0.3</span></span>
<span id="cb27-35"><a href="#cb27-35" aria-hidden="true" tabindex="-1"></a>            <span class="at">colour =</span> <span class="fu">alpha</span>(<span class="st">"darkred"</span>, <span class="fl">0.7</span>), <span class="co"># 未高亮线为深红色，透明度0.7</span></span>
<span id="cb27-36"><a href="#cb27-36" aria-hidden="true" tabindex="-1"></a>            <span class="at">linetype =</span> <span class="st">"dotted"</span> <span class="co"># 未高亮线为点状线</span></span>
<span id="cb27-37"><a href="#cb27-37" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb27-38"><a href="#cb27-38" aria-hidden="true" tabindex="-1"></a>        <span class="at">use_direct_label =</span> <span class="cn">FALSE</span> <span class="co"># 不直接标注高亮线</span></span>
<span id="cb27-39"><a href="#cb27-39" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb27-40"><a href="#cb27-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>()</span>
<span id="cb27-41"><a href="#cb27-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-42"><a href="#cb27-42" aria-hidden="true" tabindex="-1"></a><span class="co"># 上下拼接两个图，并添加总标题</span></span>
<span id="cb27-43"><a href="#cb27-43" aria-hidden="true" tabindex="-1"></a>plot1 <span class="sc">/</span> plot2 <span class="sc">+</span> <span class="fu">plot_annotation</span>(<span class="at">title =</span> <span class="st">"This chart is built with gghighlight"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>gghighlight 高亮线示例：上图高亮最大值大于10的线，下图高亮最小值小于-10的线</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="geom_ribbon" class="level3" data-number="27.3.9">
<h3 data-number="27.3.9" class="anchored" data-anchor-id="geom_ribbon"><span class="header-section-number">27.3.9</span> <code>geom_ribbon()</code></h3>
<p>与 <code>geom_smooth()</code>类似（可自动计算阴影面积），但是 <code>geom_ribbon()</code> 需要自己输入阴影部分。</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>huron <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">year =</span> <span class="dv">1875</span><span class="sc">:</span><span class="dv">1972</span>, <span class="at">level =</span> <span class="fu">as.vector</span>(LakeHuron))</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(huron, <span class="fu">aes</span>(<span class="at">x =</span> year)) <span class="sc">+</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> level <span class="sc">-</span> <span class="dv">1</span>, <span class="at">ymax =</span> level <span class="sc">+</span> <span class="dv">1</span>), <span class="at">fill =</span> <span class="st">"grey70"</span>) <span class="sc">+</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> level))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>使用 <code>geom_ribbon()</code> 绘制带阴影的折线图</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="base-r" class="level2" data-number="27.4">
<h2 data-number="27.4" class="anchored" data-anchor-id="base-r"><span class="header-section-number">27.4</span> <code>Base R</code></h2>
<section id="彩虹线" class="level3" data-number="27.4.1">
<h3 data-number="27.4.1" class="anchored" data-anchor-id="彩虹线"><span class="header-section-number">27.4.1</span> 彩虹线</h3>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 加载 plotrix 包，提供 clplot 分段彩色折线图函数</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotrix)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 加载 RColorBrewer 包，生成配色方案</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>my_colors <span class="ot">&lt;-</span> <span class="fu">brewer.pal</span>(<span class="dv">8</span>, <span class="st">"Set2"</span>) <span class="co"># 生成 8 种 Set2 调色板颜色</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 创建数据</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">100</span>) <span class="co"># x 变量，取值为 1 到 100 的等差数列</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">sin</span>(x <span class="sc">/</span> <span class="dv">5</span>) <span class="sc">+</span> x <span class="sc">/</span> <span class="dv">20</span> <span class="co"># y 变量，包含正弦波动和线性增长</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制分段彩色折线图</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">2</span>)) <span class="co"># 设置图形边距，下、左、上、右分别为 4,4,2,2</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a><span class="fu">clplot</span>(</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>    x, <span class="co"># x 轴数据</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>    y, <span class="co"># y 轴数据</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">main =</span> <span class="st">""</span>, <span class="co"># 图表标题为空</span></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> <span class="dv">5</span>, <span class="co"># 线宽为 5</span></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>), <span class="co"># 分段水平，决定颜色分段的区间</span></span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> my_colors, <span class="co"># 使用自定义的颜色向量</span></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">showcuts =</span> T, <span class="co"># 是否显示分段的切割线（TRUE 显示）</span></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">bty =</span> <span class="st">"n"</span> <span class="co"># 不绘制边框（box type = "none"）</span></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>使用 Base R 的 <code>plotrix::clplot()</code> 绘制分段彩色折线图，展示 x 与 y 的关系</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="图例" class="level3" data-number="27.4.2">
<h3 data-number="27.4.2" class="anchored" data-anchor-id="图例"><span class="header-section-number">27.4.2</span> 图例</h3>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 创建数据:</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">5</span>)</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">1</span>)</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制基础折线图</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>    b <span class="sc">~</span> a, <span class="co"># y ~ x，b 随 a 变化</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"b"</span>, <span class="co"># "b" 表示点和线都画</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">bty =</span> <span class="st">"l"</span>, <span class="co"># 只画左和下边框</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">xlab =</span> <span class="st">"value of a"</span>, <span class="co"># x 轴标签</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylab =</span> <span class="st">"value of b"</span>, <span class="co"># y 轴标签</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="fu">rgb</span>(<span class="fl">0.2</span>, <span class="fl">0.4</span>, <span class="fl">0.1</span>, <span class="fl">0.7</span>), <span class="co"># 线和点的颜色（带透明度）</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> <span class="dv">3</span>, <span class="co"># 线宽</span></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">pch =</span> <span class="dv">17</span>, <span class="co"># 点的形状（17为实心三角）</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>) <span class="co"># y 轴范围</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(</span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>    c <span class="sc">~</span> a, <span class="co"># 第二组数据 c 随 a 变化</span></span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="fu">rgb</span>(<span class="fl">0.8</span>, <span class="fl">0.4</span>, <span class="fl">0.1</span>, <span class="fl">0.7</span>), <span class="co"># 线和点的颜色</span></span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> <span class="dv">3</span>, <span class="co"># 线宽</span></span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">pch =</span> <span class="dv">19</span>, <span class="co"># 点的形状（19为实心圆）</span></span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"b"</span> <span class="co"># 点和线都画</span></span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a><span class="co"># 添加图例</span></span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(</span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">"bottomleft"</span>, <span class="co"># 图例位置：左下角</span></span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"Group 1"</span>, <span class="st">"Group 2"</span>), <span class="co"># 图例标签</span></span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="fu">c</span>(<span class="fu">rgb</span>(<span class="fl">0.2</span>, <span class="fl">0.4</span>, <span class="fl">0.1</span>, <span class="fl">0.7</span>), <span class="fu">rgb</span>(<span class="fl">0.8</span>, <span class="fl">0.4</span>, <span class="fl">0.1</span>, <span class="fl">0.7</span>)), <span class="co"># 每组颜色</span></span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">pch =</span> <span class="fu">c</span>(<span class="dv">17</span>, <span class="dv">19</span>), <span class="co"># 每组点的形状</span></span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">bty =</span> <span class="st">"n"</span>, <span class="co"># 图例无边框</span></span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">pt.cex =</span> <span class="dv">2</span>, <span class="co"># 点的大小</span></span>
<span id="cb30-34"><a href="#cb30-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="fl">1.2</span>, <span class="co"># 字体大小</span></span>
<span id="cb30-35"><a href="#cb30-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">text.col =</span> <span class="st">"black"</span>, <span class="co"># 文字颜色</span></span>
<span id="cb30-36"><a href="#cb30-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">horiz =</span> F, <span class="co"># 垂直排列</span></span>
<span id="cb30-37"><a href="#cb30-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">inset =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.1</span>) <span class="co"># 图例与边界的距离</span></span>
<span id="cb30-38"><a href="#cb30-38" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>基础折线图：两组数据随 a 变化的趋势，并添加图例</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="y-轴反向" class="level3" data-number="27.4.3">
<h3 data-number="27.4.3" class="anchored" data-anchor-id="y-轴反向"><span class="header-section-number">27.4.3</span> Y 轴反向</h3>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">29</span>)<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> <span class="fu">runif</span>(<span class="dv">29</span>, <span class="fl">0.98</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">abs</span>(<span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">29</span>) <span class="sc">+</span> <span class="dv">4</span> <span class="sc">*</span> <span class="fu">runif</span>(<span class="dv">29</span>, <span class="fl">0.4</span>))</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制基础折线图</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>    y <span class="sc">~</span> x, <span class="co"># y ~ x，y 随 x 变化</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylim =</span> <span class="fu">rev</span>(<span class="fu">range</span>(y)), <span class="co"># y 轴范围反转（递减显示）</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> <span class="dv">4</span>, <span class="co"># 线宽为 4</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"l"</span>, <span class="co"># "l" 表示只画线</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">bty =</span> <span class="st">"n"</span>, <span class="co"># 不绘制边框（box type = "none"）</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylab =</span> <span class="st">"value of y (decreasing)"</span>, <span class="co"># y 轴标签</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="fu">rgb</span>(<span class="fl">0.2</span>, <span class="fl">0.4</span>, <span class="fl">0.6</span>, <span class="fl">0.8</span>) <span class="co"># 线条颜色（带透明度）</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 添加竖向灰色参考线</span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(</span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">v =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">900</span>, <span class="dv">100</span>), <span class="co"># v 指定竖线位置（从0到900，每隔100）</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">"grey"</span>, <span class="co"># 线条颜色为灰色</span></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> <span class="fl">0.6</span> <span class="co"># 线宽为0.6</span></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>基础折线图：y 轴反向显示，展示 y 随 x 递减趋势，并添加竖向灰色参考线</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="拟合" class="level3" data-number="27.4.4">
<h3 data-number="27.4.4" class="anchored" data-anchor-id="拟合"><span class="header-section-number">27.4.4</span> 拟合</h3>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">300</span>, <span class="at">min =</span> <span class="sc">-</span><span class="dv">10</span>, <span class="at">max =</span> <span class="dv">10</span>) <span class="co"># 生成300个均匀分布的随机数，范围[-10, 10]</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fl">0.1</span> <span class="sc">*</span> x<span class="sc">^</span><span class="dv">3</span> <span class="sc">-</span> <span class="fl">0.5</span> <span class="sc">*</span> x<span class="sc">^</span><span class="dv">2</span> <span class="sc">-</span> x <span class="sc">+</span> <span class="dv">10</span> <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="fu">length</span>(x), <span class="dv">0</span>, <span class="dv">8</span>) <span class="co"># 构造三次多项式关系并加上正态噪声</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制散点图</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    x, y,</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="fu">rgb</span>(<span class="fl">0.4</span>, <span class="fl">0.4</span>, <span class="fl">0.8</span>, <span class="fl">0.6</span>), <span class="co"># 点的颜色（带透明度）</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">pch =</span> <span class="dv">16</span>, <span class="co"># 点的形状（16为实心圆）</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="fl">1.3</span> <span class="co"># 点的大小</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 用三次多项式拟合数据</span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> x <span class="sc">+</span> <span class="fu">I</span>(x<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> <span class="fu">I</span>(x<span class="sc">^</span><span class="dv">3</span>))</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 可以查看模型特征</span></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a><span class="co"># summary(model)</span></span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a><span class="co"># model$coefficients</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a><span class="co"># summary(model)$adj.r.squared</span></span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a><span class="co"># 预测每个x对应的y拟合值，并添加拟合曲线到图中</span></span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>myPredict <span class="ot">&lt;-</span> <span class="fu">predict</span>(model)</span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a>ix <span class="ot">&lt;-</span> <span class="fu">sort</span>(x, <span class="at">index.return =</span> <span class="cn">TRUE</span>)<span class="sc">$</span>ix <span class="co"># 获取x排序后的索引</span></span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(</span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a>    x[ix], myPredict[ix],</span>
<span id="cb32-25"><a href="#cb32-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="dv">2</span>, <span class="co"># 拟合曲线颜色（2为红色）</span></span>
<span id="cb32-26"><a href="#cb32-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> <span class="dv">2</span> <span class="co"># 线宽为2</span></span>
<span id="cb32-27"><a href="#cb32-27" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb32-28"><a href="#cb32-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-29"><a href="#cb32-29" aria-hidden="true" tabindex="-1"></a><span class="co"># 在图中添加模型公式和拟合优度</span></span>
<span id="cb32-30"><a href="#cb32-30" aria-hidden="true" tabindex="-1"></a>coeff <span class="ot">&lt;-</span> <span class="fu">round</span>(model<span class="sc">$</span>coefficients, <span class="dv">2</span>) <span class="co"># 四舍五入系数</span></span>
<span id="cb32-31"><a href="#cb32-31" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(</span>
<span id="cb32-32"><a href="#cb32-32" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="sc">-</span><span class="dv">70</span>,</span>
<span id="cb32-33"><a href="#cb32-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(</span>
<span id="cb32-34"><a href="#cb32-34" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Model : "</span>, coeff[<span class="dv">1</span>], <span class="st">" + "</span>, coeff[<span class="dv">2</span>], <span class="st">"*x"</span>, <span class="st">"+"</span>, coeff[<span class="dv">3</span>], <span class="st">"*x^2"</span>, <span class="st">"+"</span>, coeff[<span class="dv">4</span>], <span class="st">"*x^3"</span>, <span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>,</span>
<span id="cb32-35"><a href="#cb32-35" aria-hidden="true" tabindex="-1"></a>        <span class="st">"P-value adjusted = "</span>, <span class="fu">round</span>(<span class="fu">summary</span>(model)<span class="sc">$</span>adj.r.squared, <span class="dv">2</span>)</span>
<span id="cb32-36"><a href="#cb32-36" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb32-37"><a href="#cb32-37" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>多项式拟合示例：三次多项式拟合散点数据，并在图中显示拟合公式和拟合优度</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="cheatsheet" class="level3" data-number="27.4.5">
<h3 data-number="27.4.5" class="anchored" data-anchor-id="cheatsheet"><span class="header-section-number">27.4.5</span> Cheatsheet</h3>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># initialization</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">3</span>)) <span class="co"># 设置图形边距，下、左、上、右分别为3</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>num <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>num1 <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>    <span class="dv">0</span>, <span class="co"># x 坐标</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    <span class="dv">0</span>, <span class="co"># y 坐标</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">21</span>), <span class="co"># x 轴范围</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylim =</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="fl">6.5</span>), <span class="co"># y 轴范围</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">"white"</span>, <span class="co"># 点颜色为白色（背景）</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">yaxt =</span> <span class="st">"n"</span>, <span class="co"># 不绘制 y 轴刻度</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylab =</span> <span class="st">""</span>, <span class="co"># y 轴标签为空</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">xlab =</span> <span class="st">""</span> <span class="co"># x 轴标签为空</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a><span class="co"># 填充图形内容</span></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">20</span>)) {</span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">points</span>(i, <span class="dv">1</span>, <span class="at">pch =</span> i, <span class="at">cex =</span> <span class="dv">3</span>) <span class="co"># pch 不同点形状</span></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">points</span>(i, <span class="dv">2</span>, <span class="at">col =</span> i, <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">cex =</span> <span class="dv">3</span>) <span class="co"># col 不同颜色</span></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">points</span>(i, <span class="dv">3</span>, <span class="at">col =</span> <span class="st">"black"</span>, <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">cex =</span> i <span class="sc">*</span> <span class="fl">0.25</span>) <span class="co"># cex 不同点大小</span></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># lty 线型</span></span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (i <span class="sc">%in%</span> <span class="fu">c</span>(<span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">18</span>, <span class="dv">3</span>))) {</span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a>        num <span class="ot">&lt;-</span> num <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a>        <span class="fu">points</span>(<span class="fu">c</span>(i, i <span class="sc">+</span> <span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">4</span>), <span class="at">col =</span> <span class="st">"black"</span>, <span class="at">lty =</span> num, <span class="at">type =</span> <span class="st">"l"</span>, <span class="at">lwd =</span> <span class="dv">2</span>) <span class="co"># lty 不同线型</span></span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a>        <span class="fu">text</span>(i <span class="sc">+</span> <span class="fl">1.1</span>, <span class="fl">4.15</span>, num) <span class="co"># 标注线型编号</span></span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># type 和 lwd</span></span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (i <span class="sc">%in%</span> <span class="fu">c</span>(<span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">20</span>, <span class="dv">5</span>))) {</span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a>        num1 <span class="ot">&lt;-</span> num1 <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a>        <span class="fu">points</span>(</span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a>            <span class="fu">c</span>(i, i <span class="sc">+</span> <span class="dv">1</span>, i <span class="sc">+</span> <span class="dv">2</span>, i <span class="sc">+</span> <span class="dv">3</span>),</span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a>            <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">5</span>),</span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a>            <span class="at">col =</span> <span class="st">"black"</span>,</span>
<span id="cb33-36"><a href="#cb33-36" aria-hidden="true" tabindex="-1"></a>            <span class="at">type =</span> <span class="fu">c</span>(<span class="st">"p"</span>, <span class="st">"l"</span>, <span class="st">"b"</span>, <span class="st">"o"</span>)[num1], <span class="co"># type 不同类型（点、线、点线、重叠）</span></span>
<span id="cb33-37"><a href="#cb33-37" aria-hidden="true" tabindex="-1"></a>            <span class="at">lwd =</span> <span class="dv">2</span></span>
<span id="cb33-38"><a href="#cb33-38" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb33-39"><a href="#cb33-39" aria-hidden="true" tabindex="-1"></a>        <span class="fu">text</span>(i <span class="sc">+</span> <span class="fl">1.1</span>, <span class="fl">5.2</span>, <span class="fu">c</span>(<span class="st">"p"</span>, <span class="st">"l"</span>, <span class="st">"b"</span>, <span class="st">"o"</span>)[num1]) <span class="co"># 标注 type 类型</span></span>
<span id="cb33-40"><a href="#cb33-40" aria-hidden="true" tabindex="-1"></a>        <span class="fu">points</span>(</span>
<span id="cb33-41"><a href="#cb33-41" aria-hidden="true" tabindex="-1"></a>            <span class="fu">c</span>(i, i <span class="sc">+</span> <span class="dv">1</span>, i <span class="sc">+</span> <span class="dv">2</span>, i <span class="sc">+</span> <span class="dv">3</span>),</span>
<span id="cb33-42"><a href="#cb33-42" aria-hidden="true" tabindex="-1"></a>            <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">6</span>, <span class="dv">6</span>, <span class="dv">6</span>),</span>
<span id="cb33-43"><a href="#cb33-43" aria-hidden="true" tabindex="-1"></a>            <span class="at">col =</span> <span class="st">"black"</span>,</span>
<span id="cb33-44"><a href="#cb33-44" aria-hidden="true" tabindex="-1"></a>            <span class="at">type =</span> <span class="st">"l"</span>,</span>
<span id="cb33-45"><a href="#cb33-45" aria-hidden="true" tabindex="-1"></a>            <span class="at">lwd =</span> num1 <span class="co"># lwd 不同线宽</span></span>
<span id="cb33-46"><a href="#cb33-46" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb33-47"><a href="#cb33-47" aria-hidden="true" tabindex="-1"></a>        <span class="fu">text</span>(i <span class="sc">+</span> <span class="fl">1.1</span>, <span class="fl">6.2</span>, num1) <span class="co"># 标注线宽</span></span>
<span id="cb33-48"><a href="#cb33-48" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb33-49"><a href="#cb33-49" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb33-50"><a href="#cb33-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-51"><a href="#cb33-51" aria-hidden="true" tabindex="-1"></a><span class="co"># 添加 y 轴标签</span></span>
<span id="cb33-52"><a href="#cb33-52" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(</span>
<span id="cb33-53"><a href="#cb33-53" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="co"># y 轴</span></span>
<span id="cb33-54"><a href="#cb33-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">at =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="co"># 位置</span></span>
<span id="cb33-55"><a href="#cb33-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"pch"</span>, <span class="st">"col"</span>, <span class="st">"cex"</span>, <span class="st">"lty"</span>, <span class="st">"type"</span>, <span class="st">"lwd"</span>), <span class="co"># 标签</span></span>
<span id="cb33-56"><a href="#cb33-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">tick =</span> <span class="cn">TRUE</span>, <span class="co"># 显示刻度线</span></span>
<span id="cb33-57"><a href="#cb33-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">"black"</span>, <span class="co"># 轴颜色</span></span>
<span id="cb33-58"><a href="#cb33-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">las =</span> <span class="dv">1</span>, <span class="co"># 标签水平显示</span></span>
<span id="cb33-59"><a href="#cb33-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex.axis =</span> <span class="fl">0.8</span> <span class="co"># 轴标签大小</span></span>
<span id="cb33-60"><a href="#cb33-60" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>基础 R 绘图参数演示：pch、col、cex、lty、type、lwd 的效果</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="双-y-轴" class="level2" data-number="27.5">
<h2 data-number="27.5" class="anchored" data-anchor-id="双-y-轴"><span class="header-section-number">27.5</span> 双 Y 轴</h2>
<section id="双图" class="level3" data-number="27.5.1">
<h3 data-number="27.5.1" class="anchored" data-anchor-id="双图"><span class="header-section-number">27.5.1</span> 双图</h3>
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">day =</span> <span class="fu">as.Date</span>(<span class="st">"2019-01-01"</span>) <span class="sc">+</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">99</span>, <span class="co"># 生成100天的日期序列</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">temperature =</span> <span class="fu">runif</span>(<span class="dv">100</span>) <span class="sc">+</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">100</span>)<span class="sc">^</span><span class="fl">2.5</span> <span class="sc">/</span> <span class="dv">10000</span>, <span class="co"># 温度数据，添加随机噪声和递增趋势</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">price =</span> <span class="fu">runif</span>(<span class="dv">100</span>) <span class="sc">+</span> <span class="fu">seq</span>(<span class="dv">100</span>, <span class="dv">1</span>)<span class="sc">^</span><span class="fl">1.5</span> <span class="sc">/</span> <span class="dv">10</span> <span class="co"># 价格数据，添加随机噪声和递减趋势</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 最基础的折线图，展示温度随时间变化</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> day, <span class="at">y =</span> temperature)) <span class="sc">+</span> <span class="co"># x轴为日期，y轴为温度</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#69b3a2"</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span> <span class="co"># 绘制折线，颜色为#69b3a2，线宽为2</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Temperature: range 1-10"</span>) <span class="sc">+</span> <span class="co"># 添加标题</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="co"># 应用hrbrthemes主题</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 折线图，展示价格随时间变化</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> day, <span class="at">y =</span> price)) <span class="sc">+</span> <span class="co"># x轴为日期，y轴为价格</span></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"grey"</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span> <span class="co"># 绘制折线，颜色为灰色，线宽为2</span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Price: range 1-100"</span>) <span class="sc">+</span> <span class="co"># 添加标题</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="co"># 应用hrbrthemes主题</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>温度随时间变化</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-34-2.png" class="img-fluid figure-img" width="672"></p>
<figcaption>价格随时间变化</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<p>双图展示温度/价格随时间变化的趋势</p>
</div>
</div>
</div>
</section>
<section id="ggplot2-1" class="level3" data-number="27.5.2">
<h3 data-number="27.5.2" class="anchored" data-anchor-id="ggplot2-1"><span class="header-section-number">27.5.2</span> <code>ggplot2</code></h3>
<p><code>sec.axis()</code> 添加第二个 Y 轴</p>
<p>在下面的示例中，第二个 Y 轴简单地表示第一个 Y 轴乘以 10，这得益于 <code>trans</code> 参数提供的 <code>~.*10</code> 数学关系。</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> day, <span class="at">y =</span> temperature)) <span class="sc">+</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 自定义 Y 轴比例</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">name =</span> <span class="st">"First Axis"</span>, <span class="co"># 主 Y 轴名称</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">sec.axis =</span> <span class="fu">sec_axis</span>( <span class="co"># 添加第二个 Y 轴</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">transform =</span> <span class="sc">~</span> . <span class="sc">*</span> <span class="dv">10</span>, <span class="co"># 副轴为主轴数值的 10 倍</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">name =</span> <span class="st">"Second Axis"</span> <span class="co"># 副 Y 轴名称</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="co"># 应用 hrbrthemes 主题</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>双 Y 轴示例：主轴为温度，副轴价格为温度的 10 倍</figcaption>
</figure>
</div>
</div>
</div>
<p>把变量曲线也画出来，（也进行了比例转换）</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>coeff <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> day)) <span class="sc">+</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> temperature)) <span class="sc">+</span> <span class="co"># 绘制温度折线，y 轴为 temperature</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> price <span class="sc">/</span> coeff)) <span class="sc">+</span> <span class="co"># 绘制价格折线，y 轴为 price/10，使其与温度在同一范围</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 主 Y 轴设置</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">name =</span> <span class="st">"First Axis"</span>, <span class="co"># 主 Y 轴名称</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 添加第二个 Y 轴</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">sec.axis =</span> <span class="fu">sec_axis</span>(</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>            <span class="sc">~</span> . <span class="sc">*</span> coeff, <span class="co"># 副轴为主轴数值的 10 倍</span></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">name =</span> <span class="st">"Second Axis"</span> <span class="co"># 副 Y 轴名称</span></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>双 Y 轴折线图：主轴为温度，副轴为价格（温度的10倍比例）</figcaption>
</figure>
</div>
</div>
</div>
<p>再美化一下：</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>coeff <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 定义颜色常量</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>temperatureColor <span class="ot">&lt;-</span> <span class="st">"#69b3a2"</span> <span class="co"># 温度线颜色</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>priceColor <span class="ot">&lt;-</span> <span class="fu">rgb</span>(<span class="fl">0.2</span>, <span class="fl">0.6</span>, <span class="fl">0.9</span>, <span class="dv">1</span>) <span class="co"># 价格线颜色</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> day)) <span class="sc">+</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 绘制温度折线，y 轴为 temperature，线宽为2，颜色为 temperatureColor</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> temperature), <span class="at">size =</span> <span class="dv">2</span>, <span class="at">color =</span> temperatureColor) <span class="sc">+</span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 绘制价格折线，y 轴为 price/coeff，线宽为2，颜色为 priceColor</span></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> price <span class="sc">/</span> coeff), <span class="at">size =</span> <span class="dv">2</span>, <span class="at">color =</span> priceColor) <span class="sc">+</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 设置主 y 轴和副 y 轴</span></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">name =</span> <span class="st">"Temperature (Celsius °)"</span>, <span class="co"># 主 y 轴名称</span></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">sec.axis =</span> <span class="fu">sec_axis</span>(<span class="sc">~</span> . <span class="sc">*</span> coeff, <span class="at">name =</span> <span class="st">"Price ($)"</span>) <span class="co"># 副 y 轴为主轴数值的 coeff 倍，名称为 Price ($)</span></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="sc">+</span> <span class="co"># 应用 hrbrthemes 主题</span></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">color =</span> temperatureColor, <span class="at">size =</span> <span class="dv">13</span>), <span class="co"># 主 y 轴标题颜色和字号</span></span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y.right =</span> <span class="fu">element_text</span>(<span class="at">color =</span> priceColor, <span class="at">size =</span> <span class="dv">13</span>) <span class="co"># 副 y 轴标题颜色和字号</span></span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Temperature down, price up"</span>) <span class="co"># 添加标题</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>双 Y 轴美化示例：主轴为温度（绿色），副轴为价格（蓝色），并自定义轴标题颜色和线条样式</figcaption>
</figure>
</div>
</div>
</div>
<p>条形图+柱状图：</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>coeff <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 定义颜色常量</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>temperatureColor <span class="ot">&lt;-</span> <span class="st">"#69b3a2"</span> <span class="co"># 温度条形颜色</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>priceColor <span class="ot">&lt;-</span> <span class="fu">rgb</span>(<span class="fl">0.2</span>, <span class="fl">0.6</span>, <span class="fl">0.9</span>, <span class="dv">1</span>) <span class="co"># 价格折线颜色</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">head</span>(data, <span class="dv">80</span>), <span class="fu">aes</span>(<span class="at">x =</span> day)) <span class="sc">+</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 绘制温度的条形图</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">y =</span> temperature), <span class="co"># y 轴为温度</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">stat =</span> <span class="st">"identity"</span>, <span class="co"># 使用原始数值绘制条形</span></span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> .<span class="dv">1</span>, <span class="co"># 边框线宽</span></span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> temperatureColor, <span class="co"># 填充色</span></span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"black"</span>, <span class="co"># 边框颜色</span></span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">alpha =</span> .<span class="dv">4</span> <span class="co"># 透明度</span></span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 绘制价格的折线图（已缩放）</span></span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">y =</span> price <span class="sc">/</span> coeff), <span class="co"># y 轴为价格/系数</span></span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> <span class="dv">2</span>, <span class="co"># 线宽</span></span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> priceColor <span class="co"># 线条颜色</span></span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 设置主 y 轴和副 y 轴</span></span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(</span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">name =</span> <span class="st">"Temperature (Celsius °)"</span>, <span class="co"># 主 y 轴名称</span></span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">sec.axis =</span> <span class="fu">sec_axis</span>(<span class="sc">~</span> . <span class="sc">*</span> coeff, <span class="at">name =</span> <span class="st">"Price ($)"</span>) <span class="co"># 副 y 轴为主轴数值的 coeff 倍，名称为 Price ($)</span></span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="sc">+</span> <span class="co"># 应用 hrbrthemes 主题</span></span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 自定义 y 轴标题颜色和字号</span></span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">color =</span> temperatureColor, <span class="at">size =</span> <span class="dv">13</span>), <span class="co"># 主 y 轴标题样式</span></span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y.right =</span> <span class="fu">element_text</span>(<span class="at">color =</span> priceColor, <span class="at">size =</span> <span class="dv">13</span>) <span class="co"># 副 y 轴标题样式</span></span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Temperature down, price up"</span>) <span class="co"># 添加标题</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>双 Y 轴混合图：主轴为温度（条形图），副轴为价格（折线图），并自定义轴标题颜色和线条样式</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="latticeextra" class="level3" data-number="27.5.3">
<h3 data-number="27.5.3" class="anchored" data-anchor-id="latticeextra"><span class="header-section-number">27.5.3</span> <code>latticeExtra</code></h3>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(latticeExtra)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 创建数据</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>) <span class="co"># 设置随机种子，保证结果可复现</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span> <span class="co"># x 变量，取值为 1 到 100</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>var1 <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>)) <span class="co"># var1，正态分布随机数累加，模拟随机游走</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>var2 <span class="ot">&lt;-</span> var1<span class="sc">^</span><span class="dv">2</span> <span class="co"># var2，var1 的平方</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(x, var1, var2) <span class="co"># 合并为数据框</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制基础折线图</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a><span class="fu">xyplot</span>(</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>    var1 <span class="sc">+</span> var2 <span class="sc">~</span> x, <span class="co"># 公式，表示 var1 和 var2 都随 x 变化</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>    data, <span class="co"># 数据来源</span></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"l"</span>, <span class="co"># type = "l" 表示折线图（line）</span></span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"steelblue"</span>, <span class="st">"#69b3a2"</span>), <span class="co"># 线条颜色</span></span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> <span class="dv">2</span> <span class="co"># 线条宽度</span></span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>latticeExtra 双变量折线图：展示 var1 和 var2 随 x 的变化趋势</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 加载 latticeExtra 包，支持双 Y 轴绘图</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(latticeExtra)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 创建数据</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>) <span class="co"># 设置随机种子，保证结果可复现</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span> <span class="co"># x 变量，取值为 1 到 100</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>var1 <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>)) <span class="co"># var1，正态分布随机数累加，模拟随机游走</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>var2 <span class="ot">&lt;-</span> var1<span class="sc">^</span><span class="dv">2</span> <span class="co"># var2，var1 的平方</span></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(x, var1, var2) <span class="co"># 合并为数据框</span></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 分别为 var1 和 var2 构建单独的折线图对象</span></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>obj1 <span class="ot">&lt;-</span> <span class="fu">xyplot</span>(</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>    var1 <span class="sc">~</span> x, <span class="co"># 公式，y 轴为 var1，x 轴为 x</span></span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>    data, <span class="co"># 数据来源</span></span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"l"</span>, <span class="co"># type = "l" 表示折线图（line）</span></span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> <span class="dv">2</span>, <span class="co"># lwd = 2 设置线宽为 2</span></span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">"steelblue"</span> <span class="co"># col 设置线条颜色为 steelblue</span></span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>obj2 <span class="ot">&lt;-</span> <span class="fu">xyplot</span>(</span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a>    var2 <span class="sc">~</span> x, <span class="co"># 公式，y 轴为 var2，x 轴为 x</span></span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a>    data, <span class="co"># 数据来源</span></span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"l"</span>, <span class="co"># 折线图</span></span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> <span class="dv">2</span>, <span class="co"># 线宽为 2</span></span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">"#69b3a2"</span> <span class="co"># 线条颜色为 #69b3a2</span></span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用 doubleYScale 绘制双 Y 轴图</span></span>
<span id="cb40-28"><a href="#cb40-28" aria-hidden="true" tabindex="-1"></a><span class="fu">doubleYScale</span>(</span>
<span id="cb40-29"><a href="#cb40-29" aria-hidden="true" tabindex="-1"></a>    obj1, <span class="co"># 主 Y 轴图层（左侧，var1）</span></span>
<span id="cb40-30"><a href="#cb40-30" aria-hidden="true" tabindex="-1"></a>    obj2, <span class="co"># 副 Y 轴图层（右侧，var2）</span></span>
<span id="cb40-31"><a href="#cb40-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">add.ylab2 =</span> <span class="cn">TRUE</span>, <span class="co"># 是否添加第二个 Y 轴标签（TRUE 表示添加）</span></span>
<span id="cb40-32"><a href="#cb40-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">use.style =</span> <span class="cn">FALSE</span> <span class="co"># 是否使用 latticeExtra 默认样式（FALSE 表示不使用）</span></span>
<span id="cb40-33"><a href="#cb40-33" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>latticeExtra 双 Y 轴折线图：分别展示 var1 和 var2 随 x 的变化趋势，并在右侧添加第二个 Y 轴</figcaption>
</figure>
</div>
</div>
</div>
<p>这个图表非常具有误导性：很容易得出两个变量都遵循相同模式的结论，这完全错误。</p>
<p>在双轴图表中，一定要仔细检查哪个轴才是真正的轴。</p>
<p>Conclusion: don’t do it!</p>
<p>如果你坚持，以下是添加图例到图表的方法：</p>
<div class="cell">
<details class="code-fold">
<summary>Show/Hide Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 加载 latticeExtra 包，支持双 Y 轴绘图</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(latticeExtra)</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 创建数据</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>) <span class="co"># 设置随机种子，保证结果可复现</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span> <span class="co"># x 变量，取值为 1 到 100</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>var1 <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>)) <span class="co"># var1，正态分布随机数累加，模拟随机游走</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>var2 <span class="ot">&lt;-</span> var1<span class="sc">^</span><span class="dv">2</span> <span class="co"># var2，var1 的平方</span></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(x, var1, var2) <span class="co"># 合并为数据框</span></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 分别为 var1 和 var2 构建单独的折线图对象</span></span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>obj1 <span class="ot">&lt;-</span> <span class="fu">xyplot</span>(</span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>    var1 <span class="sc">~</span> x, <span class="co"># 公式，y 轴为 var1，x 轴为 x</span></span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>    data, <span class="co"># 数据来源</span></span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"l"</span>, <span class="co"># type = "l" 表示折线图（line）</span></span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> <span class="dv">2</span> <span class="co"># lwd = 2 设置线宽为 2</span></span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>obj2 <span class="ot">&lt;-</span> <span class="fu">xyplot</span>(</span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>    var2 <span class="sc">~</span> x, <span class="co"># 公式，y 轴为 var2，x 轴为 x</span></span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a>    data, <span class="co"># 数据来源</span></span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"l"</span>, <span class="co"># 折线图</span></span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> <span class="dv">2</span> <span class="co"># 线宽为 2</span></span>
<span id="cb41-23"><a href="#cb41-23" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb41-24"><a href="#cb41-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-25"><a href="#cb41-25" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用 doubleYScale 绘制双 Y 轴图，并添加图例</span></span>
<span id="cb41-26"><a href="#cb41-26" aria-hidden="true" tabindex="-1"></a><span class="fu">doubleYScale</span>(</span>
<span id="cb41-27"><a href="#cb41-27" aria-hidden="true" tabindex="-1"></a>    obj1, <span class="co"># 主 Y 轴图层（左侧，var1）</span></span>
<span id="cb41-28"><a href="#cb41-28" aria-hidden="true" tabindex="-1"></a>    obj2, <span class="co"># 副 Y 轴图层（右侧，var2）</span></span>
<span id="cb41-29"><a href="#cb41-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">text =</span> <span class="fu">c</span>(<span class="st">"obj1"</span>, <span class="st">"obj2"</span>), <span class="co"># 图例文本，分别对应 obj1 和 obj2</span></span>
<span id="cb41-30"><a href="#cb41-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">add.ylab2 =</span> <span class="cn">TRUE</span> <span class="co"># 是否添加第二个 Y 轴标签（TRUE 表示添加）</span></span>
<span id="cb41-31"><a href="#cb41-31" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="line_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>latticeExtra 双 Y 轴折线图（含图例）：分别展示 var1 和 var2 随 x 的变化趋势，并在右侧添加第二个 Y 轴和图例</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="pearl" class="level2" data-number="27.6">
<h2 data-number="27.6" class="anchored" data-anchor-id="pearl"><span class="header-section-number">27.6</span> Pearl</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://r-graph-gallery.com/web-line-chart-with-labels-at-end-of-line.html"><img src="./image/line-label.png" class="img-fluid figure-img"></a></p>
<figcaption>每条线末端有精美标签</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://r-graph-gallery.com/web-lineplots-and-area-chart-the-economist.html"><img src="./image/line-stack.png" class="img-fluid figure-img"></a></p>
<figcaption>折线图和堆叠面积图</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://r-graph-gallery.com/web-vertical-line-chart-with-ggplot2.html"><img src="./image/line-vertical.png" class="img-fluid figure-img"></a></p>
<figcaption>1976 年至今美国众议院中的政党优势</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://r-graph-gallery.com/web-time-series-and-facetting.html"><img src="./image/line-area.png" class="img-fluid figure-img"></a></p>
<figcaption>伦敦不同区域能动物救助的演变</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://r-graph-gallery.com/web-line-chart-small-multiple-all-group-greyed-out.html"><img src="./image/line-mult.png" class="img-fluid figure-img"></a></p>
<figcaption>近几年全球消费者信心的演变</figcaption>
</figure>
</div>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./evolution.html" class="pagination-link" aria-label="Evolution">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Evolution</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./area.html" class="pagination-link" aria-label="Area">
        <span class="nav-page-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Area</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb42" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># Line {#sec-line}</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="fu">## PKG</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># 数据处理与可视化的核心包集合</span></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes) <span class="co"># 主题样式</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly) <span class="co"># 交互式图表</span></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork) <span class="co"># 用于组合多个ggplot2图表</span></span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(babynames) <span class="co"># 包含美国婴儿姓名数据集</span></span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis) <span class="co"># 提供色盲友好的配色方案</span></span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(latticeExtra) <span class="co"># 提供额外的lattice图形功能</span></span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gghighlight) <span class="co"># 用于高亮显示ggplot2图形中的特定数据点</span></span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggiraph) <span class="co"># 用于创建交互式ggplot2图形</span></span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer) <span class="co"># 提供调色板</span></span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotrix) <span class="co"># 提供绘图功能</span></span>
<span id="cb42-19"><a href="#cb42-19" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a><span class="fu">## What</span></span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-24"><a href="#cb42-24" aria-hidden="true" tabindex="-1"></a><span class="fu">### Definition  </span></span>
<span id="cb42-25"><a href="#cb42-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-26"><a href="#cb42-26" aria-hidden="true" tabindex="-1"></a>与散点图相似，但测量点是按顺序排列的</span>
<span id="cb42-27"><a href="#cb42-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-28"><a href="#cb42-28" aria-hidden="true" tabindex="-1"></a>以下示例展示了 2013 年 4 月至 2018 年 4 月期间 <span class="co">[</span><span class="ot">比特币价格的演变情况</span><span class="co">](https://www.data-to-viz.com/story/TwoNumOrdered.html)</span>。数据来自 CoinMarketCap 网站</span>
<span id="cb42-29"><a href="#cb42-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-32"><a href="#cb42-32" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-33"><a href="#cb42-33" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: 比特币价格随时间变化的折线图</span></span>
<span id="cb42-34"><a href="#cb42-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-35"><a href="#cb42-35" aria-hidden="true" tabindex="-1"></a><span class="co"># 读取比特币价格数据，数据以空格分隔</span></span>
<span id="cb42-36"><a href="#cb42-36" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(</span>
<span id="cb42-37"><a href="#cb42-37" aria-hidden="true" tabindex="-1"></a>    <span class="st">"https://raw.githubusercontent.com/holtzy/data_to_viz/master/Example_dataset/3_TwoNumOrdered.csv"</span>,</span>
<span id="cb42-38"><a href="#cb42-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">delim =</span> <span class="st">" "</span></span>
<span id="cb42-39"><a href="#cb42-39" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-40"><a href="#cb42-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-41"><a href="#cb42-41" aria-hidden="true" tabindex="-1"></a><span class="co"># 转换日期格式，并绘制比特币价格随时间变化的折线图</span></span>
<span id="cb42-42"><a href="#cb42-42" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb42-43"><a href="#cb42-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(date)) <span class="sc">|&gt;</span> <span class="co"># 转换日期列为Date类型</span></span>
<span id="cb42-44"><a href="#cb42-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> value)) <span class="sc">+</span> <span class="co"># 设置x轴为日期，y轴为价格</span></span>
<span id="cb42-45"><a href="#cb42-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#69b3a2"</span>) <span class="sc">+</span> <span class="co"># 绘制折线，设置颜色</span></span>
<span id="cb42-46"><a href="#cb42-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Evolution of Bitcoin price"</span>) <span class="sc">+</span> <span class="co"># 添加标题</span></span>
<span id="cb42-47"><a href="#cb42-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">"bitcoin price ($)"</span>) <span class="sc">+</span> <span class="co"># 设置y轴标签</span></span>
<span id="cb42-48"><a href="#cb42-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="co"># 应用hrbrthemes主题</span></span>
<span id="cb42-49"><a href="#cb42-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-50"><a href="#cb42-50" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-51"><a href="#cb42-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-52"><a href="#cb42-52" aria-hidden="true" tabindex="-1"></a><span class="fu">### What for</span></span>
<span id="cb42-53"><a href="#cb42-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-54"><a href="#cb42-54" aria-hidden="true" tabindex="-1"></a>线形图可以用来展示一个（如上例）或多个变量的演变情况。</span>
<span id="cb42-55"><a href="#cb42-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-56"><a href="#cb42-56" aria-hidden="true" tabindex="-1"></a>1880 年至 2015 年间美国三个婴儿名字频率的演变情况:</span>
<span id="cb42-57"><a href="#cb42-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-60"><a href="#cb42-60" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-61"><a href="#cb42-61" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: 1880 年至 2015 年间美国三个女性婴儿名字频率的演变</span></span>
<span id="cb42-62"><a href="#cb42-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-63"><a href="#cb42-63" aria-hidden="true" tabindex="-1"></a><span class="co"># 从 github 加载 babynames 数据集，并筛选出名字为 Ashley、Patricia、Helen 的女性婴儿</span></span>
<span id="cb42-64"><a href="#cb42-64" aria-hidden="true" tabindex="-1"></a>don <span class="ot">&lt;-</span> babynames <span class="sc">|&gt;</span></span>
<span id="cb42-65"><a href="#cb42-65" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Ashley"</span>, <span class="st">"Patricia"</span>, <span class="st">"Helen"</span>)) <span class="sc">|&gt;</span> <span class="co"># 只保留指定名字</span></span>
<span id="cb42-66"><a href="#cb42-66" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">"F"</span>) <span class="co"># 只保留女性</span></span>
<span id="cb42-67"><a href="#cb42-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-68"><a href="#cb42-68" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制折线图，展示不同名字随年份的变化趋势</span></span>
<span id="cb42-69"><a href="#cb42-69" aria-hidden="true" tabindex="-1"></a>don <span class="sc">|&gt;</span></span>
<span id="cb42-70"><a href="#cb42-70" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> n, <span class="at">group =</span> name, <span class="at">color =</span> name)) <span class="sc">+</span> <span class="co"># x轴为年份，y轴为人数，按名字分组和着色</span></span>
<span id="cb42-71"><a href="#cb42-71" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="co"># 绘制折线</span></span>
<span id="cb42-72"><a href="#cb42-72" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_viridis</span>(<span class="at">discrete =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> <span class="co"># 使用色盲友好的配色方案</span></span>
<span id="cb42-73"><a href="#cb42-73" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Popularity of American names in the previous 30 years"</span>) <span class="sc">+</span> <span class="co"># 添加标题</span></span>
<span id="cb42-74"><a href="#cb42-74" aria-hidden="true" tabindex="-1"></a>    hrbrthemes<span class="sc">::</span><span class="fu">theme_ipsum</span>() <span class="sc">+</span> <span class="co"># 应用 hrbrthemes 主题</span></span>
<span id="cb42-75"><a href="#cb42-75" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Number of babies born"</span>) <span class="co"># 设置 y 轴标签</span></span>
<span id="cb42-76"><a href="#cb42-76" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-77"><a href="#cb42-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-78"><a href="#cb42-78" aria-hidden="true" tabindex="-1"></a>但是这种情况其实仅适用于**分组不多**的情况。</span>
<span id="cb42-79"><a href="#cb42-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-80"><a href="#cb42-80" aria-hidden="true" tabindex="-1"></a><span class="fu">### Variation  </span></span>
<span id="cb42-81"><a href="#cb42-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-82"><a href="#cb42-82" aria-hidden="true" tabindex="-1"></a>如果数据点的数量较少，建议用点来表示每个单独的观测值。这样可以了解观测值具体是在何时进行的：</span>
<span id="cb42-83"><a href="#cb42-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-86"><a href="#cb42-86" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-87"><a href="#cb42-87" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: 展示比特币价格最后10天的折线与散点图</span></span>
<span id="cb42-88"><a href="#cb42-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-89"><a href="#cb42-89" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb42-90"><a href="#cb42-90" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tail</span>(<span class="dv">10</span>) <span class="sc">|&gt;</span> <span class="co"># 取数据的最后10行</span></span>
<span id="cb42-91"><a href="#cb42-91" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> value)) <span class="sc">+</span> <span class="co"># 设置x轴为日期，y轴为比特币价格</span></span>
<span id="cb42-92"><a href="#cb42-92" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#69b3a2"</span>) <span class="sc">+</span> <span class="co"># 绘制折线，颜色为#69b3a2</span></span>
<span id="cb42-93"><a href="#cb42-93" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"#69b3a2"</span>, <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span> <span class="co"># 绘制散点，颜色为#69b3a2，点大小为4</span></span>
<span id="cb42-94"><a href="#cb42-94" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb42-95"><a href="#cb42-95" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="st">"Date"</span>, <span class="co"># 设置x轴标签</span></span>
<span id="cb42-96"><a href="#cb42-96" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Bitcoin Price ($)"</span>, <span class="co"># 设置y轴标签</span></span>
<span id="cb42-97"><a href="#cb42-97" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">"Bitcoin Price Evolution in the Last 10 Days"</span> <span class="co"># 设置图表标题</span></span>
<span id="cb42-98"><a href="#cb42-98" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb42-99"><a href="#cb42-99" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-100"><a href="#cb42-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-101"><a href="#cb42-101" aria-hidden="true" tabindex="-1"></a>在散点图中，线也用于显示趋势:</span>
<span id="cb42-102"><a href="#cb42-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-105"><a href="#cb42-105" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-106"><a href="#cb42-106" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: 给散点图加上拟合线</span></span>
<span id="cb42-107"><a href="#cb42-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-108"><a href="#cb42-108" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy)) <span class="sc">+</span></span>
<span id="cb42-109"><a href="#cb42-109" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb42-110"><a href="#cb42-110" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">color =</span> <span class="st">"#69b3a2"</span>) <span class="sc">+</span></span>
<span id="cb42-111"><a href="#cb42-111" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>()</span>
<span id="cb42-112"><a href="#cb42-112" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-113"><a href="#cb42-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-114"><a href="#cb42-114" aria-hidden="true" tabindex="-1"></a><span class="fu">### 注意</span></span>
<span id="cb42-115"><a href="#cb42-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-116"><a href="#cb42-116" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Y是否从0开始？ Y 轴截断会夸大差距，商业上常用</span>
<span id="cb42-117"><a href="#cb42-117" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span></span>
<span id="cb42-120"><a href="#cb42-120" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-121"><a href="#cb42-121" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout-ncol: 2</span></span>
<span id="cb42-122"><a href="#cb42-122" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "比较两种Y轴设置对比特币价格走势的影响。"</span></span>
<span id="cb42-123"><a href="#cb42-123" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-subcap:</span></span>
<span id="cb42-124"><a href="#cb42-124" aria-hidden="true" tabindex="-1"></a><span class="co">#| - 左图：Y轴从 0 开始</span></span>
<span id="cb42-125"><a href="#cb42-125" aria-hidden="true" tabindex="-1"></a><span class="co">#| - 右图：Y轴截断</span></span>
<span id="cb42-126"><a href="#cb42-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-127"><a href="#cb42-127" aria-hidden="true" tabindex="-1"></a><span class="co"># 左图：Y轴从0开始</span></span>
<span id="cb42-128"><a href="#cb42-128" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb42-129"><a href="#cb42-129" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(date)) <span class="sc">|&gt;</span> <span class="co"># 转换日期格式</span></span>
<span id="cb42-130"><a href="#cb42-130" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tail</span>(<span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb42-131"><a href="#cb42-131" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> value)) <span class="sc">+</span> <span class="co"># 设置x轴为日期，y轴为比特币价格</span></span>
<span id="cb42-132"><a href="#cb42-132" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#69b3a2"</span>) <span class="sc">+</span> <span class="co"># 绘制折线，颜色为#69b3a2</span></span>
<span id="cb42-133"><a href="#cb42-133" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"#69b3a2"</span>, <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span> <span class="co"># 绘制散点，颜色为#69b3a2，点大小为4</span></span>
<span id="cb42-134"><a href="#cb42-134" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Not cuting"</span>) <span class="sc">+</span> <span class="co"># 设置图表标题</span></span>
<span id="cb42-135"><a href="#cb42-135" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">"bitcoin price ($)"</span>) <span class="sc">+</span> <span class="co"># 设置y轴标签</span></span>
<span id="cb42-136"><a href="#cb42-136" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="sc">+</span> <span class="co"># 应用hrbrthemes主题</span></span>
<span id="cb42-137"><a href="#cb42-137" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">10000</span>) <span class="co"># 设置y轴范围从0到10000</span></span>
<span id="cb42-138"><a href="#cb42-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-139"><a href="#cb42-139" aria-hidden="true" tabindex="-1"></a><span class="co"># 右图：Y轴截断</span></span>
<span id="cb42-140"><a href="#cb42-140" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb42-141"><a href="#cb42-141" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(date)) <span class="sc">|&gt;</span> <span class="co"># 转换日期格式</span></span>
<span id="cb42-142"><a href="#cb42-142" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tail</span>(<span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb42-143"><a href="#cb42-143" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> value)) <span class="sc">+</span> <span class="co"># 设置x轴为日期，y轴为比特币价格</span></span>
<span id="cb42-144"><a href="#cb42-144" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#69b3a2"</span>) <span class="sc">+</span> <span class="co"># 绘制折线，颜色为#69b3a2</span></span>
<span id="cb42-145"><a href="#cb42-145" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"#69b3a2"</span>, <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span> <span class="co"># 绘制散点，颜色为#69b3a2，点大小为4</span></span>
<span id="cb42-146"><a href="#cb42-146" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Cuting"</span>) <span class="sc">+</span> <span class="co"># 设置图表标题</span></span>
<span id="cb42-147"><a href="#cb42-147" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">"bitcoin price ($)"</span>) <span class="sc">+</span> <span class="co"># 设置y轴标签</span></span>
<span id="cb42-148"><a href="#cb42-148" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="co"># 应用hrbrthemes主题</span></span>
<span id="cb42-149"><a href="#cb42-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-150"><a href="#cb42-150" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-151"><a href="#cb42-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-152"><a href="#cb42-152" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>比较两个不同变量的变化趋势，不要使用双轴。（双轴会根据你应用在轴上的范围显示非常不同的结果）</span>
<span id="cb42-153"><a href="#cb42-153" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>选择合适的宽高比，极端比例会使图表难以阅读。</span>
<span id="cb42-154"><a href="#cb42-154" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>警惕意大利面条图（线条太多难以阅读）</span>
<span id="cb42-155"><a href="#cb42-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-156"><a href="#cb42-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-157"><a href="#cb42-157" aria-hidden="true" tabindex="-1"></a><span class="fu">### 意大利面</span></span>
<span id="cb42-158"><a href="#cb42-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-161"><a href="#cb42-161" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-162"><a href="#cb42-162" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "意大利面图：展示 1880-2015 年间美国多个女性婴儿名字的流行趋势"</span></span>
<span id="cb42-163"><a href="#cb42-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-164"><a href="#cb42-164" aria-hidden="true" tabindex="-1"></a><span class="co"># 加载所需包</span></span>
<span id="cb42-165"><a href="#cb42-165" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># 数据处理与可视化核心包</span></span>
<span id="cb42-166"><a href="#cb42-166" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes) <span class="co"># 美化主题</span></span>
<span id="cb42-167"><a href="#cb42-167" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis) <span class="co"># 色盲友好配色</span></span>
<span id="cb42-168"><a href="#cb42-168" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(babynames) <span class="co"># 美国婴儿名字数据集</span></span>
<span id="cb42-169"><a href="#cb42-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-170"><a href="#cb42-170" aria-hidden="true" tabindex="-1"></a><span class="co"># 从 babynames 数据集中筛选指定的女性名字</span></span>
<span id="cb42-171"><a href="#cb42-171" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> babynames <span class="sc">|&gt;</span></span>
<span id="cb42-172"><a href="#cb42-172" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(</span>
<span id="cb42-173"><a href="#cb42-173" aria-hidden="true" tabindex="-1"></a>        name <span class="sc">%in%</span> <span class="co"># 只保留以下名字</span></span>
<span id="cb42-174"><a href="#cb42-174" aria-hidden="true" tabindex="-1"></a>            <span class="fu">c</span>(</span>
<span id="cb42-175"><a href="#cb42-175" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Mary"</span>,</span>
<span id="cb42-176"><a href="#cb42-176" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Emma"</span>,</span>
<span id="cb42-177"><a href="#cb42-177" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Ida"</span>,</span>
<span id="cb42-178"><a href="#cb42-178" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Ashley"</span>,</span>
<span id="cb42-179"><a href="#cb42-179" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Amanda"</span>,</span>
<span id="cb42-180"><a href="#cb42-180" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Jessica"</span>,</span>
<span id="cb42-181"><a href="#cb42-181" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Patricia"</span>,</span>
<span id="cb42-182"><a href="#cb42-182" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Linda"</span>,</span>
<span id="cb42-183"><a href="#cb42-183" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Deborah"</span>,</span>
<span id="cb42-184"><a href="#cb42-184" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Dorothy"</span>,</span>
<span id="cb42-185"><a href="#cb42-185" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Betty"</span>,</span>
<span id="cb42-186"><a href="#cb42-186" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Helen"</span></span>
<span id="cb42-187"><a href="#cb42-187" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb42-188"><a href="#cb42-188" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb42-189"><a href="#cb42-189" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">"F"</span>) <span class="co"># 只保留女性</span></span>
<span id="cb42-190"><a href="#cb42-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-191"><a href="#cb42-191" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制意大利面图（多线折线图）</span></span>
<span id="cb42-192"><a href="#cb42-192" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span></span>
<span id="cb42-193"><a href="#cb42-193" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(</span>
<span id="cb42-194"><a href="#cb42-194" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> year, <span class="co"># x 轴为年份</span></span>
<span id="cb42-195"><a href="#cb42-195" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> n, <span class="co"># y 轴为出生人数</span></span>
<span id="cb42-196"><a href="#cb42-196" aria-hidden="true" tabindex="-1"></a>        <span class="at">group =</span> name, <span class="co"># 按名字分组</span></span>
<span id="cb42-197"><a href="#cb42-197" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> name <span class="co"># 按名字着色</span></span>
<span id="cb42-198"><a href="#cb42-198" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb42-199"><a href="#cb42-199" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="co"># 绘制折线</span></span>
<span id="cb42-200"><a href="#cb42-200" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_viridis</span>(<span class="at">discrete =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> <span class="co"># 使用 viridis 配色</span></span>
<span id="cb42-201"><a href="#cb42-201" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb42-202"><a href="#cb42-202" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"none"</span>, <span class="co"># 不显示图例</span></span>
<span id="cb42-203"><a href="#cb42-203" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>) <span class="co"># 设置标题字体大小</span></span>
<span id="cb42-204"><a href="#cb42-204" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-205"><a href="#cb42-205" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"A spaghetti chart of baby names popularity"</span>) <span class="sc">+</span> <span class="co"># 添加标题</span></span>
<span id="cb42-206"><a href="#cb42-206" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="co"># 应用 hrbrthemes 主题</span></span>
<span id="cb42-207"><a href="#cb42-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-208"><a href="#cb42-208" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-209"><a href="#cb42-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-210"><a href="#cb42-210" aria-hidden="true" tabindex="-1"></a>通过高亮来突出重点：</span>
<span id="cb42-211"><a href="#cb42-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-214"><a href="#cb42-214" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-215"><a href="#cb42-215" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "高亮 Amanda 名字的流行趋势，并添加注释"</span></span>
<span id="cb42-216"><a href="#cb42-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-217"><a href="#cb42-217" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> <span class="co"># 数据集，包含婴儿名字及年份、数量等信息</span></span>
<span id="cb42-218"><a href="#cb42-218" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb42-219"><a href="#cb42-219" aria-hidden="true" tabindex="-1"></a>        <span class="at">highlight =</span> <span class="fu">ifelse</span>(name <span class="sc">==</span> <span class="st">"Amanda"</span>, <span class="st">"Amanda"</span>, <span class="st">"Other"</span>) <span class="co"># 新增 highlight 列，Amanda 为 "Amanda"，其他为 "Other"</span></span>
<span id="cb42-220"><a href="#cb42-220" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb42-221"><a href="#cb42-221" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(</span>
<span id="cb42-222"><a href="#cb42-222" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> year, <span class="co"># x 轴为年份</span></span>
<span id="cb42-223"><a href="#cb42-223" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> n, <span class="co"># y 轴为出生人数</span></span>
<span id="cb42-224"><a href="#cb42-224" aria-hidden="true" tabindex="-1"></a>        <span class="at">group =</span> name, <span class="co"># 按名字分组</span></span>
<span id="cb42-225"><a href="#cb42-225" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> highlight <span class="co"># 按 highlight 分组着色</span></span>
<span id="cb42-226"><a href="#cb42-226" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb42-227"><a href="#cb42-227" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">size =</span> highlight)) <span class="sc">+</span> <span class="co"># 绘制折线，线宽根据 highlight 分组</span></span>
<span id="cb42-228"><a href="#cb42-228" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(</span>
<span id="cb42-229"><a href="#cb42-229" aria-hidden="true" tabindex="-1"></a>        <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#69b3a2"</span>, <span class="st">"lightgrey"</span>) <span class="co"># 手动设置颜色：Amanda 为绿色，其他为浅灰</span></span>
<span id="cb42-230"><a href="#cb42-230" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-231"><a href="#cb42-231" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_size_manual</span>(</span>
<span id="cb42-232"><a href="#cb42-232" aria-hidden="true" tabindex="-1"></a>        <span class="at">values =</span> <span class="fu">c</span>(<span class="fl">1.5</span>, <span class="fl">0.2</span>) <span class="co"># 手动设置线宽：Amanda 为 1.5，其它为 0.2</span></span>
<span id="cb42-233"><a href="#cb42-233" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-234"><a href="#cb42-234" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span> <span class="co"># 不显示图例</span></span>
<span id="cb42-235"><a href="#cb42-235" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Popularity of American names in the previous 30 years"</span>) <span class="sc">+</span> <span class="co"># 添加标题</span></span>
<span id="cb42-236"><a href="#cb42-236" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="sc">+</span> <span class="co"># 应用 hrbrthemes 主题</span></span>
<span id="cb42-237"><a href="#cb42-237" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_label</span>(</span>
<span id="cb42-238"><a href="#cb42-238" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="dv">1990</span>, <span class="co"># 注释标签的 x 坐标（年份）</span></span>
<span id="cb42-239"><a href="#cb42-239" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="dv">55000</span>, <span class="co"># 注释标签的 y 坐标（人数）</span></span>
<span id="cb42-240"><a href="#cb42-240" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">"Amanda reached 3550</span><span class="sc">\n</span><span class="st">babies in 1970"</span>, <span class="co"># 注释内容，\n 换行</span></span>
<span id="cb42-241"><a href="#cb42-241" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> <span class="dv">4</span>, <span class="co"># 注释字体大小</span></span>
<span id="cb42-242"><a href="#cb42-242" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"#69b3a2"</span> <span class="co"># 注释字体颜色</span></span>
<span id="cb42-243"><a href="#cb42-243" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-244"><a href="#cb42-244" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb42-245"><a href="#cb42-245" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"none"</span>, <span class="co"># 不显示图例</span></span>
<span id="cb42-246"><a href="#cb42-246" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>) <span class="co"># 设置标题字体大小</span></span>
<span id="cb42-247"><a href="#cb42-247" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb42-248"><a href="#cb42-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-249"><a href="#cb42-249" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-250"><a href="#cb42-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-251"><a href="#cb42-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-252"><a href="#cb42-252" aria-hidden="true" tabindex="-1"></a>通过分面来突出重点：</span>
<span id="cb42-253"><a href="#cb42-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-254"><a href="#cb42-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-257"><a href="#cb42-257" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-258"><a href="#cb42-258" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: " 1880-2015 年间美国多个女性婴儿名字的流行趋势（每个名字单独分面）"</span></span>
<span id="cb42-259"><a href="#cb42-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-260"><a href="#cb42-260" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span> <span class="co"># 数据集，包含婴儿名字及年份、数量等信息</span></span>
<span id="cb42-261"><a href="#cb42-261" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(</span>
<span id="cb42-262"><a href="#cb42-262" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(</span>
<span id="cb42-263"><a href="#cb42-263" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> year, <span class="co"># x 轴为年份</span></span>
<span id="cb42-264"><a href="#cb42-264" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> n, <span class="co"># y 轴为出生人数</span></span>
<span id="cb42-265"><a href="#cb42-265" aria-hidden="true" tabindex="-1"></a>            <span class="at">group =</span> name, <span class="co"># 按名字分组</span></span>
<span id="cb42-266"><a href="#cb42-266" aria-hidden="true" tabindex="-1"></a>            <span class="at">fill =</span> name <span class="co"># 按名字填充颜色</span></span>
<span id="cb42-267"><a href="#cb42-267" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb42-268"><a href="#cb42-268" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-269"><a href="#cb42-269" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_area</span>() <span class="sc">+</span> <span class="co"># 绘制面积图</span></span>
<span id="cb42-270"><a href="#cb42-270" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_viridis</span>(<span class="at">discrete =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> <span class="co"># 使用 viridis 色盲友好配色方案，discrete = TRUE 表示离散型变量</span></span>
<span id="cb42-271"><a href="#cb42-271" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span> <span class="co"># 不显示图例</span></span>
<span id="cb42-272"><a href="#cb42-272" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Popularity of American names in the previous 30 years"</span>) <span class="sc">+</span> <span class="co"># 添加标题</span></span>
<span id="cb42-273"><a href="#cb42-273" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="sc">+</span> <span class="co"># 应用 hrbrthemes 主题</span></span>
<span id="cb42-274"><a href="#cb42-274" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb42-275"><a href="#cb42-275" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"none"</span>, <span class="co"># 不显示图例</span></span>
<span id="cb42-276"><a href="#cb42-276" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.spacing =</span> <span class="fu">unit</span>(<span class="fl">0.1</span>, <span class="st">"lines"</span>), <span class="co"># 分面之间的间距</span></span>
<span id="cb42-277"><a href="#cb42-277" aria-hidden="true" tabindex="-1"></a>        <span class="at">strip.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>), <span class="co"># 分面标题字体大小</span></span>
<span id="cb42-278"><a href="#cb42-278" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>) <span class="co"># 图表标题字体大小</span></span>
<span id="cb42-279"><a href="#cb42-279" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-280"><a href="#cb42-280" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>name) <span class="co"># 按名字分面，每个名字一个子图</span></span>
<span id="cb42-281"><a href="#cb42-281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-282"><a href="#cb42-282" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-283"><a href="#cb42-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-284"><a href="#cb42-284" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-285"><a href="#cb42-285" aria-hidden="true" tabindex="-1"></a>通过高亮+分面来突出重点：</span>
<span id="cb42-286"><a href="#cb42-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-289"><a href="#cb42-289" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-290"><a href="#cb42-290" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "1880-2015 年间美国多个女性婴儿名字的流行趋势，灰色为其他名字，高亮绿色为当前分面名字"</span></span>
<span id="cb42-291"><a href="#cb42-291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-292"><a href="#cb42-292" aria-hidden="true" tabindex="-1"></a><span class="co"># tmp 数据集：复制 data，并新增 name2 列（等于 name），用于后续分组</span></span>
<span id="cb42-293"><a href="#cb42-293" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span></span>
<span id="cb42-294"><a href="#cb42-294" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">name2 =</span> name)</span>
<span id="cb42-295"><a href="#cb42-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-296"><a href="#cb42-296" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制意大利面图</span></span>
<span id="cb42-297"><a href="#cb42-297" aria-hidden="true" tabindex="-1"></a>tmp <span class="sc">|&gt;</span></span>
<span id="cb42-298"><a href="#cb42-298" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> n)) <span class="sc">+</span> <span class="co"># year 为 x 轴，n 为 y 轴</span></span>
<span id="cb42-299"><a href="#cb42-299" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 绘制所有名字的灰色线（去掉 name，按 name2 分组）</span></span>
<span id="cb42-300"><a href="#cb42-300" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(</span>
<span id="cb42-301"><a href="#cb42-301" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> tmp <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>name), <span class="co"># 去除 name 列，避免颜色映射</span></span>
<span id="cb42-302"><a href="#cb42-302" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">group =</span> name2), <span class="co"># 按 name2 分组</span></span>
<span id="cb42-303"><a href="#cb42-303" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"grey"</span>, <span class="co"># 线条颜色为灰色</span></span>
<span id="cb42-304"><a href="#cb42-304" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> <span class="fl">0.5</span>, <span class="co"># 线宽为 0.5</span></span>
<span id="cb42-305"><a href="#cb42-305" aria-hidden="true" tabindex="-1"></a>        <span class="at">alpha =</span> <span class="fl">0.5</span> <span class="co"># 透明度为 0.5</span></span>
<span id="cb42-306"><a href="#cb42-306" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-307"><a href="#cb42-307" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 绘制当前分面名字的高亮线</span></span>
<span id="cb42-308"><a href="#cb42-308" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(</span>
<span id="cb42-309"><a href="#cb42-309" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">color =</span> name), <span class="co"># 按 name 着色（用于 facet_wrap 高亮）</span></span>
<span id="cb42-310"><a href="#cb42-310" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"#69b3a2"</span>, <span class="co"># 线条颜色为绿色</span></span>
<span id="cb42-311"><a href="#cb42-311" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> <span class="fl">1.2</span> <span class="co"># 线宽为 1.2</span></span>
<span id="cb42-312"><a href="#cb42-312" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-313"><a href="#cb42-313" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_viridis</span>(<span class="at">discrete =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> <span class="co"># 使用 viridis 色盲友好配色方案</span></span>
<span id="cb42-314"><a href="#cb42-314" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="sc">+</span> <span class="co"># 应用 hrbrthemes 主题</span></span>
<span id="cb42-315"><a href="#cb42-315" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb42-316"><a href="#cb42-316" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"none"</span>, <span class="co"># 不显示图例</span></span>
<span id="cb42-317"><a href="#cb42-317" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>), <span class="co"># 标题字体大小</span></span>
<span id="cb42-318"><a href="#cb42-318" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid =</span> <span class="fu">element_blank</span>() <span class="co"># 去除网格线</span></span>
<span id="cb42-319"><a href="#cb42-319" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-320"><a href="#cb42-320" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"A spaghetti chart of baby names popularity"</span>) <span class="sc">+</span> <span class="co"># 添加标题</span></span>
<span id="cb42-321"><a href="#cb42-321" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>name) <span class="co"># 按名字分面，每个名字一个子图</span></span>
<span id="cb42-322"><a href="#cb42-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-323"><a href="#cb42-323" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-324"><a href="#cb42-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-325"><a href="#cb42-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-326"><a href="#cb42-326" aria-hidden="true" tabindex="-1"></a>通过交互来解决意大利面 (部分交互效果 Quarto 中没有正确加载):</span>
<span id="cb42-327"><a href="#cb42-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-330"><a href="#cb42-330" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-331"><a href="#cb42-331" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "交互式意大利面图：展示多个国家消费者信心指数随时间的变化（可悬停高亮）"</span></span>
<span id="cb42-332"><a href="#cb42-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-333"><a href="#cb42-333" aria-hidden="true" tabindex="-1"></a><span class="co"># library</span></span>
<span id="cb42-334"><a href="#cb42-334" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2) <span class="co"># 用于数据可视化</span></span>
<span id="cb42-335"><a href="#cb42-335" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggiraph) <span class="co"># 用于生成交互式 ggplot2 图形</span></span>
<span id="cb42-336"><a href="#cb42-336" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># 数据处理与可视化核心包</span></span>
<span id="cb42-337"><a href="#cb42-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-338"><a href="#cb42-338" aria-hidden="true" tabindex="-1"></a><span class="co"># 读取数据</span></span>
<span id="cb42-339"><a href="#cb42-339" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(</span>
<span id="cb42-340"><a href="#cb42-340" aria-hidden="true" tabindex="-1"></a>    <span class="st">"https://raw.githubusercontent.com/holtzy/R-graph-gallery/master/DATA/dataConsumerConfidence.csv"</span></span>
<span id="cb42-341"><a href="#cb42-341" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb42-342"><a href="#cb42-342" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">date =</span> lubridate<span class="sc">::</span><span class="fu">my</span>(Time)) <span class="sc">|&gt;</span></span>
<span id="cb42-343"><a href="#cb42-343" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>Time) <span class="sc">|&gt;</span></span>
<span id="cb42-344"><a href="#cb42-344" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(<span class="sc">!</span>date, <span class="at">names_to =</span> <span class="st">"country"</span>, <span class="at">values_to =</span> <span class="st">"value"</span>) <span class="sc">|&gt;</span></span>
<span id="cb42-345"><a href="#cb42-345" aria-hidden="true" tabindex="-1"></a>    <span class="fu">na.omit</span>() <span class="sc">|&gt;</span></span>
<span id="cb42-346"><a href="#cb42-346" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">country =</span> <span class="fu">as.factor</span>(country))</span>
<span id="cb42-347"><a href="#cb42-347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-348"><a href="#cb42-348" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制交互式折线图</span></span>
<span id="cb42-349"><a href="#cb42-349" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span></span>
<span id="cb42-350"><a href="#cb42-350" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(</span>
<span id="cb42-351"><a href="#cb42-351" aria-hidden="true" tabindex="-1"></a>        <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb42-352"><a href="#cb42-352" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> date, <span class="co"># x 轴为日期</span></span>
<span id="cb42-353"><a href="#cb42-353" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> value, <span class="co"># y 轴为消费者信心指数</span></span>
<span id="cb42-354"><a href="#cb42-354" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> country, <span class="co"># 按国家分组着色</span></span>
<span id="cb42-355"><a href="#cb42-355" aria-hidden="true" tabindex="-1"></a>            <span class="at">tooltip =</span> country, <span class="co"># 鼠标悬停时显示国家名</span></span>
<span id="cb42-356"><a href="#cb42-356" aria-hidden="true" tabindex="-1"></a>            <span class="at">data_id =</span> country <span class="co"># 交互高亮的分组依据</span></span>
<span id="cb42-357"><a href="#cb42-357" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb42-358"><a href="#cb42-358" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-359"><a href="#cb42-359" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line_interactive</span>(<span class="at">hover_nearest =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> <span class="co"># 绘制可交互折线，hover_nearest=TRUE 表示悬停高亮最近的线</span></span>
<span id="cb42-360"><a href="#cb42-360" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_classic</span>() <span class="co"># 使用经典主题</span></span>
<span id="cb42-361"><a href="#cb42-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-362"><a href="#cb42-362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-363"><a href="#cb42-363" aria-hidden="true" tabindex="-1"></a>interactive_plot <span class="ot">&lt;-</span> <span class="fu">girafe</span>(<span class="at">ggobj =</span> plot) <span class="co"># 输出交互式图形</span></span>
<span id="cb42-364"><a href="#cb42-364" aria-hidden="true" tabindex="-1"></a>interactive_plot</span>
<span id="cb42-365"><a href="#cb42-365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-366"><a href="#cb42-366" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-367"><a href="#cb42-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-368"><a href="#cb42-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-369"><a href="#cb42-369" aria-hidden="true" tabindex="-1"></a>定制 CSS：</span>
<span id="cb42-370"><a href="#cb42-370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-373"><a href="#cb42-373" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-374"><a href="#cb42-374" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "自定义交互式意大利面图的悬停和选中样式，禁用保存为 PNG 工具按钮"</span></span>
<span id="cb42-375"><a href="#cb42-375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-376"><a href="#cb42-376" aria-hidden="true" tabindex="-1"></a>interactive_plot2 <span class="ot">&lt;-</span> <span class="fu">girafe_options</span>(</span>
<span id="cb42-377"><a href="#cb42-377" aria-hidden="true" tabindex="-1"></a>    interactive_plot,</span>
<span id="cb42-378"><a href="#cb42-378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-379"><a href="#cb42-379" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 设置鼠标悬停时的样式：填充色为浅黄色，描边为黑色，鼠标为指针</span></span>
<span id="cb42-380"><a href="#cb42-380" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_hover</span>(<span class="at">css =</span> <span class="st">"fill:#ffe7a6;stroke:black;cursor:pointer;"</span>),</span>
<span id="cb42-381"><a href="#cb42-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-382"><a href="#cb42-382" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 设置选中时的样式：单选，填充色为红色，描边为黑色</span></span>
<span id="cb42-383"><a href="#cb42-383" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_selection</span>(<span class="at">type =</span> <span class="st">"single"</span>, <span class="at">css =</span> <span class="st">"fill:red;stroke:black;"</span>),</span>
<span id="cb42-384"><a href="#cb42-384" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_toolbar</span>(<span class="at">saveaspng =</span> <span class="cn">FALSE</span>) <span class="co"># 工具栏设置：禁用“保存为 PNG”按钮</span></span>
<span id="cb42-385"><a href="#cb42-385" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-386"><a href="#cb42-386" aria-hidden="true" tabindex="-1"></a>interactive_plot2</span>
<span id="cb42-387"><a href="#cb42-387" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-388"><a href="#cb42-388" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-389"><a href="#cb42-389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-390"><a href="#cb42-390" aria-hidden="true" tabindex="-1"></a>高亮某条线：</span>
<span id="cb42-391"><a href="#cb42-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-394"><a href="#cb42-394" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-395"><a href="#cb42-395" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "自定义交互式意大利面图的高亮线样式，鼠标悬停时线条加粗变色，未悬停线条变淡，禁用保存为 PNG 工具按钮"</span></span>
<span id="cb42-396"><a href="#cb42-396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-397"><a href="#cb42-397" aria-hidden="true" tabindex="-1"></a>interactive_plot2 <span class="ot">&lt;-</span> <span class="fu">girafe_options</span>(</span>
<span id="cb42-398"><a href="#cb42-398" aria-hidden="true" tabindex="-1"></a>    interactive_plot,</span>
<span id="cb42-399"><a href="#cb42-399" aria-hidden="true" tabindex="-1"></a>    <span class="co"># opts_hover: 设置鼠标悬停时的 CSS 样式</span></span>
<span id="cb42-400"><a href="#cb42-400" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   css = "stroke:#69B3A2; stroke-width: 3px; transition: all 0.3s ease;"</span></span>
<span id="cb42-401"><a href="#cb42-401" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   - stroke: 线条颜色为 #69B3A2</span></span>
<span id="cb42-402"><a href="#cb42-402" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   - stroke-width: 线宽加粗为 3px</span></span>
<span id="cb42-403"><a href="#cb42-403" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   - transition: 所有变化 0.3 秒内平滑过渡</span></span>
<span id="cb42-404"><a href="#cb42-404" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_hover</span>(<span class="at">css =</span> <span class="st">"stroke:#69B3A2; stroke-width: 3px; transition: all 0.3s ease;"</span>),</span>
<span id="cb42-405"><a href="#cb42-405" aria-hidden="true" tabindex="-1"></a>    <span class="co"># opts_hover_inv: 设置未悬停（非高亮）线条的 CSS 样式</span></span>
<span id="cb42-406"><a href="#cb42-406" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   "opacity:0.5;filter:saturate(10%);"</span></span>
<span id="cb42-407"><a href="#cb42-407" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   - opacity: 透明度降低为 0.5</span></span>
<span id="cb42-408"><a href="#cb42-408" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   - filter:saturate(10%): 饱和度降低为 10%</span></span>
<span id="cb42-409"><a href="#cb42-409" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_hover_inv</span>(<span class="st">"opacity:0.5;filter:saturate(10%);"</span>),</span>
<span id="cb42-410"><a href="#cb42-410" aria-hidden="true" tabindex="-1"></a>    <span class="co"># opts_toolbar: 工具栏设置</span></span>
<span id="cb42-411"><a href="#cb42-411" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   saveaspng = FALSE 禁用“保存为 PNG”按钮</span></span>
<span id="cb42-412"><a href="#cb42-412" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_toolbar</span>(<span class="at">saveaspng =</span> <span class="cn">FALSE</span>)</span>
<span id="cb42-413"><a href="#cb42-413" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-414"><a href="#cb42-414" aria-hidden="true" tabindex="-1"></a>interactive_plot2</span>
<span id="cb42-415"><a href="#cb42-415" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-416"><a href="#cb42-416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-417"><a href="#cb42-417" aria-hidden="true" tabindex="-1"></a>更进一步：</span>
<span id="cb42-418"><a href="#cb42-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-421"><a href="#cb42-421" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-422"><a href="#cb42-422" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "自定义交互式意大利面图的悬停样式，鼠标悬停时线条变色加粗并添加阴影，禁用保存为 PNG 工具按钮"</span></span>
<span id="cb42-423"><a href="#cb42-423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-424"><a href="#cb42-424" aria-hidden="true" tabindex="-1"></a>hover_css <span class="ot">&lt;-</span> <span class="st">"</span></span>
<span id="cb42-425"><a href="#cb42-425" aria-hidden="true" tabindex="-1"></a><span class="st">    fill: #ffe7a6;                      # 鼠标悬停时填充色为浅黄色</span></span>
<span id="cb42-426"><a href="#cb42-426" aria-hidden="true" tabindex="-1"></a><span class="st">    fill-opacity: 0.5;                  # 填充透明度为0.5</span></span>
<span id="cb42-427"><a href="#cb42-427" aria-hidden="true" tabindex="-1"></a><span class="st">    stroke: black;                      # 描边颜色为黑色</span></span>
<span id="cb42-428"><a href="#cb42-428" aria-hidden="true" tabindex="-1"></a><span class="st">    stroke-width: 7px;                  # 描边宽度为7像素</span></span>
<span id="cb42-429"><a href="#cb42-429" aria-hidden="true" tabindex="-1"></a><span class="st">    stroke-dasharray: 5,5;              # 虚线样式，5像素实线+5像素空白</span></span>
<span id="cb42-430"><a href="#cb42-430" aria-hidden="true" tabindex="-1"></a><span class="st">    transition: fill-opacity 0.5s, stroke-width 0.5s, stroke-dasharray 0.5s, filter 0.5s; # 平滑过渡动画</span></span>
<span id="cb42-431"><a href="#cb42-431" aria-hidden="true" tabindex="-1"></a><span class="st">    filter: drop-shadow(0 0 5px rgba(0,0,0,0.5)); # 添加阴影效果</span></span>
<span id="cb42-432"><a href="#cb42-432" aria-hidden="true" tabindex="-1"></a><span class="st">"</span></span>
<span id="cb42-433"><a href="#cb42-433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-434"><a href="#cb42-434" aria-hidden="true" tabindex="-1"></a>interactive_plot2 <span class="ot">&lt;-</span> <span class="fu">girafe_options</span>(</span>
<span id="cb42-435"><a href="#cb42-435" aria-hidden="true" tabindex="-1"></a>    interactive_plot,</span>
<span id="cb42-436"><a href="#cb42-436" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_hover</span>(<span class="at">css =</span> hover_css), <span class="co"># 设置鼠标悬停时的CSS样式</span></span>
<span id="cb42-437"><a href="#cb42-437" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_toolbar</span>(<span class="at">saveaspng =</span> <span class="cn">FALSE</span>) <span class="co"># 工具栏设置：禁用“保存为 PNG”按钮</span></span>
<span id="cb42-438"><a href="#cb42-438" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-439"><a href="#cb42-439" aria-hidden="true" tabindex="-1"></a>interactive_plot2</span>
<span id="cb42-440"><a href="#cb42-440" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-441"><a href="#cb42-441" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-442"><a href="#cb42-442" aria-hidden="true" tabindex="-1"></a>把 CSS 和其它的 <span class="in">`ggiraph`</span> 特性组合：</span>
<span id="cb42-443"><a href="#cb42-443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-446"><a href="#cb42-446" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-447"><a href="#cb42-447" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span></span>
<span id="cb42-448"><a href="#cb42-448" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb42-449"><a href="#cb42-449" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> date,</span>
<span id="cb42-450"><a href="#cb42-450" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> value,</span>
<span id="cb42-451"><a href="#cb42-451" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> country,</span>
<span id="cb42-452"><a href="#cb42-452" aria-hidden="true" tabindex="-1"></a>        <span class="at">group =</span> country,</span>
<span id="cb42-453"><a href="#cb42-453" aria-hidden="true" tabindex="-1"></a>        <span class="at">tooltip =</span> <span class="fu">paste</span>(<span class="st">"Country:"</span>, country, <span class="st">"&lt;br&gt;Date:"</span>, date, <span class="st">"&lt;br&gt;Value:"</span>, <span class="fu">round</span>(value, <span class="dv">2</span>)),</span>
<span id="cb42-454"><a href="#cb42-454" aria-hidden="true" tabindex="-1"></a>        <span class="at">data_id =</span> country</span>
<span id="cb42-455"><a href="#cb42-455" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb42-456"><a href="#cb42-456" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line_interactive</span>(<span class="at">size =</span> <span class="fl">1.2</span>, <span class="at">hover_nearest =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb42-457"><a href="#cb42-457" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point_interactive</span>(<span class="fu">aes</span>(<span class="at">size =</span> value), <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb42-458"><a href="#cb42-458" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_viridis_d</span>() <span class="sc">+</span></span>
<span id="cb42-459"><a href="#cb42-459" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_size_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb42-460"><a href="#cb42-460" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb42-461"><a href="#cb42-461" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb42-462"><a href="#cb42-462" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">"Interactive Country Data Visualization"</span>,</span>
<span id="cb42-463"><a href="#cb42-463" aria-hidden="true" tabindex="-1"></a>        <span class="at">subtitle =</span> <span class="st">"Try to hover and click on the lines!"</span>,</span>
<span id="cb42-464"><a href="#cb42-464" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">"R-Graph-Gallery.com"</span>,</span>
<span id="cb42-465"><a href="#cb42-465" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="st">"Date"</span>,</span>
<span id="cb42-466"><a href="#cb42-466" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Consumer Confidence"</span></span>
<span id="cb42-467"><a href="#cb42-467" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-468"><a href="#cb42-468" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb42-469"><a href="#cb42-469" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">20</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb42-470"><a href="#cb42-470" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"italic"</span>),</span>
<span id="cb42-471"><a href="#cb42-471" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb42-472"><a href="#cb42-472" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb42-473"><a href="#cb42-473" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"ivory"</span>, <span class="at">color =</span> <span class="cn">NA</span>),</span>
<span id="cb42-474"><a href="#cb42-474" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"ivory"</span>, <span class="at">color =</span> <span class="cn">NA</span>)</span>
<span id="cb42-475"><a href="#cb42-475" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb42-476"><a href="#cb42-476" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-477"><a href="#cb42-477" aria-hidden="true" tabindex="-1"></a>interactive_plot <span class="ot">&lt;-</span> <span class="fu">girafe</span>(<span class="at">ggobj =</span> plot)</span>
<span id="cb42-478"><a href="#cb42-478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-479"><a href="#cb42-479" aria-hidden="true" tabindex="-1"></a>hover_css <span class="ot">&lt;-</span> <span class="st">"</span></span>
<span id="cb42-480"><a href="#cb42-480" aria-hidden="true" tabindex="-1"></a><span class="st">  stroke: black;</span></span>
<span id="cb42-481"><a href="#cb42-481" aria-hidden="true" tabindex="-1"></a><span class="st">  stroke-width: 1px;</span></span>
<span id="cb42-482"><a href="#cb42-482" aria-hidden="true" tabindex="-1"></a><span class="st">  r: 8px;</span></span>
<span id="cb42-483"><a href="#cb42-483" aria-hidden="true" tabindex="-1"></a><span class="st">  transition: all 0.3s ease;</span></span>
<span id="cb42-484"><a href="#cb42-484" aria-hidden="true" tabindex="-1"></a><span class="st">"</span></span>
<span id="cb42-485"><a href="#cb42-485" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-486"><a href="#cb42-486" aria-hidden="true" tabindex="-1"></a>tooltip_css <span class="ot">&lt;-</span> <span class="st">"</span></span>
<span id="cb42-487"><a href="#cb42-487" aria-hidden="true" tabindex="-1"></a><span class="st">  background-color: #2C3E50;</span></span>
<span id="cb42-488"><a href="#cb42-488" aria-hidden="true" tabindex="-1"></a><span class="st">  color: #ECF0F1;</span></span>
<span id="cb42-489"><a href="#cb42-489" aria-hidden="true" tabindex="-1"></a><span class="st">  padding: 10px;</span></span>
<span id="cb42-490"><a href="#cb42-490" aria-hidden="true" tabindex="-1"></a><span class="st">  border-radius: 5px;</span></span>
<span id="cb42-491"><a href="#cb42-491" aria-hidden="true" tabindex="-1"></a><span class="st">  font-family: 'Arial', sans-serif;</span></span>
<span id="cb42-492"><a href="#cb42-492" aria-hidden="true" tabindex="-1"></a><span class="st">  font-size: 14px;</span></span>
<span id="cb42-493"><a href="#cb42-493" aria-hidden="true" tabindex="-1"></a><span class="st">  box-shadow: 0px 0px 10px rgba(0,0,0,0.5);</span></span>
<span id="cb42-494"><a href="#cb42-494" aria-hidden="true" tabindex="-1"></a><span class="st">"</span></span>
<span id="cb42-495"><a href="#cb42-495" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-496"><a href="#cb42-496" aria-hidden="true" tabindex="-1"></a>interactive_plot <span class="ot">&lt;-</span> <span class="fu">girafe_options</span>(</span>
<span id="cb42-497"><a href="#cb42-497" aria-hidden="true" tabindex="-1"></a>    interactive_plot,</span>
<span id="cb42-498"><a href="#cb42-498" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_hover</span>(<span class="at">css =</span> hover_css),</span>
<span id="cb42-499"><a href="#cb42-499" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_tooltip</span>(<span class="at">css =</span> tooltip_css, <span class="at">use_fill =</span> <span class="cn">TRUE</span>),</span>
<span id="cb42-500"><a href="#cb42-500" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_selection</span>(<span class="at">type =</span> <span class="st">"multiple"</span>, <span class="at">only_shiny =</span> <span class="cn">FALSE</span>),</span>
<span id="cb42-501"><a href="#cb42-501" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_zoom</span>(<span class="at">min =</span> <span class="fl">0.5</span>, <span class="at">max =</span> <span class="dv">2</span>),</span>
<span id="cb42-502"><a href="#cb42-502" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_toolbar</span>(<span class="at">saveaspng =</span> <span class="cn">TRUE</span>, <span class="at">position =</span> <span class="st">"topright"</span>, <span class="at">pngname =</span> <span class="st">"country_data_plot"</span>),</span>
<span id="cb42-503"><a href="#cb42-503" aria-hidden="true" tabindex="-1"></a>    <span class="fu">opts_sizing</span>(<span class="at">rescale =</span> <span class="cn">TRUE</span>)</span>
<span id="cb42-504"><a href="#cb42-504" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-505"><a href="#cb42-505" aria-hidden="true" tabindex="-1"></a>interactive_plot</span>
<span id="cb42-506"><a href="#cb42-506" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-507"><a href="#cb42-507" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-508"><a href="#cb42-508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-509"><a href="#cb42-509" aria-hidden="true" tabindex="-1"></a><span class="fu">## `ggplot2`</span></span>
<span id="cb42-510"><a href="#cb42-510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-511"><a href="#cb42-511" aria-hidden="true" tabindex="-1"></a><span class="fu">### 基本</span></span>
<span id="cb42-512"><a href="#cb42-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-515"><a href="#cb42-515" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-516"><a href="#cb42-516" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: 使用 `geom_line()` 绘制简单的折线图</span></span>
<span id="cb42-517"><a href="#cb42-517" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-518"><a href="#cb42-518" aria-hidden="true" tabindex="-1"></a><span class="co"># 创建示例数据</span></span>
<span id="cb42-519"><a href="#cb42-519" aria-hidden="true" tabindex="-1"></a>xValue <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb42-520"><a href="#cb42-520" aria-hidden="true" tabindex="-1"></a>yValue <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(<span class="fu">rnorm</span>(<span class="dv">10</span>))</span>
<span id="cb42-521"><a href="#cb42-521" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(xValue, yValue)</span>
<span id="cb42-522"><a href="#cb42-522" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-523"><a href="#cb42-523" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘图</span></span>
<span id="cb42-524"><a href="#cb42-524" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> xValue, <span class="at">y =</span> yValue)) <span class="sc">+</span></span>
<span id="cb42-525"><a href="#cb42-525" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>()</span>
<span id="cb42-526"><a href="#cb42-526" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-527"><a href="#cb42-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-528"><a href="#cb42-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-529"><a href="#cb42-529" aria-hidden="true" tabindex="-1"></a><span class="fu">### 线外观</span></span>
<span id="cb42-530"><a href="#cb42-530" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-533"><a href="#cb42-533" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-534"><a href="#cb42-534" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: 使用 `geom_line()`绘制带有自定义线条样式的折线图</span></span>
<span id="cb42-535"><a href="#cb42-535" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-536"><a href="#cb42-536" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> xValue, <span class="at">y =</span> yValue)) <span class="sc">+</span></span>
<span id="cb42-537"><a href="#cb42-537" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(</span>
<span id="cb42-538"><a href="#cb42-538" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"#69b3a2"</span>, <span class="co"># 线条颜色</span></span>
<span id="cb42-539"><a href="#cb42-539" aria-hidden="true" tabindex="-1"></a>        <span class="at">linewidth =</span> <span class="dv">2</span>, <span class="co"># 线条粗细，旧版是 size</span></span>
<span id="cb42-540"><a href="#cb42-540" aria-hidden="true" tabindex="-1"></a>        <span class="at">alpha =</span> <span class="fl">0.9</span>, <span class="co"># 线条透明度</span></span>
<span id="cb42-541"><a href="#cb42-541" aria-hidden="true" tabindex="-1"></a>        <span class="at">linetype =</span> <span class="dv">2</span> <span class="co"># 线条类型</span></span>
<span id="cb42-542"><a href="#cb42-542" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-543"><a href="#cb42-543" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>()</span>
<span id="cb42-544"><a href="#cb42-544" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-545"><a href="#cb42-545" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-546"><a href="#cb42-546" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-547"><a href="#cb42-547" aria-hidden="true" tabindex="-1"></a><span class="fu">### 对数</span></span>
<span id="cb42-548"><a href="#cb42-548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-549"><a href="#cb42-549" aria-hidden="true" tabindex="-1"></a><span class="in">`scale_y_log10()`</span> 可以将 y 轴进行 log10 变换，适用于数据范围较大或呈指数增长的情况。</span>
<span id="cb42-550"><a href="#cb42-550" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-551"><a href="#cb42-551" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-554"><a href="#cb42-554" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-555"><a href="#cb42-555" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout-ncol: 2</span></span>
<span id="cb42-556"><a href="#cb42-556" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: 使用对数坐标轴绘制折线图，展示 y 轴 log10 变换效果</span></span>
<span id="cb42-557"><a href="#cb42-557" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-subcap:</span></span>
<span id="cb42-558"><a href="#cb42-558" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - 左图：y 轴从 1 到 100 的线性刻度</span></span>
<span id="cb42-559"><a href="#cb42-559" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - 右图：y 轴使用 log10 变换</span></span>
<span id="cb42-560"><a href="#cb42-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-561"><a href="#cb42-561" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb42-562"><a href="#cb42-562" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">seq</span>(<span class="dv">10</span>, <span class="dv">100</span>), <span class="co"># x 变量，取值从10到100</span></span>
<span id="cb42-563"><a href="#cb42-563" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="fu">seq</span>(<span class="dv">10</span>, <span class="dv">100</span>) <span class="sc">/</span> <span class="dv">2</span> <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">90</span>) <span class="co"># y 变量，等差递增并加上正态噪声</span></span>
<span id="cb42-564"><a href="#cb42-564" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-565"><a href="#cb42-565" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-566"><a href="#cb42-566" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制普通折线图</span></span>
<span id="cb42-567"><a href="#cb42-567" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y)) <span class="sc">+</span></span>
<span id="cb42-568"><a href="#cb42-568" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>()</span>
<span id="cb42-569"><a href="#cb42-569" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-570"><a href="#cb42-570" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制对数折线图</span></span>
<span id="cb42-571"><a href="#cb42-571" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y)) <span class="sc">+</span></span>
<span id="cb42-572"><a href="#cb42-572" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="co"># 添加折线</span></span>
<span id="cb42-573"><a href="#cb42-573" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_log10</span>( <span class="co"># y 轴使用 log10 变换</span></span>
<span id="cb42-574"><a href="#cb42-574" aria-hidden="true" tabindex="-1"></a>        <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">50</span>, <span class="dv">100</span>), <span class="co"># 指定 y 轴刻度</span></span>
<span id="cb42-575"><a href="#cb42-575" aria-hidden="true" tabindex="-1"></a>        <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">100</span>) <span class="co"># 设置 y 轴显示范围</span></span>
<span id="cb42-576"><a href="#cb42-576" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb42-577"><a href="#cb42-577" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-578"><a href="#cb42-578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-579"><a href="#cb42-579" aria-hidden="true" tabindex="-1"></a><span class="fu">### date</span></span>
<span id="cb42-580"><a href="#cb42-580" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-583"><a href="#cb42-583" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-584"><a href="#cb42-584" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: 使用日期数据绘制折线图</span></span>
<span id="cb42-585"><a href="#cb42-585" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-586"><a href="#cb42-586" aria-hidden="true" tabindex="-1"></a><span class="co"># df 是前文从 github 加载的数据</span></span>
<span id="cb42-587"><a href="#cb42-587" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb42-588"><a href="#cb42-588" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(date)) <span class="sc">|&gt;</span> <span class="co"># 转化为时间</span></span>
<span id="cb42-589"><a href="#cb42-589" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tail</span>(<span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb42-590"><a href="#cb42-590" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb42-591"><a href="#cb42-591" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"grey"</span>) <span class="sc">+</span></span>
<span id="cb42-592"><a href="#cb42-592" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">21</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="st">"#69b3a2"</span>, <span class="at">size =</span> <span class="dv">6</span>) <span class="sc">+</span></span>
<span id="cb42-593"><a href="#cb42-593" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="sc">+</span></span>
<span id="cb42-594"><a href="#cb42-594" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Evolution of bitcoin price"</span>)</span>
<span id="cb42-595"><a href="#cb42-595" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-596"><a href="#cb42-596" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-597"><a href="#cb42-597" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-598"><a href="#cb42-598" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-599"><a href="#cb42-599" aria-hidden="true" tabindex="-1"></a><span class="fu">### group</span></span>
<span id="cb42-600"><a href="#cb42-600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-603"><a href="#cb42-603" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-604"><a href="#cb42-604" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "分组折线图：展示 1880 年至 2015 年间美国女性婴儿名字 Ashley、Patricia、Helen 的流行趋势"</span></span>
<span id="cb42-605"><a href="#cb42-605" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-606"><a href="#cb42-606" aria-hidden="true" tabindex="-1"></a>don <span class="ot">&lt;-</span> babynames <span class="sc">|&gt;</span></span>
<span id="cb42-607"><a href="#cb42-607" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Ashley"</span>, <span class="st">"Patricia"</span>, <span class="st">"Helen"</span>)) <span class="sc">|&gt;</span> <span class="co"># 只保留名字为 Ashley、Patricia、Helen 的记录</span></span>
<span id="cb42-608"><a href="#cb42-608" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">"F"</span>) <span class="co"># 只保留女性婴儿数据</span></span>
<span id="cb42-609"><a href="#cb42-609" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-610"><a href="#cb42-610" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制分组折线图</span></span>
<span id="cb42-611"><a href="#cb42-611" aria-hidden="true" tabindex="-1"></a>don <span class="sc">|&gt;</span></span>
<span id="cb42-612"><a href="#cb42-612" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(</span>
<span id="cb42-613"><a href="#cb42-613" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> year, <span class="co"># x 轴为年份</span></span>
<span id="cb42-614"><a href="#cb42-614" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> n, <span class="co"># y 轴为出生人数</span></span>
<span id="cb42-615"><a href="#cb42-615" aria-hidden="true" tabindex="-1"></a>        <span class="co"># group = name,     # 按名字分组，有color设置就不需要这句</span></span>
<span id="cb42-616"><a href="#cb42-616" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> name <span class="co"># 按名字着色</span></span>
<span id="cb42-617"><a href="#cb42-617" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb42-618"><a href="#cb42-618" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="co"># 绘制折线</span></span>
<span id="cb42-619"><a href="#cb42-619" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-620"><a href="#cb42-620" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-621"><a href="#cb42-621" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-624"><a href="#cb42-624" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-625"><a href="#cb42-625" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "美化的分组折线图：展示 1880 年至 2015 年间美国女性婴儿名字 Ashley、Patricia、Helen 的流行趋势"</span></span>
<span id="cb42-626"><a href="#cb42-626" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-627"><a href="#cb42-627" aria-hidden="true" tabindex="-1"></a>don <span class="sc">|&gt;</span></span>
<span id="cb42-628"><a href="#cb42-628" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(</span>
<span id="cb42-629"><a href="#cb42-629" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(</span>
<span id="cb42-630"><a href="#cb42-630" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> year, <span class="co"># x 轴为年份</span></span>
<span id="cb42-631"><a href="#cb42-631" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> n, <span class="co"># y 轴为出生人数</span></span>
<span id="cb42-632"><a href="#cb42-632" aria-hidden="true" tabindex="-1"></a>            <span class="at">group =</span> name, <span class="co"># 按名字分组</span></span>
<span id="cb42-633"><a href="#cb42-633" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> name <span class="co"># 按名字着色</span></span>
<span id="cb42-634"><a href="#cb42-634" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb42-635"><a href="#cb42-635" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-636"><a href="#cb42-636" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="co"># 绘制折线</span></span>
<span id="cb42-637"><a href="#cb42-637" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_viridis</span>(<span class="at">discrete =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> <span class="co"># 使用色盲友好的配色方案</span></span>
<span id="cb42-638"><a href="#cb42-638" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Popularity of American names in the previous 30 years"</span>) <span class="sc">+</span> <span class="co"># 添加标题</span></span>
<span id="cb42-639"><a href="#cb42-639" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="sc">+</span> <span class="co"># 应用 hrbrthemes 主题</span></span>
<span id="cb42-640"><a href="#cb42-640" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">"Number of babies born"</span>) <span class="co"># 设置 y 轴标签</span></span>
<span id="cb42-641"><a href="#cb42-641" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-642"><a href="#cb42-642" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-643"><a href="#cb42-643" aria-hidden="true" tabindex="-1"></a><span class="fu">### Linear model</span></span>
<span id="cb42-644"><a href="#cb42-644" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-647"><a href="#cb42-647" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-648"><a href="#cb42-648" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "线性模型拟合：点图、线性趋势线、置信区间演示"</span></span>
<span id="cb42-649"><a href="#cb42-649" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout-ncol: 3</span></span>
<span id="cb42-650"><a href="#cb42-650" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-subcap:</span></span>
<span id="cb42-651"><a href="#cb42-651" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - 散点图</span></span>
<span id="cb42-652"><a href="#cb42-652" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - 线性趋势线</span></span>
<span id="cb42-653"><a href="#cb42-653" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - 线性趋势线及置信区间</span></span>
<span id="cb42-654"><a href="#cb42-654" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-655"><a href="#cb42-655" aria-hidden="true" tabindex="-1"></a><span class="co"># 创建示例数据</span></span>
<span id="cb42-656"><a href="#cb42-656" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb42-657"><a href="#cb42-657" aria-hidden="true" tabindex="-1"></a>    <span class="at">cond =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"condition_1"</span>, <span class="st">"condition_2"</span>), <span class="at">each =</span> <span class="dv">10</span>),</span>
<span id="cb42-658"><a href="#cb42-658" aria-hidden="true" tabindex="-1"></a>    <span class="at">my_x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span> <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="at">sd =</span> <span class="dv">9</span>),</span>
<span id="cb42-659"><a href="#cb42-659" aria-hidden="true" tabindex="-1"></a>    <span class="at">my_y =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span> <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="at">sd =</span> <span class="dv">16</span>)</span>
<span id="cb42-660"><a href="#cb42-660" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-661"><a href="#cb42-661" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-662"><a href="#cb42-662" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制散点图，展示数据分布</span></span>
<span id="cb42-663"><a href="#cb42-663" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> my_x, <span class="at">y =</span> my_y)) <span class="sc">+</span></span>
<span id="cb42-664"><a href="#cb42-664" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"#69b3a2"</span>) <span class="sc">+</span> <span class="co"># 绘制散点，颜色为#69b3a2</span></span>
<span id="cb42-665"><a href="#cb42-665" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="co"># 应用 hrbrthemes 主题</span></span>
<span id="cb42-666"><a href="#cb42-666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-667"><a href="#cb42-667" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制散点图并添加线性趋势线（不显示置信区间）</span></span>
<span id="cb42-668"><a href="#cb42-668" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> my_x, <span class="at">y =</span> my_y)) <span class="sc">+</span></span>
<span id="cb42-669"><a href="#cb42-669" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="co"># 绘制散点</span></span>
<span id="cb42-670"><a href="#cb42-670" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> <span class="co"># 添加线性拟合线，颜色为红色，不显示置信区间</span></span>
<span id="cb42-671"><a href="#cb42-671" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="co"># 应用 hrbrthemes 主题</span></span>
<span id="cb42-672"><a href="#cb42-672" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-673"><a href="#cb42-673" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制散点图并添加线性趋势线及置信区间</span></span>
<span id="cb42-674"><a href="#cb42-674" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> my_x, <span class="at">y =</span> my_y)) <span class="sc">+</span></span>
<span id="cb42-675"><a href="#cb42-675" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="co"># 绘制散点</span></span>
<span id="cb42-676"><a href="#cb42-676" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">fill =</span> <span class="st">"#69b3a2"</span>, <span class="at">se =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> <span class="co"># 添加线性拟合线，颜色为红色，置信区间填充色为#69b3a2</span></span>
<span id="cb42-677"><a href="#cb42-677" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="co"># 应用 hrbrthemes 主题</span></span>
<span id="cb42-678"><a href="#cb42-678" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-679"><a href="#cb42-679" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-680"><a href="#cb42-680" aria-hidden="true" tabindex="-1"></a><span class="fu">### Annotation </span></span>
<span id="cb42-681"><a href="#cb42-681" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-684"><a href="#cb42-684" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-685"><a href="#cb42-685" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "比特币价格注释示例：突出 2017 年末价格峰值及 5000 美元水平线"</span></span>
<span id="cb42-686"><a href="#cb42-686" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-687"><a href="#cb42-687" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制比特币价格折线图，并添加注释</span></span>
<span id="cb42-688"><a href="#cb42-688" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb42-689"><a href="#cb42-689" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(date)) <span class="sc">|&gt;</span> <span class="co"># 转换日期格式</span></span>
<span id="cb42-690"><a href="#cb42-690" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> value)) <span class="sc">+</span> <span class="co"># 设置 x 轴为日期，y 轴为价格</span></span>
<span id="cb42-691"><a href="#cb42-691" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#69b3a2"</span>) <span class="sc">+</span> <span class="co"># 绘制折线，颜色为 #69b3a2</span></span>
<span id="cb42-692"><a href="#cb42-692" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">22000</span>) <span class="sc">+</span> <span class="co"># 设置 y 轴范围为 0 到 22000</span></span>
<span id="cb42-693"><a href="#cb42-693" aria-hidden="true" tabindex="-1"></a>    <span class="fu">annotate</span>(</span>
<span id="cb42-694"><a href="#cb42-694" aria-hidden="true" tabindex="-1"></a>        <span class="at">geom =</span> <span class="st">"text"</span>, <span class="co"># 添加文本注释</span></span>
<span id="cb42-695"><a href="#cb42-695" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fu">as.Date</span>(<span class="st">"2017-01-01"</span>), <span class="co"># 注释文本的 x 坐标（日期）</span></span>
<span id="cb42-696"><a href="#cb42-696" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="dv">20089</span>, <span class="co"># 注释文本的 y 坐标（价格）</span></span>
<span id="cb42-697"><a href="#cb42-697" aria-hidden="true" tabindex="-1"></a>        <span class="at">label =</span> <span class="st">"Bitcoin price reached 20k $</span><span class="sc">\n</span><span class="st">at the end of 2017"</span> <span class="co"># 注释内容，\n 表示换行</span></span>
<span id="cb42-698"><a href="#cb42-698" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-699"><a href="#cb42-699" aria-hidden="true" tabindex="-1"></a>    <span class="fu">annotate</span>(</span>
<span id="cb42-700"><a href="#cb42-700" aria-hidden="true" tabindex="-1"></a>        <span class="at">geom =</span> <span class="st">"point"</span>, <span class="co"># 添加点注释</span></span>
<span id="cb42-701"><a href="#cb42-701" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fu">as.Date</span>(<span class="st">"2017-12-17"</span>), <span class="co"># 点的 x 坐标（日期）</span></span>
<span id="cb42-702"><a href="#cb42-702" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="dv">20089</span>, <span class="co"># 点的 y 坐标（价格）</span></span>
<span id="cb42-703"><a href="#cb42-703" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> <span class="dv">10</span>, <span class="co"># 点的大小</span></span>
<span id="cb42-704"><a href="#cb42-704" aria-hidden="true" tabindex="-1"></a>        <span class="at">shape =</span> <span class="dv">21</span>, <span class="co"># 点的形状（圆形，带边框）</span></span>
<span id="cb42-705"><a href="#cb42-705" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> <span class="st">"transparent"</span> <span class="co"># 填充色为透明</span></span>
<span id="cb42-706"><a href="#cb42-706" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-707"><a href="#cb42-707" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_hline</span>(</span>
<span id="cb42-708"><a href="#cb42-708" aria-hidden="true" tabindex="-1"></a>        <span class="at">yintercept =</span> <span class="dv">5000</span>, <span class="co"># 添加水平线，y=5000</span></span>
<span id="cb42-709"><a href="#cb42-709" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"orange"</span>, <span class="co"># 水平线颜色为橙色</span></span>
<span id="cb42-710"><a href="#cb42-710" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> .<span class="dv">5</span> <span class="co"># 水平线宽度</span></span>
<span id="cb42-711"><a href="#cb42-711" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-712"><a href="#cb42-712" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="co"># 应用 hrbrthemes 主题</span></span>
<span id="cb42-713"><a href="#cb42-713" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-714"><a href="#cb42-714" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-715"><a href="#cb42-715" aria-hidden="true" tabindex="-1"></a><span class="fu">### Highlight </span></span>
<span id="cb42-716"><a href="#cb42-716" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-719"><a href="#cb42-719" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-720"><a href="#cb42-720" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "`ggplot2` 默认线条"</span></span>
<span id="cb42-721"><a href="#cb42-721" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-722"><a href="#cb42-722" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gghighlight)</span>
<span id="cb42-723"><a href="#cb42-723" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-724"><a href="#cb42-724" aria-hidden="true" tabindex="-1"></a><span class="co"># 构造示例数据</span></span>
<span id="cb42-725"><a href="#cb42-725" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb42-726"><a href="#cb42-726" aria-hidden="true" tabindex="-1"></a>period <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb42-727"><a href="#cb42-727" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb42-728"><a href="#cb42-728" aria-hidden="true" tabindex="-1"></a>    <span class="at">Date =</span> <span class="fu">seq</span>(<span class="fu">as.Date</span>(<span class="st">"2020-01-01"</span>), <span class="at">by =</span> <span class="st">"day"</span>, <span class="at">length.out =</span> period),</span>
<span id="cb42-729"><a href="#cb42-729" aria-hidden="true" tabindex="-1"></a>    <span class="at">Value =</span> <span class="fu">c</span>(</span>
<span id="cb42-730"><a href="#cb42-730" aria-hidden="true" tabindex="-1"></a>        <span class="fu">cumsum</span>(<span class="fu">rnorm</span>(period)),</span>
<span id="cb42-731"><a href="#cb42-731" aria-hidden="true" tabindex="-1"></a>        <span class="fu">cumsum</span>(<span class="fu">rnorm</span>(period)),</span>
<span id="cb42-732"><a href="#cb42-732" aria-hidden="true" tabindex="-1"></a>        <span class="fu">cumsum</span>(<span class="fu">rnorm</span>(period))</span>
<span id="cb42-733"><a href="#cb42-733" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb42-734"><a href="#cb42-734" aria-hidden="true" tabindex="-1"></a>    <span class="at">Type =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"a"</span>, period), <span class="fu">rep</span>(<span class="st">"b"</span>, period), <span class="fu">rep</span>(<span class="st">"c"</span>, period))</span>
<span id="cb42-735"><a href="#cb42-735" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-736"><a href="#cb42-736" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-737"><a href="#cb42-737" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-738"><a href="#cb42-738" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb42-739"><a href="#cb42-739" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Date, <span class="at">y =</span> Value, <span class="at">color =</span> Type)) <span class="sc">+</span></span>
<span id="cb42-740"><a href="#cb42-740" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>()</span>
<span id="cb42-741"><a href="#cb42-741" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-742"><a href="#cb42-742" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-743"><a href="#cb42-743" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-746"><a href="#cb42-746" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-747"><a href="#cb42-747" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "使用 `gghighlight` 高亮显示特定线"</span></span>
<span id="cb42-748"><a href="#cb42-748" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-749"><a href="#cb42-749" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb42-750"><a href="#cb42-750" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Date, <span class="at">y =</span> Value, <span class="at">color =</span> Type)) <span class="sc">+</span></span>
<span id="cb42-751"><a href="#cb42-751" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb42-752"><a href="#cb42-752" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gghighlight</span>(<span class="fu">max</span>(Value) <span class="sc">&gt;</span> <span class="dv">10</span>)</span>
<span id="cb42-753"><a href="#cb42-753" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-754"><a href="#cb42-754" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-755"><a href="#cb42-755" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-758"><a href="#cb42-758" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-759"><a href="#cb42-759" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "自定义未高亮线的样式"</span></span>
<span id="cb42-760"><a href="#cb42-760" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-761"><a href="#cb42-761" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df) <span class="sc">+</span></span>
<span id="cb42-762"><a href="#cb42-762" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(</span>
<span id="cb42-763"><a href="#cb42-763" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(Date, Value, <span class="at">colour =</span> Type), <span class="co"># 映射：x轴为Date，y轴为Value，按Type着色</span></span>
<span id="cb42-764"><a href="#cb42-764" aria-hidden="true" tabindex="-1"></a>        <span class="at">linewidth =</span> <span class="dv">1</span> <span class="co"># 线宽为1</span></span>
<span id="cb42-765"><a href="#cb42-765" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-766"><a href="#cb42-766" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gghighlight</span>(</span>
<span id="cb42-767"><a href="#cb42-767" aria-hidden="true" tabindex="-1"></a>        <span class="fu">max</span>(Value) <span class="sc">&gt;</span> <span class="dv">10</span>, <span class="co"># 仅高亮 Value 最大值大于10的线</span></span>
<span id="cb42-768"><a href="#cb42-768" aria-hidden="true" tabindex="-1"></a>        <span class="at">unhighlighted_params =</span> <span class="fu">list</span>(</span>
<span id="cb42-769"><a href="#cb42-769" aria-hidden="true" tabindex="-1"></a>            <span class="at">linewidth =</span> <span class="fl">0.3</span>, <span class="co"># 未高亮线宽为0.3</span></span>
<span id="cb42-770"><a href="#cb42-770" aria-hidden="true" tabindex="-1"></a>            <span class="at">colour =</span> <span class="fu">alpha</span>(<span class="st">"blue"</span>, <span class="fl">0.7</span>), <span class="co"># 未高亮线为蓝色，透明度0.7</span></span>
<span id="cb42-771"><a href="#cb42-771" aria-hidden="true" tabindex="-1"></a>            <span class="at">linetype =</span> <span class="st">"dashed"</span> <span class="co"># 未高亮线为虚线</span></span>
<span id="cb42-772"><a href="#cb42-772" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb42-773"><a href="#cb42-773" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb42-774"><a href="#cb42-774" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-775"><a href="#cb42-775" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-776"><a href="#cb42-776" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-777"><a href="#cb42-777" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-780"><a href="#cb42-780" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-781"><a href="#cb42-781" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "gghighlight 高亮线示例：上图高亮最大值大于10的线，下图高亮最小值小于-10的线"</span></span>
<span id="cb42-782"><a href="#cb42-782" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-783"><a href="#cb42-783" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes)</span>
<span id="cb42-784"><a href="#cb42-784" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb42-785"><a href="#cb42-785" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-786"><a href="#cb42-786" aria-hidden="true" tabindex="-1"></a><span class="co"># plot1：高亮最大值大于10的线</span></span>
<span id="cb42-787"><a href="#cb42-787" aria-hidden="true" tabindex="-1"></a>plot1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df) <span class="sc">+</span></span>
<span id="cb42-788"><a href="#cb42-788" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(</span>
<span id="cb42-789"><a href="#cb42-789" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(Date, Value, <span class="at">colour =</span> Type), <span class="co"># 映射：x轴为Date，y轴为Value，按Type着色</span></span>
<span id="cb42-790"><a href="#cb42-790" aria-hidden="true" tabindex="-1"></a>        <span class="at">linewidth =</span> <span class="fl">0.4</span>, <span class="co"># 线宽为0.4</span></span>
<span id="cb42-791"><a href="#cb42-791" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"#4393C3"</span> <span class="co"># 线条颜色为#4393C3</span></span>
<span id="cb42-792"><a href="#cb42-792" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-793"><a href="#cb42-793" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gghighlight</span>(</span>
<span id="cb42-794"><a href="#cb42-794" aria-hidden="true" tabindex="-1"></a>        <span class="fu">max</span>(Value) <span class="sc">&gt;</span> <span class="dv">10</span>, <span class="co"># 仅高亮 Value 最大值大于10的线</span></span>
<span id="cb42-795"><a href="#cb42-795" aria-hidden="true" tabindex="-1"></a>        <span class="at">unhighlighted_params =</span> <span class="fu">list</span>(</span>
<span id="cb42-796"><a href="#cb42-796" aria-hidden="true" tabindex="-1"></a>            <span class="at">linewidth =</span> <span class="fl">0.3</span>, <span class="co"># 未高亮线宽为0.3</span></span>
<span id="cb42-797"><a href="#cb42-797" aria-hidden="true" tabindex="-1"></a>            <span class="at">colour =</span> <span class="fu">alpha</span>(<span class="st">"darkred"</span>, <span class="fl">0.7</span>), <span class="co"># 未高亮线为深红色，透明度0.7</span></span>
<span id="cb42-798"><a href="#cb42-798" aria-hidden="true" tabindex="-1"></a>            <span class="at">linetype =</span> <span class="st">"dotted"</span> <span class="co"># 未高亮线为点状线</span></span>
<span id="cb42-799"><a href="#cb42-799" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb42-800"><a href="#cb42-800" aria-hidden="true" tabindex="-1"></a>        <span class="at">use_direct_label =</span> <span class="cn">FALSE</span> <span class="co"># 不直接标注高亮线</span></span>
<span id="cb42-801"><a href="#cb42-801" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-802"><a href="#cb42-802" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb42-803"><a href="#cb42-803" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb42-804"><a href="#cb42-804" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">""</span>)</span>
<span id="cb42-805"><a href="#cb42-805" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-806"><a href="#cb42-806" aria-hidden="true" tabindex="-1"></a><span class="co"># plot2：高亮最小值小于-10的线</span></span>
<span id="cb42-807"><a href="#cb42-807" aria-hidden="true" tabindex="-1"></a>plot2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df) <span class="sc">+</span></span>
<span id="cb42-808"><a href="#cb42-808" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(</span>
<span id="cb42-809"><a href="#cb42-809" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(Date, Value, <span class="at">colour =</span> Type), <span class="co"># 映射：x轴为Date，y轴为Value，按Type着色</span></span>
<span id="cb42-810"><a href="#cb42-810" aria-hidden="true" tabindex="-1"></a>        <span class="at">linewidth =</span> <span class="fl">0.4</span>, <span class="co"># 线宽为0.4</span></span>
<span id="cb42-811"><a href="#cb42-811" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"#4393C3"</span> <span class="co"># 线条颜色为#4393C3</span></span>
<span id="cb42-812"><a href="#cb42-812" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-813"><a href="#cb42-813" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gghighlight</span>(</span>
<span id="cb42-814"><a href="#cb42-814" aria-hidden="true" tabindex="-1"></a>        <span class="fu">min</span>(Value) <span class="sc">&lt;</span> <span class="sc">-</span><span class="dv">10</span>, <span class="co"># 仅高亮 Value 最小值小于-10的线</span></span>
<span id="cb42-815"><a href="#cb42-815" aria-hidden="true" tabindex="-1"></a>        <span class="at">unhighlighted_params =</span> <span class="fu">list</span>(</span>
<span id="cb42-816"><a href="#cb42-816" aria-hidden="true" tabindex="-1"></a>            <span class="at">linewidth =</span> <span class="fl">0.3</span>, <span class="co"># 未高亮线宽为0.3</span></span>
<span id="cb42-817"><a href="#cb42-817" aria-hidden="true" tabindex="-1"></a>            <span class="at">colour =</span> <span class="fu">alpha</span>(<span class="st">"darkred"</span>, <span class="fl">0.7</span>), <span class="co"># 未高亮线为深红色，透明度0.7</span></span>
<span id="cb42-818"><a href="#cb42-818" aria-hidden="true" tabindex="-1"></a>            <span class="at">linetype =</span> <span class="st">"dotted"</span> <span class="co"># 未高亮线为点状线</span></span>
<span id="cb42-819"><a href="#cb42-819" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb42-820"><a href="#cb42-820" aria-hidden="true" tabindex="-1"></a>        <span class="at">use_direct_label =</span> <span class="cn">FALSE</span> <span class="co"># 不直接标注高亮线</span></span>
<span id="cb42-821"><a href="#cb42-821" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-822"><a href="#cb42-822" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>()</span>
<span id="cb42-823"><a href="#cb42-823" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-824"><a href="#cb42-824" aria-hidden="true" tabindex="-1"></a><span class="co"># 上下拼接两个图，并添加总标题</span></span>
<span id="cb42-825"><a href="#cb42-825" aria-hidden="true" tabindex="-1"></a>plot1 <span class="sc">/</span> plot2 <span class="sc">+</span> <span class="fu">plot_annotation</span>(<span class="at">title =</span> <span class="st">"This chart is built with gghighlight"</span>)</span>
<span id="cb42-826"><a href="#cb42-826" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-827"><a href="#cb42-827" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-828"><a href="#cb42-828" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-829"><a href="#cb42-829" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-830"><a href="#cb42-830" aria-hidden="true" tabindex="-1"></a><span class="fu">### `geom_ribbon()`</span></span>
<span id="cb42-831"><a href="#cb42-831" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-832"><a href="#cb42-832" aria-hidden="true" tabindex="-1"></a>与 <span class="in">`geom_smooth() `</span>类似（可自动计算阴影面积），但是 <span class="in">`geom_ribbon()`</span> 需要自己输入阴影部分。</span>
<span id="cb42-833"><a href="#cb42-833" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-836"><a href="#cb42-836" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-837"><a href="#cb42-837" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "使用 `geom_ribbon()` 绘制带阴影的折线图"</span></span>
<span id="cb42-838"><a href="#cb42-838" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-839"><a href="#cb42-839" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-840"><a href="#cb42-840" aria-hidden="true" tabindex="-1"></a>huron <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">year =</span> <span class="dv">1875</span><span class="sc">:</span><span class="dv">1972</span>, <span class="at">level =</span> <span class="fu">as.vector</span>(LakeHuron))</span>
<span id="cb42-841"><a href="#cb42-841" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(huron, <span class="fu">aes</span>(<span class="at">x =</span> year)) <span class="sc">+</span></span>
<span id="cb42-842"><a href="#cb42-842" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> level <span class="sc">-</span> <span class="dv">1</span>, <span class="at">ymax =</span> level <span class="sc">+</span> <span class="dv">1</span>), <span class="at">fill =</span> <span class="st">"grey70"</span>) <span class="sc">+</span></span>
<span id="cb42-843"><a href="#cb42-843" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> level))</span>
<span id="cb42-844"><a href="#cb42-844" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-845"><a href="#cb42-845" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-846"><a href="#cb42-846" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-847"><a href="#cb42-847" aria-hidden="true" tabindex="-1"></a><span class="fu">## `Base R`</span></span>
<span id="cb42-848"><a href="#cb42-848" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-849"><a href="#cb42-849" aria-hidden="true" tabindex="-1"></a><span class="fu">### 彩虹线</span></span>
<span id="cb42-850"><a href="#cb42-850" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-853"><a href="#cb42-853" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-854"><a href="#cb42-854" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "使用 Base R 的 `plotrix::clplot()` 绘制分段彩色折线图，展示 x 与 y 的关系"</span></span>
<span id="cb42-855"><a href="#cb42-855" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-856"><a href="#cb42-856" aria-hidden="true" tabindex="-1"></a><span class="co"># 加载 plotrix 包，提供 clplot 分段彩色折线图函数</span></span>
<span id="cb42-857"><a href="#cb42-857" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotrix)</span>
<span id="cb42-858"><a href="#cb42-858" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-859"><a href="#cb42-859" aria-hidden="true" tabindex="-1"></a><span class="co"># 加载 RColorBrewer 包，生成配色方案</span></span>
<span id="cb42-860"><a href="#cb42-860" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb42-861"><a href="#cb42-861" aria-hidden="true" tabindex="-1"></a>my_colors <span class="ot">&lt;-</span> <span class="fu">brewer.pal</span>(<span class="dv">8</span>, <span class="st">"Set2"</span>) <span class="co"># 生成 8 种 Set2 调色板颜色</span></span>
<span id="cb42-862"><a href="#cb42-862" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-863"><a href="#cb42-863" aria-hidden="true" tabindex="-1"></a><span class="co"># 创建数据</span></span>
<span id="cb42-864"><a href="#cb42-864" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">100</span>) <span class="co"># x 变量，取值为 1 到 100 的等差数列</span></span>
<span id="cb42-865"><a href="#cb42-865" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">sin</span>(x <span class="sc">/</span> <span class="dv">5</span>) <span class="sc">+</span> x <span class="sc">/</span> <span class="dv">20</span> <span class="co"># y 变量，包含正弦波动和线性增长</span></span>
<span id="cb42-866"><a href="#cb42-866" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-867"><a href="#cb42-867" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制分段彩色折线图</span></span>
<span id="cb42-868"><a href="#cb42-868" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">2</span>)) <span class="co"># 设置图形边距，下、左、上、右分别为 4,4,2,2</span></span>
<span id="cb42-869"><a href="#cb42-869" aria-hidden="true" tabindex="-1"></a><span class="fu">clplot</span>(</span>
<span id="cb42-870"><a href="#cb42-870" aria-hidden="true" tabindex="-1"></a>    x, <span class="co"># x 轴数据</span></span>
<span id="cb42-871"><a href="#cb42-871" aria-hidden="true" tabindex="-1"></a>    y, <span class="co"># y 轴数据</span></span>
<span id="cb42-872"><a href="#cb42-872" aria-hidden="true" tabindex="-1"></a>    <span class="at">main =</span> <span class="st">""</span>, <span class="co"># 图表标题为空</span></span>
<span id="cb42-873"><a href="#cb42-873" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> <span class="dv">5</span>, <span class="co"># 线宽为 5</span></span>
<span id="cb42-874"><a href="#cb42-874" aria-hidden="true" tabindex="-1"></a>    <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>), <span class="co"># 分段水平，决定颜色分段的区间</span></span>
<span id="cb42-875"><a href="#cb42-875" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> my_colors, <span class="co"># 使用自定义的颜色向量</span></span>
<span id="cb42-876"><a href="#cb42-876" aria-hidden="true" tabindex="-1"></a>    <span class="at">showcuts =</span> T, <span class="co"># 是否显示分段的切割线（TRUE 显示）</span></span>
<span id="cb42-877"><a href="#cb42-877" aria-hidden="true" tabindex="-1"></a>    <span class="at">bty =</span> <span class="st">"n"</span> <span class="co"># 不绘制边框（box type = "none"）</span></span>
<span id="cb42-878"><a href="#cb42-878" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-879"><a href="#cb42-879" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-880"><a href="#cb42-880" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-881"><a href="#cb42-881" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-882"><a href="#cb42-882" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-883"><a href="#cb42-883" aria-hidden="true" tabindex="-1"></a><span class="fu">### 图例</span></span>
<span id="cb42-884"><a href="#cb42-884" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-887"><a href="#cb42-887" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-888"><a href="#cb42-888" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "基础折线图：两组数据随 a 变化的趋势，并添加图例"</span></span>
<span id="cb42-889"><a href="#cb42-889" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-890"><a href="#cb42-890" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-891"><a href="#cb42-891" aria-hidden="true" tabindex="-1"></a><span class="co"># 创建数据:</span></span>
<span id="cb42-892"><a href="#cb42-892" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb42-893"><a href="#cb42-893" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">5</span>)</span>
<span id="cb42-894"><a href="#cb42-894" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">1</span>)</span>
<span id="cb42-895"><a href="#cb42-895" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-896"><a href="#cb42-896" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制基础折线图</span></span>
<span id="cb42-897"><a href="#cb42-897" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb42-898"><a href="#cb42-898" aria-hidden="true" tabindex="-1"></a>    b <span class="sc">~</span> a, <span class="co"># y ~ x，b 随 a 变化</span></span>
<span id="cb42-899"><a href="#cb42-899" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"b"</span>, <span class="co"># "b" 表示点和线都画</span></span>
<span id="cb42-900"><a href="#cb42-900" aria-hidden="true" tabindex="-1"></a>    <span class="at">bty =</span> <span class="st">"l"</span>, <span class="co"># 只画左和下边框</span></span>
<span id="cb42-901"><a href="#cb42-901" aria-hidden="true" tabindex="-1"></a>    <span class="at">xlab =</span> <span class="st">"value of a"</span>, <span class="co"># x 轴标签</span></span>
<span id="cb42-902"><a href="#cb42-902" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylab =</span> <span class="st">"value of b"</span>, <span class="co"># y 轴标签</span></span>
<span id="cb42-903"><a href="#cb42-903" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="fu">rgb</span>(<span class="fl">0.2</span>, <span class="fl">0.4</span>, <span class="fl">0.1</span>, <span class="fl">0.7</span>), <span class="co"># 线和点的颜色（带透明度）</span></span>
<span id="cb42-904"><a href="#cb42-904" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> <span class="dv">3</span>, <span class="co"># 线宽</span></span>
<span id="cb42-905"><a href="#cb42-905" aria-hidden="true" tabindex="-1"></a>    <span class="at">pch =</span> <span class="dv">17</span>, <span class="co"># 点的形状（17为实心三角）</span></span>
<span id="cb42-906"><a href="#cb42-906" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>) <span class="co"># y 轴范围</span></span>
<span id="cb42-907"><a href="#cb42-907" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-908"><a href="#cb42-908" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(</span>
<span id="cb42-909"><a href="#cb42-909" aria-hidden="true" tabindex="-1"></a>    c <span class="sc">~</span> a, <span class="co"># 第二组数据 c 随 a 变化</span></span>
<span id="cb42-910"><a href="#cb42-910" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="fu">rgb</span>(<span class="fl">0.8</span>, <span class="fl">0.4</span>, <span class="fl">0.1</span>, <span class="fl">0.7</span>), <span class="co"># 线和点的颜色</span></span>
<span id="cb42-911"><a href="#cb42-911" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> <span class="dv">3</span>, <span class="co"># 线宽</span></span>
<span id="cb42-912"><a href="#cb42-912" aria-hidden="true" tabindex="-1"></a>    <span class="at">pch =</span> <span class="dv">19</span>, <span class="co"># 点的形状（19为实心圆）</span></span>
<span id="cb42-913"><a href="#cb42-913" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"b"</span> <span class="co"># 点和线都画</span></span>
<span id="cb42-914"><a href="#cb42-914" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-915"><a href="#cb42-915" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-916"><a href="#cb42-916" aria-hidden="true" tabindex="-1"></a><span class="co"># 添加图例</span></span>
<span id="cb42-917"><a href="#cb42-917" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(</span>
<span id="cb42-918"><a href="#cb42-918" aria-hidden="true" tabindex="-1"></a>    <span class="st">"bottomleft"</span>, <span class="co"># 图例位置：左下角</span></span>
<span id="cb42-919"><a href="#cb42-919" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"Group 1"</span>, <span class="st">"Group 2"</span>), <span class="co"># 图例标签</span></span>
<span id="cb42-920"><a href="#cb42-920" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="fu">c</span>(<span class="fu">rgb</span>(<span class="fl">0.2</span>, <span class="fl">0.4</span>, <span class="fl">0.1</span>, <span class="fl">0.7</span>), <span class="fu">rgb</span>(<span class="fl">0.8</span>, <span class="fl">0.4</span>, <span class="fl">0.1</span>, <span class="fl">0.7</span>)), <span class="co"># 每组颜色</span></span>
<span id="cb42-921"><a href="#cb42-921" aria-hidden="true" tabindex="-1"></a>    <span class="at">pch =</span> <span class="fu">c</span>(<span class="dv">17</span>, <span class="dv">19</span>), <span class="co"># 每组点的形状</span></span>
<span id="cb42-922"><a href="#cb42-922" aria-hidden="true" tabindex="-1"></a>    <span class="at">bty =</span> <span class="st">"n"</span>, <span class="co"># 图例无边框</span></span>
<span id="cb42-923"><a href="#cb42-923" aria-hidden="true" tabindex="-1"></a>    <span class="at">pt.cex =</span> <span class="dv">2</span>, <span class="co"># 点的大小</span></span>
<span id="cb42-924"><a href="#cb42-924" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="fl">1.2</span>, <span class="co"># 字体大小</span></span>
<span id="cb42-925"><a href="#cb42-925" aria-hidden="true" tabindex="-1"></a>    <span class="at">text.col =</span> <span class="st">"black"</span>, <span class="co"># 文字颜色</span></span>
<span id="cb42-926"><a href="#cb42-926" aria-hidden="true" tabindex="-1"></a>    <span class="at">horiz =</span> F, <span class="co"># 垂直排列</span></span>
<span id="cb42-927"><a href="#cb42-927" aria-hidden="true" tabindex="-1"></a>    <span class="at">inset =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.1</span>) <span class="co"># 图例与边界的距离</span></span>
<span id="cb42-928"><a href="#cb42-928" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-929"><a href="#cb42-929" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-930"><a href="#cb42-930" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-931"><a href="#cb42-931" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-932"><a href="#cb42-932" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-933"><a href="#cb42-933" aria-hidden="true" tabindex="-1"></a><span class="fu">### Y 轴反向</span></span>
<span id="cb42-934"><a href="#cb42-934" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-937"><a href="#cb42-937" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-938"><a href="#cb42-938" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "基础折线图：y 轴反向显示，展示 y 随 x 递减趋势，并添加竖向灰色参考线"</span></span>
<span id="cb42-939"><a href="#cb42-939" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-940"><a href="#cb42-940" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">29</span>)<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> <span class="fu">runif</span>(<span class="dv">29</span>, <span class="fl">0.98</span>)</span>
<span id="cb42-941"><a href="#cb42-941" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">abs</span>(<span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">29</span>) <span class="sc">+</span> <span class="dv">4</span> <span class="sc">*</span> <span class="fu">runif</span>(<span class="dv">29</span>, <span class="fl">0.4</span>))</span>
<span id="cb42-942"><a href="#cb42-942" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-943"><a href="#cb42-943" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制基础折线图</span></span>
<span id="cb42-944"><a href="#cb42-944" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb42-945"><a href="#cb42-945" aria-hidden="true" tabindex="-1"></a>    y <span class="sc">~</span> x, <span class="co"># y ~ x，y 随 x 变化</span></span>
<span id="cb42-946"><a href="#cb42-946" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylim =</span> <span class="fu">rev</span>(<span class="fu">range</span>(y)), <span class="co"># y 轴范围反转（递减显示）</span></span>
<span id="cb42-947"><a href="#cb42-947" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> <span class="dv">4</span>, <span class="co"># 线宽为 4</span></span>
<span id="cb42-948"><a href="#cb42-948" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"l"</span>, <span class="co"># "l" 表示只画线</span></span>
<span id="cb42-949"><a href="#cb42-949" aria-hidden="true" tabindex="-1"></a>    <span class="at">bty =</span> <span class="st">"n"</span>, <span class="co"># 不绘制边框（box type = "none"）</span></span>
<span id="cb42-950"><a href="#cb42-950" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylab =</span> <span class="st">"value of y (decreasing)"</span>, <span class="co"># y 轴标签</span></span>
<span id="cb42-951"><a href="#cb42-951" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="fu">rgb</span>(<span class="fl">0.2</span>, <span class="fl">0.4</span>, <span class="fl">0.6</span>, <span class="fl">0.8</span>) <span class="co"># 线条颜色（带透明度）</span></span>
<span id="cb42-952"><a href="#cb42-952" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-953"><a href="#cb42-953" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-954"><a href="#cb42-954" aria-hidden="true" tabindex="-1"></a><span class="co"># 添加竖向灰色参考线</span></span>
<span id="cb42-955"><a href="#cb42-955" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(</span>
<span id="cb42-956"><a href="#cb42-956" aria-hidden="true" tabindex="-1"></a>    <span class="at">v =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">900</span>, <span class="dv">100</span>), <span class="co"># v 指定竖线位置（从0到900，每隔100）</span></span>
<span id="cb42-957"><a href="#cb42-957" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">"grey"</span>, <span class="co"># 线条颜色为灰色</span></span>
<span id="cb42-958"><a href="#cb42-958" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> <span class="fl">0.6</span> <span class="co"># 线宽为0.6</span></span>
<span id="cb42-959"><a href="#cb42-959" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-960"><a href="#cb42-960" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-961"><a href="#cb42-961" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-962"><a href="#cb42-962" aria-hidden="true" tabindex="-1"></a><span class="fu">### 拟合</span></span>
<span id="cb42-963"><a href="#cb42-963" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-966"><a href="#cb42-966" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-967"><a href="#cb42-967" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "多项式拟合示例：三次多项式拟合散点数据，并在图中显示拟合公式和拟合优度"</span></span>
<span id="cb42-968"><a href="#cb42-968" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-969"><a href="#cb42-969" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-970"><a href="#cb42-970" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">300</span>, <span class="at">min =</span> <span class="sc">-</span><span class="dv">10</span>, <span class="at">max =</span> <span class="dv">10</span>) <span class="co"># 生成300个均匀分布的随机数，范围[-10, 10]</span></span>
<span id="cb42-971"><a href="#cb42-971" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fl">0.1</span> <span class="sc">*</span> x<span class="sc">^</span><span class="dv">3</span> <span class="sc">-</span> <span class="fl">0.5</span> <span class="sc">*</span> x<span class="sc">^</span><span class="dv">2</span> <span class="sc">-</span> x <span class="sc">+</span> <span class="dv">10</span> <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="fu">length</span>(x), <span class="dv">0</span>, <span class="dv">8</span>) <span class="co"># 构造三次多项式关系并加上正态噪声</span></span>
<span id="cb42-972"><a href="#cb42-972" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-973"><a href="#cb42-973" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制散点图</span></span>
<span id="cb42-974"><a href="#cb42-974" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb42-975"><a href="#cb42-975" aria-hidden="true" tabindex="-1"></a>    x, y,</span>
<span id="cb42-976"><a href="#cb42-976" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="fu">rgb</span>(<span class="fl">0.4</span>, <span class="fl">0.4</span>, <span class="fl">0.8</span>, <span class="fl">0.6</span>), <span class="co"># 点的颜色（带透明度）</span></span>
<span id="cb42-977"><a href="#cb42-977" aria-hidden="true" tabindex="-1"></a>    <span class="at">pch =</span> <span class="dv">16</span>, <span class="co"># 点的形状（16为实心圆）</span></span>
<span id="cb42-978"><a href="#cb42-978" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex =</span> <span class="fl">1.3</span> <span class="co"># 点的大小</span></span>
<span id="cb42-979"><a href="#cb42-979" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-980"><a href="#cb42-980" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-981"><a href="#cb42-981" aria-hidden="true" tabindex="-1"></a><span class="co"># 用三次多项式拟合数据</span></span>
<span id="cb42-982"><a href="#cb42-982" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> x <span class="sc">+</span> <span class="fu">I</span>(x<span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> <span class="fu">I</span>(x<span class="sc">^</span><span class="dv">3</span>))</span>
<span id="cb42-983"><a href="#cb42-983" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-984"><a href="#cb42-984" aria-hidden="true" tabindex="-1"></a><span class="co"># 可以查看模型特征</span></span>
<span id="cb42-985"><a href="#cb42-985" aria-hidden="true" tabindex="-1"></a><span class="co"># summary(model)</span></span>
<span id="cb42-986"><a href="#cb42-986" aria-hidden="true" tabindex="-1"></a><span class="co"># model$coefficients</span></span>
<span id="cb42-987"><a href="#cb42-987" aria-hidden="true" tabindex="-1"></a><span class="co"># summary(model)$adj.r.squared</span></span>
<span id="cb42-988"><a href="#cb42-988" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-989"><a href="#cb42-989" aria-hidden="true" tabindex="-1"></a><span class="co"># 预测每个x对应的y拟合值，并添加拟合曲线到图中</span></span>
<span id="cb42-990"><a href="#cb42-990" aria-hidden="true" tabindex="-1"></a>myPredict <span class="ot">&lt;-</span> <span class="fu">predict</span>(model)</span>
<span id="cb42-991"><a href="#cb42-991" aria-hidden="true" tabindex="-1"></a>ix <span class="ot">&lt;-</span> <span class="fu">sort</span>(x, <span class="at">index.return =</span> <span class="cn">TRUE</span>)<span class="sc">$</span>ix <span class="co"># 获取x排序后的索引</span></span>
<span id="cb42-992"><a href="#cb42-992" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(</span>
<span id="cb42-993"><a href="#cb42-993" aria-hidden="true" tabindex="-1"></a>    x[ix], myPredict[ix],</span>
<span id="cb42-994"><a href="#cb42-994" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="dv">2</span>, <span class="co"># 拟合曲线颜色（2为红色）</span></span>
<span id="cb42-995"><a href="#cb42-995" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> <span class="dv">2</span> <span class="co"># 线宽为2</span></span>
<span id="cb42-996"><a href="#cb42-996" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-997"><a href="#cb42-997" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-998"><a href="#cb42-998" aria-hidden="true" tabindex="-1"></a><span class="co"># 在图中添加模型公式和拟合优度</span></span>
<span id="cb42-999"><a href="#cb42-999" aria-hidden="true" tabindex="-1"></a>coeff <span class="ot">&lt;-</span> <span class="fu">round</span>(model<span class="sc">$</span>coefficients, <span class="dv">2</span>) <span class="co"># 四舍五入系数</span></span>
<span id="cb42-1000"><a href="#cb42-1000" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(</span>
<span id="cb42-1001"><a href="#cb42-1001" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>, <span class="sc">-</span><span class="dv">70</span>,</span>
<span id="cb42-1002"><a href="#cb42-1002" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(</span>
<span id="cb42-1003"><a href="#cb42-1003" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Model : "</span>, coeff[<span class="dv">1</span>], <span class="st">" + "</span>, coeff[<span class="dv">2</span>], <span class="st">"*x"</span>, <span class="st">"+"</span>, coeff[<span class="dv">3</span>], <span class="st">"*x^2"</span>, <span class="st">"+"</span>, coeff[<span class="dv">4</span>], <span class="st">"*x^3"</span>, <span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>,</span>
<span id="cb42-1004"><a href="#cb42-1004" aria-hidden="true" tabindex="-1"></a>        <span class="st">"P-value adjusted = "</span>, <span class="fu">round</span>(<span class="fu">summary</span>(model)<span class="sc">$</span>adj.r.squared, <span class="dv">2</span>)</span>
<span id="cb42-1005"><a href="#cb42-1005" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb42-1006"><a href="#cb42-1006" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-1007"><a href="#cb42-1007" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-1008"><a href="#cb42-1008" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1009"><a href="#cb42-1009" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1010"><a href="#cb42-1010" aria-hidden="true" tabindex="-1"></a><span class="fu">### Cheatsheet</span></span>
<span id="cb42-1011"><a href="#cb42-1011" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1014"><a href="#cb42-1014" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-1015"><a href="#cb42-1015" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "基础 R 绘图参数演示：pch、col、cex、lty、type、lwd 的效果"</span></span>
<span id="cb42-1016"><a href="#cb42-1016" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1017"><a href="#cb42-1017" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1018"><a href="#cb42-1018" aria-hidden="true" tabindex="-1"></a><span class="co"># initialization</span></span>
<span id="cb42-1019"><a href="#cb42-1019" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">3</span>)) <span class="co"># 设置图形边距，下、左、上、右分别为3</span></span>
<span id="cb42-1020"><a href="#cb42-1020" aria-hidden="true" tabindex="-1"></a>num <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb42-1021"><a href="#cb42-1021" aria-hidden="true" tabindex="-1"></a>num1 <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb42-1022"><a href="#cb42-1022" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb42-1023"><a href="#cb42-1023" aria-hidden="true" tabindex="-1"></a>    <span class="dv">0</span>, <span class="co"># x 坐标</span></span>
<span id="cb42-1024"><a href="#cb42-1024" aria-hidden="true" tabindex="-1"></a>    <span class="dv">0</span>, <span class="co"># y 坐标</span></span>
<span id="cb42-1025"><a href="#cb42-1025" aria-hidden="true" tabindex="-1"></a>    <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">21</span>), <span class="co"># x 轴范围</span></span>
<span id="cb42-1026"><a href="#cb42-1026" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylim =</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="fl">6.5</span>), <span class="co"># y 轴范围</span></span>
<span id="cb42-1027"><a href="#cb42-1027" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">"white"</span>, <span class="co"># 点颜色为白色（背景）</span></span>
<span id="cb42-1028"><a href="#cb42-1028" aria-hidden="true" tabindex="-1"></a>    <span class="at">yaxt =</span> <span class="st">"n"</span>, <span class="co"># 不绘制 y 轴刻度</span></span>
<span id="cb42-1029"><a href="#cb42-1029" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylab =</span> <span class="st">""</span>, <span class="co"># y 轴标签为空</span></span>
<span id="cb42-1030"><a href="#cb42-1030" aria-hidden="true" tabindex="-1"></a>    <span class="at">xlab =</span> <span class="st">""</span> <span class="co"># x 轴标签为空</span></span>
<span id="cb42-1031"><a href="#cb42-1031" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-1032"><a href="#cb42-1032" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1033"><a href="#cb42-1033" aria-hidden="true" tabindex="-1"></a><span class="co"># 填充图形内容</span></span>
<span id="cb42-1034"><a href="#cb42-1034" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">20</span>)) {</span>
<span id="cb42-1035"><a href="#cb42-1035" aria-hidden="true" tabindex="-1"></a>    <span class="fu">points</span>(i, <span class="dv">1</span>, <span class="at">pch =</span> i, <span class="at">cex =</span> <span class="dv">3</span>) <span class="co"># pch 不同点形状</span></span>
<span id="cb42-1036"><a href="#cb42-1036" aria-hidden="true" tabindex="-1"></a>    <span class="fu">points</span>(i, <span class="dv">2</span>, <span class="at">col =</span> i, <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">cex =</span> <span class="dv">3</span>) <span class="co"># col 不同颜色</span></span>
<span id="cb42-1037"><a href="#cb42-1037" aria-hidden="true" tabindex="-1"></a>    <span class="fu">points</span>(i, <span class="dv">3</span>, <span class="at">col =</span> <span class="st">"black"</span>, <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">cex =</span> i <span class="sc">*</span> <span class="fl">0.25</span>) <span class="co"># cex 不同点大小</span></span>
<span id="cb42-1038"><a href="#cb42-1038" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1039"><a href="#cb42-1039" aria-hidden="true" tabindex="-1"></a>    <span class="co"># lty 线型</span></span>
<span id="cb42-1040"><a href="#cb42-1040" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (i <span class="sc">%in%</span> <span class="fu">c</span>(<span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">18</span>, <span class="dv">3</span>))) {</span>
<span id="cb42-1041"><a href="#cb42-1041" aria-hidden="true" tabindex="-1"></a>        num <span class="ot">&lt;-</span> num <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb42-1042"><a href="#cb42-1042" aria-hidden="true" tabindex="-1"></a>        <span class="fu">points</span>(<span class="fu">c</span>(i, i <span class="sc">+</span> <span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">4</span>), <span class="at">col =</span> <span class="st">"black"</span>, <span class="at">lty =</span> num, <span class="at">type =</span> <span class="st">"l"</span>, <span class="at">lwd =</span> <span class="dv">2</span>) <span class="co"># lty 不同线型</span></span>
<span id="cb42-1043"><a href="#cb42-1043" aria-hidden="true" tabindex="-1"></a>        <span class="fu">text</span>(i <span class="sc">+</span> <span class="fl">1.1</span>, <span class="fl">4.15</span>, num) <span class="co"># 标注线型编号</span></span>
<span id="cb42-1044"><a href="#cb42-1044" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb42-1045"><a href="#cb42-1045" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1046"><a href="#cb42-1046" aria-hidden="true" tabindex="-1"></a>    <span class="co"># type 和 lwd</span></span>
<span id="cb42-1047"><a href="#cb42-1047" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (i <span class="sc">%in%</span> <span class="fu">c</span>(<span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">20</span>, <span class="dv">5</span>))) {</span>
<span id="cb42-1048"><a href="#cb42-1048" aria-hidden="true" tabindex="-1"></a>        num1 <span class="ot">&lt;-</span> num1 <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb42-1049"><a href="#cb42-1049" aria-hidden="true" tabindex="-1"></a>        <span class="fu">points</span>(</span>
<span id="cb42-1050"><a href="#cb42-1050" aria-hidden="true" tabindex="-1"></a>            <span class="fu">c</span>(i, i <span class="sc">+</span> <span class="dv">1</span>, i <span class="sc">+</span> <span class="dv">2</span>, i <span class="sc">+</span> <span class="dv">3</span>),</span>
<span id="cb42-1051"><a href="#cb42-1051" aria-hidden="true" tabindex="-1"></a>            <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">5</span>),</span>
<span id="cb42-1052"><a href="#cb42-1052" aria-hidden="true" tabindex="-1"></a>            <span class="at">col =</span> <span class="st">"black"</span>,</span>
<span id="cb42-1053"><a href="#cb42-1053" aria-hidden="true" tabindex="-1"></a>            <span class="at">type =</span> <span class="fu">c</span>(<span class="st">"p"</span>, <span class="st">"l"</span>, <span class="st">"b"</span>, <span class="st">"o"</span>)[num1], <span class="co"># type 不同类型（点、线、点线、重叠）</span></span>
<span id="cb42-1054"><a href="#cb42-1054" aria-hidden="true" tabindex="-1"></a>            <span class="at">lwd =</span> <span class="dv">2</span></span>
<span id="cb42-1055"><a href="#cb42-1055" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb42-1056"><a href="#cb42-1056" aria-hidden="true" tabindex="-1"></a>        <span class="fu">text</span>(i <span class="sc">+</span> <span class="fl">1.1</span>, <span class="fl">5.2</span>, <span class="fu">c</span>(<span class="st">"p"</span>, <span class="st">"l"</span>, <span class="st">"b"</span>, <span class="st">"o"</span>)[num1]) <span class="co"># 标注 type 类型</span></span>
<span id="cb42-1057"><a href="#cb42-1057" aria-hidden="true" tabindex="-1"></a>        <span class="fu">points</span>(</span>
<span id="cb42-1058"><a href="#cb42-1058" aria-hidden="true" tabindex="-1"></a>            <span class="fu">c</span>(i, i <span class="sc">+</span> <span class="dv">1</span>, i <span class="sc">+</span> <span class="dv">2</span>, i <span class="sc">+</span> <span class="dv">3</span>),</span>
<span id="cb42-1059"><a href="#cb42-1059" aria-hidden="true" tabindex="-1"></a>            <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">6</span>, <span class="dv">6</span>, <span class="dv">6</span>),</span>
<span id="cb42-1060"><a href="#cb42-1060" aria-hidden="true" tabindex="-1"></a>            <span class="at">col =</span> <span class="st">"black"</span>,</span>
<span id="cb42-1061"><a href="#cb42-1061" aria-hidden="true" tabindex="-1"></a>            <span class="at">type =</span> <span class="st">"l"</span>,</span>
<span id="cb42-1062"><a href="#cb42-1062" aria-hidden="true" tabindex="-1"></a>            <span class="at">lwd =</span> num1 <span class="co"># lwd 不同线宽</span></span>
<span id="cb42-1063"><a href="#cb42-1063" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb42-1064"><a href="#cb42-1064" aria-hidden="true" tabindex="-1"></a>        <span class="fu">text</span>(i <span class="sc">+</span> <span class="fl">1.1</span>, <span class="fl">6.2</span>, num1) <span class="co"># 标注线宽</span></span>
<span id="cb42-1065"><a href="#cb42-1065" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb42-1066"><a href="#cb42-1066" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb42-1067"><a href="#cb42-1067" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1068"><a href="#cb42-1068" aria-hidden="true" tabindex="-1"></a><span class="co"># 添加 y 轴标签</span></span>
<span id="cb42-1069"><a href="#cb42-1069" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(</span>
<span id="cb42-1070"><a href="#cb42-1070" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>, <span class="co"># y 轴</span></span>
<span id="cb42-1071"><a href="#cb42-1071" aria-hidden="true" tabindex="-1"></a>    <span class="at">at =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>), <span class="co"># 位置</span></span>
<span id="cb42-1072"><a href="#cb42-1072" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"pch"</span>, <span class="st">"col"</span>, <span class="st">"cex"</span>, <span class="st">"lty"</span>, <span class="st">"type"</span>, <span class="st">"lwd"</span>), <span class="co"># 标签</span></span>
<span id="cb42-1073"><a href="#cb42-1073" aria-hidden="true" tabindex="-1"></a>    <span class="at">tick =</span> <span class="cn">TRUE</span>, <span class="co"># 显示刻度线</span></span>
<span id="cb42-1074"><a href="#cb42-1074" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">"black"</span>, <span class="co"># 轴颜色</span></span>
<span id="cb42-1075"><a href="#cb42-1075" aria-hidden="true" tabindex="-1"></a>    <span class="at">las =</span> <span class="dv">1</span>, <span class="co"># 标签水平显示</span></span>
<span id="cb42-1076"><a href="#cb42-1076" aria-hidden="true" tabindex="-1"></a>    <span class="at">cex.axis =</span> <span class="fl">0.8</span> <span class="co"># 轴标签大小</span></span>
<span id="cb42-1077"><a href="#cb42-1077" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-1078"><a href="#cb42-1078" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1079"><a href="#cb42-1079" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-1080"><a href="#cb42-1080" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1081"><a href="#cb42-1081" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1082"><a href="#cb42-1082" aria-hidden="true" tabindex="-1"></a><span class="fu">## 双 Y 轴</span></span>
<span id="cb42-1083"><a href="#cb42-1083" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1084"><a href="#cb42-1084" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1085"><a href="#cb42-1085" aria-hidden="true" tabindex="-1"></a><span class="fu">### 双图</span></span>
<span id="cb42-1086"><a href="#cb42-1086" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1089"><a href="#cb42-1089" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-1090"><a href="#cb42-1090" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "双图展示温度/价格随时间变化的趋势"</span></span>
<span id="cb42-1091"><a href="#cb42-1091" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout-ncol: 2</span></span>
<span id="cb42-1092"><a href="#cb42-1092" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-subcap:</span></span>
<span id="cb42-1093"><a href="#cb42-1093" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - 温度随时间变化</span></span>
<span id="cb42-1094"><a href="#cb42-1094" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - 价格随时间变化</span></span>
<span id="cb42-1095"><a href="#cb42-1095" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1096"><a href="#cb42-1096" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb42-1097"><a href="#cb42-1097" aria-hidden="true" tabindex="-1"></a>    <span class="at">day =</span> <span class="fu">as.Date</span>(<span class="st">"2019-01-01"</span>) <span class="sc">+</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">99</span>, <span class="co"># 生成100天的日期序列</span></span>
<span id="cb42-1098"><a href="#cb42-1098" aria-hidden="true" tabindex="-1"></a>    <span class="at">temperature =</span> <span class="fu">runif</span>(<span class="dv">100</span>) <span class="sc">+</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">100</span>)<span class="sc">^</span><span class="fl">2.5</span> <span class="sc">/</span> <span class="dv">10000</span>, <span class="co"># 温度数据，添加随机噪声和递增趋势</span></span>
<span id="cb42-1099"><a href="#cb42-1099" aria-hidden="true" tabindex="-1"></a>    <span class="at">price =</span> <span class="fu">runif</span>(<span class="dv">100</span>) <span class="sc">+</span> <span class="fu">seq</span>(<span class="dv">100</span>, <span class="dv">1</span>)<span class="sc">^</span><span class="fl">1.5</span> <span class="sc">/</span> <span class="dv">10</span> <span class="co"># 价格数据，添加随机噪声和递减趋势</span></span>
<span id="cb42-1100"><a href="#cb42-1100" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-1101"><a href="#cb42-1101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1102"><a href="#cb42-1102" aria-hidden="true" tabindex="-1"></a><span class="co"># 最基础的折线图，展示温度随时间变化</span></span>
<span id="cb42-1103"><a href="#cb42-1103" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> day, <span class="at">y =</span> temperature)) <span class="sc">+</span> <span class="co"># x轴为日期，y轴为温度</span></span>
<span id="cb42-1104"><a href="#cb42-1104" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#69b3a2"</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span> <span class="co"># 绘制折线，颜色为#69b3a2，线宽为2</span></span>
<span id="cb42-1105"><a href="#cb42-1105" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Temperature: range 1-10"</span>) <span class="sc">+</span> <span class="co"># 添加标题</span></span>
<span id="cb42-1106"><a href="#cb42-1106" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="co"># 应用hrbrthemes主题</span></span>
<span id="cb42-1107"><a href="#cb42-1107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1108"><a href="#cb42-1108" aria-hidden="true" tabindex="-1"></a><span class="co"># 折线图，展示价格随时间变化</span></span>
<span id="cb42-1109"><a href="#cb42-1109" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> day, <span class="at">y =</span> price)) <span class="sc">+</span> <span class="co"># x轴为日期，y轴为价格</span></span>
<span id="cb42-1110"><a href="#cb42-1110" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"grey"</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span> <span class="co"># 绘制折线，颜色为灰色，线宽为2</span></span>
<span id="cb42-1111"><a href="#cb42-1111" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Price: range 1-100"</span>) <span class="sc">+</span> <span class="co"># 添加标题</span></span>
<span id="cb42-1112"><a href="#cb42-1112" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="co"># 应用hrbrthemes主题</span></span>
<span id="cb42-1113"><a href="#cb42-1113" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-1114"><a href="#cb42-1114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1115"><a href="#cb42-1115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1116"><a href="#cb42-1116" aria-hidden="true" tabindex="-1"></a><span class="fu">### `ggplot2`</span></span>
<span id="cb42-1117"><a href="#cb42-1117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1118"><a href="#cb42-1118" aria-hidden="true" tabindex="-1"></a><span class="in">`sec.axis()`</span> 添加第二个 Y 轴</span>
<span id="cb42-1119"><a href="#cb42-1119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1120"><a href="#cb42-1120" aria-hidden="true" tabindex="-1"></a>在下面的示例中，第二个 Y 轴简单地表示第一个 Y 轴乘以 10，这得益于 <span class="in">`trans`</span> 参数提供的 <span class="in">`~.*10`</span> 数学关系。</span>
<span id="cb42-1121"><a href="#cb42-1121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1124"><a href="#cb42-1124" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-1125"><a href="#cb42-1125" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "双 Y 轴示例：主轴为温度，副轴价格为温度的 10 倍"</span></span>
<span id="cb42-1126"><a href="#cb42-1126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1127"><a href="#cb42-1127" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> day, <span class="at">y =</span> temperature)) <span class="sc">+</span></span>
<span id="cb42-1128"><a href="#cb42-1128" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 自定义 Y 轴比例</span></span>
<span id="cb42-1129"><a href="#cb42-1129" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(</span>
<span id="cb42-1130"><a href="#cb42-1130" aria-hidden="true" tabindex="-1"></a>        <span class="at">name =</span> <span class="st">"First Axis"</span>, <span class="co"># 主 Y 轴名称</span></span>
<span id="cb42-1131"><a href="#cb42-1131" aria-hidden="true" tabindex="-1"></a>        <span class="at">sec.axis =</span> <span class="fu">sec_axis</span>( <span class="co"># 添加第二个 Y 轴</span></span>
<span id="cb42-1132"><a href="#cb42-1132" aria-hidden="true" tabindex="-1"></a>            <span class="at">transform =</span> <span class="sc">~</span> . <span class="sc">*</span> <span class="dv">10</span>, <span class="co"># 副轴为主轴数值的 10 倍</span></span>
<span id="cb42-1133"><a href="#cb42-1133" aria-hidden="true" tabindex="-1"></a>            <span class="at">name =</span> <span class="st">"Second Axis"</span> <span class="co"># 副 Y 轴名称</span></span>
<span id="cb42-1134"><a href="#cb42-1134" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb42-1135"><a href="#cb42-1135" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-1136"><a href="#cb42-1136" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="co"># 应用 hrbrthemes 主题</span></span>
<span id="cb42-1137"><a href="#cb42-1137" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-1138"><a href="#cb42-1138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1139"><a href="#cb42-1139" aria-hidden="true" tabindex="-1"></a>把变量曲线也画出来，（也进行了比例转换）</span>
<span id="cb42-1140"><a href="#cb42-1140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1143"><a href="#cb42-1143" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-1144"><a href="#cb42-1144" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "双 Y 轴折线图：主轴为温度，副轴为价格（温度的10倍比例）"</span></span>
<span id="cb42-1145"><a href="#cb42-1145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1146"><a href="#cb42-1146" aria-hidden="true" tabindex="-1"></a>coeff <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb42-1147"><a href="#cb42-1147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1148"><a href="#cb42-1148" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> day)) <span class="sc">+</span></span>
<span id="cb42-1149"><a href="#cb42-1149" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> temperature)) <span class="sc">+</span> <span class="co"># 绘制温度折线，y 轴为 temperature</span></span>
<span id="cb42-1150"><a href="#cb42-1150" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> price <span class="sc">/</span> coeff)) <span class="sc">+</span> <span class="co"># 绘制价格折线，y 轴为 price/10，使其与温度在同一范围</span></span>
<span id="cb42-1151"><a href="#cb42-1151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1152"><a href="#cb42-1152" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(</span>
<span id="cb42-1153"><a href="#cb42-1153" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 主 Y 轴设置</span></span>
<span id="cb42-1154"><a href="#cb42-1154" aria-hidden="true" tabindex="-1"></a>        <span class="at">name =</span> <span class="st">"First Axis"</span>, <span class="co"># 主 Y 轴名称</span></span>
<span id="cb42-1155"><a href="#cb42-1155" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 添加第二个 Y 轴</span></span>
<span id="cb42-1156"><a href="#cb42-1156" aria-hidden="true" tabindex="-1"></a>        <span class="at">sec.axis =</span> <span class="fu">sec_axis</span>(</span>
<span id="cb42-1157"><a href="#cb42-1157" aria-hidden="true" tabindex="-1"></a>            <span class="sc">~</span> . <span class="sc">*</span> coeff, <span class="co"># 副轴为主轴数值的 10 倍</span></span>
<span id="cb42-1158"><a href="#cb42-1158" aria-hidden="true" tabindex="-1"></a>            <span class="at">name =</span> <span class="st">"Second Axis"</span> <span class="co"># 副 Y 轴名称</span></span>
<span id="cb42-1159"><a href="#cb42-1159" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb42-1160"><a href="#cb42-1160" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb42-1161"><a href="#cb42-1161" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-1162"><a href="#cb42-1162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1163"><a href="#cb42-1163" aria-hidden="true" tabindex="-1"></a>再美化一下：</span>
<span id="cb42-1164"><a href="#cb42-1164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1167"><a href="#cb42-1167" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-1168"><a href="#cb42-1168" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "双 Y 轴美化示例：主轴为温度（绿色），副轴为价格（蓝色），并自定义轴标题颜色和线条样式"</span></span>
<span id="cb42-1169"><a href="#cb42-1169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1170"><a href="#cb42-1170" aria-hidden="true" tabindex="-1"></a>coeff <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb42-1171"><a href="#cb42-1171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1172"><a href="#cb42-1172" aria-hidden="true" tabindex="-1"></a><span class="co"># 定义颜色常量</span></span>
<span id="cb42-1173"><a href="#cb42-1173" aria-hidden="true" tabindex="-1"></a>temperatureColor <span class="ot">&lt;-</span> <span class="st">"#69b3a2"</span> <span class="co"># 温度线颜色</span></span>
<span id="cb42-1174"><a href="#cb42-1174" aria-hidden="true" tabindex="-1"></a>priceColor <span class="ot">&lt;-</span> <span class="fu">rgb</span>(<span class="fl">0.2</span>, <span class="fl">0.6</span>, <span class="fl">0.9</span>, <span class="dv">1</span>) <span class="co"># 价格线颜色</span></span>
<span id="cb42-1175"><a href="#cb42-1175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1176"><a href="#cb42-1176" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> day)) <span class="sc">+</span></span>
<span id="cb42-1177"><a href="#cb42-1177" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 绘制温度折线，y 轴为 temperature，线宽为2，颜色为 temperatureColor</span></span>
<span id="cb42-1178"><a href="#cb42-1178" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> temperature), <span class="at">size =</span> <span class="dv">2</span>, <span class="at">color =</span> temperatureColor) <span class="sc">+</span></span>
<span id="cb42-1179"><a href="#cb42-1179" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 绘制价格折线，y 轴为 price/coeff，线宽为2，颜色为 priceColor</span></span>
<span id="cb42-1180"><a href="#cb42-1180" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> price <span class="sc">/</span> coeff), <span class="at">size =</span> <span class="dv">2</span>, <span class="at">color =</span> priceColor) <span class="sc">+</span></span>
<span id="cb42-1181"><a href="#cb42-1181" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 设置主 y 轴和副 y 轴</span></span>
<span id="cb42-1182"><a href="#cb42-1182" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(</span>
<span id="cb42-1183"><a href="#cb42-1183" aria-hidden="true" tabindex="-1"></a>        <span class="at">name =</span> <span class="st">"Temperature (Celsius °)"</span>, <span class="co"># 主 y 轴名称</span></span>
<span id="cb42-1184"><a href="#cb42-1184" aria-hidden="true" tabindex="-1"></a>        <span class="at">sec.axis =</span> <span class="fu">sec_axis</span>(<span class="sc">~</span> . <span class="sc">*</span> coeff, <span class="at">name =</span> <span class="st">"Price ($)"</span>) <span class="co"># 副 y 轴为主轴数值的 coeff 倍，名称为 Price ($)</span></span>
<span id="cb42-1185"><a href="#cb42-1185" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-1186"><a href="#cb42-1186" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="sc">+</span> <span class="co"># 应用 hrbrthemes 主题</span></span>
<span id="cb42-1187"><a href="#cb42-1187" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb42-1188"><a href="#cb42-1188" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">color =</span> temperatureColor, <span class="at">size =</span> <span class="dv">13</span>), <span class="co"># 主 y 轴标题颜色和字号</span></span>
<span id="cb42-1189"><a href="#cb42-1189" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y.right =</span> <span class="fu">element_text</span>(<span class="at">color =</span> priceColor, <span class="at">size =</span> <span class="dv">13</span>) <span class="co"># 副 y 轴标题颜色和字号</span></span>
<span id="cb42-1190"><a href="#cb42-1190" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-1191"><a href="#cb42-1191" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Temperature down, price up"</span>) <span class="co"># 添加标题</span></span>
<span id="cb42-1192"><a href="#cb42-1192" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-1193"><a href="#cb42-1193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1194"><a href="#cb42-1194" aria-hidden="true" tabindex="-1"></a>条形图+柱状图：</span>
<span id="cb42-1195"><a href="#cb42-1195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1198"><a href="#cb42-1198" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-1199"><a href="#cb42-1199" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "双 Y 轴混合图：主轴为温度（条形图），副轴为价格（折线图），并自定义轴标题颜色和线条样式"</span></span>
<span id="cb42-1200"><a href="#cb42-1200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1201"><a href="#cb42-1201" aria-hidden="true" tabindex="-1"></a>coeff <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb42-1202"><a href="#cb42-1202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1203"><a href="#cb42-1203" aria-hidden="true" tabindex="-1"></a><span class="co"># 定义颜色常量</span></span>
<span id="cb42-1204"><a href="#cb42-1204" aria-hidden="true" tabindex="-1"></a>temperatureColor <span class="ot">&lt;-</span> <span class="st">"#69b3a2"</span> <span class="co"># 温度条形颜色</span></span>
<span id="cb42-1205"><a href="#cb42-1205" aria-hidden="true" tabindex="-1"></a>priceColor <span class="ot">&lt;-</span> <span class="fu">rgb</span>(<span class="fl">0.2</span>, <span class="fl">0.6</span>, <span class="fl">0.9</span>, <span class="dv">1</span>) <span class="co"># 价格折线颜色</span></span>
<span id="cb42-1206"><a href="#cb42-1206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1207"><a href="#cb42-1207" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">head</span>(data, <span class="dv">80</span>), <span class="fu">aes</span>(<span class="at">x =</span> day)) <span class="sc">+</span></span>
<span id="cb42-1208"><a href="#cb42-1208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1209"><a href="#cb42-1209" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 绘制温度的条形图</span></span>
<span id="cb42-1210"><a href="#cb42-1210" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(</span>
<span id="cb42-1211"><a href="#cb42-1211" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">y =</span> temperature), <span class="co"># y 轴为温度</span></span>
<span id="cb42-1212"><a href="#cb42-1212" aria-hidden="true" tabindex="-1"></a>        <span class="at">stat =</span> <span class="st">"identity"</span>, <span class="co"># 使用原始数值绘制条形</span></span>
<span id="cb42-1213"><a href="#cb42-1213" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> .<span class="dv">1</span>, <span class="co"># 边框线宽</span></span>
<span id="cb42-1214"><a href="#cb42-1214" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> temperatureColor, <span class="co"># 填充色</span></span>
<span id="cb42-1215"><a href="#cb42-1215" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"black"</span>, <span class="co"># 边框颜色</span></span>
<span id="cb42-1216"><a href="#cb42-1216" aria-hidden="true" tabindex="-1"></a>        <span class="at">alpha =</span> .<span class="dv">4</span> <span class="co"># 透明度</span></span>
<span id="cb42-1217"><a href="#cb42-1217" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-1218"><a href="#cb42-1218" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 绘制价格的折线图（已缩放）</span></span>
<span id="cb42-1219"><a href="#cb42-1219" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(</span>
<span id="cb42-1220"><a href="#cb42-1220" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">y =</span> price <span class="sc">/</span> coeff), <span class="co"># y 轴为价格/系数</span></span>
<span id="cb42-1221"><a href="#cb42-1221" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> <span class="dv">2</span>, <span class="co"># 线宽</span></span>
<span id="cb42-1222"><a href="#cb42-1222" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> priceColor <span class="co"># 线条颜色</span></span>
<span id="cb42-1223"><a href="#cb42-1223" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-1224"><a href="#cb42-1224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1225"><a href="#cb42-1225" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 设置主 y 轴和副 y 轴</span></span>
<span id="cb42-1226"><a href="#cb42-1226" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(</span>
<span id="cb42-1227"><a href="#cb42-1227" aria-hidden="true" tabindex="-1"></a>        <span class="at">name =</span> <span class="st">"Temperature (Celsius °)"</span>, <span class="co"># 主 y 轴名称</span></span>
<span id="cb42-1228"><a href="#cb42-1228" aria-hidden="true" tabindex="-1"></a>        <span class="at">sec.axis =</span> <span class="fu">sec_axis</span>(<span class="sc">~</span> . <span class="sc">*</span> coeff, <span class="at">name =</span> <span class="st">"Price ($)"</span>) <span class="co"># 副 y 轴为主轴数值的 coeff 倍，名称为 Price ($)</span></span>
<span id="cb42-1229"><a href="#cb42-1229" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-1230"><a href="#cb42-1230" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_ipsum</span>() <span class="sc">+</span> <span class="co"># 应用 hrbrthemes 主题</span></span>
<span id="cb42-1231"><a href="#cb42-1231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1232"><a href="#cb42-1232" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 自定义 y 轴标题颜色和字号</span></span>
<span id="cb42-1233"><a href="#cb42-1233" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb42-1234"><a href="#cb42-1234" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">color =</span> temperatureColor, <span class="at">size =</span> <span class="dv">13</span>), <span class="co"># 主 y 轴标题样式</span></span>
<span id="cb42-1235"><a href="#cb42-1235" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y.right =</span> <span class="fu">element_text</span>(<span class="at">color =</span> priceColor, <span class="at">size =</span> <span class="dv">13</span>) <span class="co"># 副 y 轴标题样式</span></span>
<span id="cb42-1236"><a href="#cb42-1236" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb42-1237"><a href="#cb42-1237" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">"Temperature down, price up"</span>) <span class="co"># 添加标题</span></span>
<span id="cb42-1238"><a href="#cb42-1238" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-1239"><a href="#cb42-1239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1240"><a href="#cb42-1240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1241"><a href="#cb42-1241" aria-hidden="true" tabindex="-1"></a><span class="fu">### `latticeExtra`</span></span>
<span id="cb42-1242"><a href="#cb42-1242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1245"><a href="#cb42-1245" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-1246"><a href="#cb42-1246" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "latticeExtra 双变量折线图：展示 var1 和 var2 随 x 的变化趋势"</span></span>
<span id="cb42-1247"><a href="#cb42-1247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1248"><a href="#cb42-1248" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(latticeExtra)</span>
<span id="cb42-1249"><a href="#cb42-1249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1250"><a href="#cb42-1250" aria-hidden="true" tabindex="-1"></a><span class="co"># 创建数据</span></span>
<span id="cb42-1251"><a href="#cb42-1251" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>) <span class="co"># 设置随机种子，保证结果可复现</span></span>
<span id="cb42-1252"><a href="#cb42-1252" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span> <span class="co"># x 变量，取值为 1 到 100</span></span>
<span id="cb42-1253"><a href="#cb42-1253" aria-hidden="true" tabindex="-1"></a>var1 <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>)) <span class="co"># var1，正态分布随机数累加，模拟随机游走</span></span>
<span id="cb42-1254"><a href="#cb42-1254" aria-hidden="true" tabindex="-1"></a>var2 <span class="ot">&lt;-</span> var1<span class="sc">^</span><span class="dv">2</span> <span class="co"># var2，var1 的平方</span></span>
<span id="cb42-1255"><a href="#cb42-1255" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(x, var1, var2) <span class="co"># 合并为数据框</span></span>
<span id="cb42-1256"><a href="#cb42-1256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1257"><a href="#cb42-1257" aria-hidden="true" tabindex="-1"></a><span class="co"># 绘制基础折线图</span></span>
<span id="cb42-1258"><a href="#cb42-1258" aria-hidden="true" tabindex="-1"></a><span class="fu">xyplot</span>(</span>
<span id="cb42-1259"><a href="#cb42-1259" aria-hidden="true" tabindex="-1"></a>    var1 <span class="sc">+</span> var2 <span class="sc">~</span> x, <span class="co"># 公式，表示 var1 和 var2 都随 x 变化</span></span>
<span id="cb42-1260"><a href="#cb42-1260" aria-hidden="true" tabindex="-1"></a>    data, <span class="co"># 数据来源</span></span>
<span id="cb42-1261"><a href="#cb42-1261" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"l"</span>, <span class="co"># type = "l" 表示折线图（line）</span></span>
<span id="cb42-1262"><a href="#cb42-1262" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"steelblue"</span>, <span class="st">"#69b3a2"</span>), <span class="co"># 线条颜色</span></span>
<span id="cb42-1263"><a href="#cb42-1263" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> <span class="dv">2</span> <span class="co"># 线条宽度</span></span>
<span id="cb42-1264"><a href="#cb42-1264" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-1265"><a href="#cb42-1265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1266"><a href="#cb42-1266" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-1267"><a href="#cb42-1267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1268"><a href="#cb42-1268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1271"><a href="#cb42-1271" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-1272"><a href="#cb42-1272" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "latticeExtra 双 Y 轴折线图：分别展示 var1 和 var2 随 x 的变化趋势，并在右侧添加第二个 Y 轴"</span></span>
<span id="cb42-1273"><a href="#cb42-1273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1274"><a href="#cb42-1274" aria-hidden="true" tabindex="-1"></a><span class="co"># 加载 latticeExtra 包，支持双 Y 轴绘图</span></span>
<span id="cb42-1275"><a href="#cb42-1275" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(latticeExtra)</span>
<span id="cb42-1276"><a href="#cb42-1276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1277"><a href="#cb42-1277" aria-hidden="true" tabindex="-1"></a><span class="co"># 创建数据</span></span>
<span id="cb42-1278"><a href="#cb42-1278" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>) <span class="co"># 设置随机种子，保证结果可复现</span></span>
<span id="cb42-1279"><a href="#cb42-1279" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span> <span class="co"># x 变量，取值为 1 到 100</span></span>
<span id="cb42-1280"><a href="#cb42-1280" aria-hidden="true" tabindex="-1"></a>var1 <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>)) <span class="co"># var1，正态分布随机数累加，模拟随机游走</span></span>
<span id="cb42-1281"><a href="#cb42-1281" aria-hidden="true" tabindex="-1"></a>var2 <span class="ot">&lt;-</span> var1<span class="sc">^</span><span class="dv">2</span> <span class="co"># var2，var1 的平方</span></span>
<span id="cb42-1282"><a href="#cb42-1282" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(x, var1, var2) <span class="co"># 合并为数据框</span></span>
<span id="cb42-1283"><a href="#cb42-1283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1284"><a href="#cb42-1284" aria-hidden="true" tabindex="-1"></a><span class="co"># 分别为 var1 和 var2 构建单独的折线图对象</span></span>
<span id="cb42-1285"><a href="#cb42-1285" aria-hidden="true" tabindex="-1"></a>obj1 <span class="ot">&lt;-</span> <span class="fu">xyplot</span>(</span>
<span id="cb42-1286"><a href="#cb42-1286" aria-hidden="true" tabindex="-1"></a>    var1 <span class="sc">~</span> x, <span class="co"># 公式，y 轴为 var1，x 轴为 x</span></span>
<span id="cb42-1287"><a href="#cb42-1287" aria-hidden="true" tabindex="-1"></a>    data, <span class="co"># 数据来源</span></span>
<span id="cb42-1288"><a href="#cb42-1288" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"l"</span>, <span class="co"># type = "l" 表示折线图（line）</span></span>
<span id="cb42-1289"><a href="#cb42-1289" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> <span class="dv">2</span>, <span class="co"># lwd = 2 设置线宽为 2</span></span>
<span id="cb42-1290"><a href="#cb42-1290" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">"steelblue"</span> <span class="co"># col 设置线条颜色为 steelblue</span></span>
<span id="cb42-1291"><a href="#cb42-1291" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-1292"><a href="#cb42-1292" aria-hidden="true" tabindex="-1"></a>obj2 <span class="ot">&lt;-</span> <span class="fu">xyplot</span>(</span>
<span id="cb42-1293"><a href="#cb42-1293" aria-hidden="true" tabindex="-1"></a>    var2 <span class="sc">~</span> x, <span class="co"># 公式，y 轴为 var2，x 轴为 x</span></span>
<span id="cb42-1294"><a href="#cb42-1294" aria-hidden="true" tabindex="-1"></a>    data, <span class="co"># 数据来源</span></span>
<span id="cb42-1295"><a href="#cb42-1295" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"l"</span>, <span class="co"># 折线图</span></span>
<span id="cb42-1296"><a href="#cb42-1296" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> <span class="dv">2</span>, <span class="co"># 线宽为 2</span></span>
<span id="cb42-1297"><a href="#cb42-1297" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">"#69b3a2"</span> <span class="co"># 线条颜色为 #69b3a2</span></span>
<span id="cb42-1298"><a href="#cb42-1298" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-1299"><a href="#cb42-1299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1300"><a href="#cb42-1300" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用 doubleYScale 绘制双 Y 轴图</span></span>
<span id="cb42-1301"><a href="#cb42-1301" aria-hidden="true" tabindex="-1"></a><span class="fu">doubleYScale</span>(</span>
<span id="cb42-1302"><a href="#cb42-1302" aria-hidden="true" tabindex="-1"></a>    obj1, <span class="co"># 主 Y 轴图层（左侧，var1）</span></span>
<span id="cb42-1303"><a href="#cb42-1303" aria-hidden="true" tabindex="-1"></a>    obj2, <span class="co"># 副 Y 轴图层（右侧，var2）</span></span>
<span id="cb42-1304"><a href="#cb42-1304" aria-hidden="true" tabindex="-1"></a>    <span class="at">add.ylab2 =</span> <span class="cn">TRUE</span>, <span class="co"># 是否添加第二个 Y 轴标签（TRUE 表示添加）</span></span>
<span id="cb42-1305"><a href="#cb42-1305" aria-hidden="true" tabindex="-1"></a>    <span class="at">use.style =</span> <span class="cn">FALSE</span> <span class="co"># 是否使用 latticeExtra 默认样式（FALSE 表示不使用）</span></span>
<span id="cb42-1306"><a href="#cb42-1306" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-1307"><a href="#cb42-1307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1308"><a href="#cb42-1308" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-1309"><a href="#cb42-1309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1310"><a href="#cb42-1310" aria-hidden="true" tabindex="-1"></a>这个图表非常具有误导性：很容易得出两个变量都遵循相同模式的结论，这完全错误。</span>
<span id="cb42-1311"><a href="#cb42-1311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1312"><a href="#cb42-1312" aria-hidden="true" tabindex="-1"></a>在双轴图表中，一定要仔细检查哪个轴才是真正的轴。</span>
<span id="cb42-1313"><a href="#cb42-1313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1314"><a href="#cb42-1314" aria-hidden="true" tabindex="-1"></a>Conclusion: don’t do it!</span>
<span id="cb42-1315"><a href="#cb42-1315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1316"><a href="#cb42-1316" aria-hidden="true" tabindex="-1"></a>如果你坚持，以下是添加图例到图表的方法：</span>
<span id="cb42-1317"><a href="#cb42-1317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1320"><a href="#cb42-1320" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb42-1321"><a href="#cb42-1321" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "latticeExtra 双 Y 轴折线图（含图例）：分别展示 var1 和 var2 随 x 的变化趋势，并在右侧添加第二个 Y 轴和图例"</span></span>
<span id="cb42-1322"><a href="#cb42-1322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1323"><a href="#cb42-1323" aria-hidden="true" tabindex="-1"></a><span class="co"># 加载 latticeExtra 包，支持双 Y 轴绘图</span></span>
<span id="cb42-1324"><a href="#cb42-1324" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(latticeExtra)</span>
<span id="cb42-1325"><a href="#cb42-1325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1326"><a href="#cb42-1326" aria-hidden="true" tabindex="-1"></a><span class="co"># 创建数据</span></span>
<span id="cb42-1327"><a href="#cb42-1327" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>) <span class="co"># 设置随机种子，保证结果可复现</span></span>
<span id="cb42-1328"><a href="#cb42-1328" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span> <span class="co"># x 变量，取值为 1 到 100</span></span>
<span id="cb42-1329"><a href="#cb42-1329" aria-hidden="true" tabindex="-1"></a>var1 <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>)) <span class="co"># var1，正态分布随机数累加，模拟随机游走</span></span>
<span id="cb42-1330"><a href="#cb42-1330" aria-hidden="true" tabindex="-1"></a>var2 <span class="ot">&lt;-</span> var1<span class="sc">^</span><span class="dv">2</span> <span class="co"># var2，var1 的平方</span></span>
<span id="cb42-1331"><a href="#cb42-1331" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(x, var1, var2) <span class="co"># 合并为数据框</span></span>
<span id="cb42-1332"><a href="#cb42-1332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1333"><a href="#cb42-1333" aria-hidden="true" tabindex="-1"></a><span class="co"># 分别为 var1 和 var2 构建单独的折线图对象</span></span>
<span id="cb42-1334"><a href="#cb42-1334" aria-hidden="true" tabindex="-1"></a>obj1 <span class="ot">&lt;-</span> <span class="fu">xyplot</span>(</span>
<span id="cb42-1335"><a href="#cb42-1335" aria-hidden="true" tabindex="-1"></a>    var1 <span class="sc">~</span> x, <span class="co"># 公式，y 轴为 var1，x 轴为 x</span></span>
<span id="cb42-1336"><a href="#cb42-1336" aria-hidden="true" tabindex="-1"></a>    data, <span class="co"># 数据来源</span></span>
<span id="cb42-1337"><a href="#cb42-1337" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"l"</span>, <span class="co"># type = "l" 表示折线图（line）</span></span>
<span id="cb42-1338"><a href="#cb42-1338" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> <span class="dv">2</span> <span class="co"># lwd = 2 设置线宽为 2</span></span>
<span id="cb42-1339"><a href="#cb42-1339" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-1340"><a href="#cb42-1340" aria-hidden="true" tabindex="-1"></a>obj2 <span class="ot">&lt;-</span> <span class="fu">xyplot</span>(</span>
<span id="cb42-1341"><a href="#cb42-1341" aria-hidden="true" tabindex="-1"></a>    var2 <span class="sc">~</span> x, <span class="co"># 公式，y 轴为 var2，x 轴为 x</span></span>
<span id="cb42-1342"><a href="#cb42-1342" aria-hidden="true" tabindex="-1"></a>    data, <span class="co"># 数据来源</span></span>
<span id="cb42-1343"><a href="#cb42-1343" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"l"</span>, <span class="co"># 折线图</span></span>
<span id="cb42-1344"><a href="#cb42-1344" aria-hidden="true" tabindex="-1"></a>    <span class="at">lwd =</span> <span class="dv">2</span> <span class="co"># 线宽为 2</span></span>
<span id="cb42-1345"><a href="#cb42-1345" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-1346"><a href="#cb42-1346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1347"><a href="#cb42-1347" aria-hidden="true" tabindex="-1"></a><span class="co"># 使用 doubleYScale 绘制双 Y 轴图，并添加图例</span></span>
<span id="cb42-1348"><a href="#cb42-1348" aria-hidden="true" tabindex="-1"></a><span class="fu">doubleYScale</span>(</span>
<span id="cb42-1349"><a href="#cb42-1349" aria-hidden="true" tabindex="-1"></a>    obj1, <span class="co"># 主 Y 轴图层（左侧，var1）</span></span>
<span id="cb42-1350"><a href="#cb42-1350" aria-hidden="true" tabindex="-1"></a>    obj2, <span class="co"># 副 Y 轴图层（右侧，var2）</span></span>
<span id="cb42-1351"><a href="#cb42-1351" aria-hidden="true" tabindex="-1"></a>    <span class="at">text =</span> <span class="fu">c</span>(<span class="st">"obj1"</span>, <span class="st">"obj2"</span>), <span class="co"># 图例文本，分别对应 obj1 和 obj2</span></span>
<span id="cb42-1352"><a href="#cb42-1352" aria-hidden="true" tabindex="-1"></a>    <span class="at">add.ylab2 =</span> <span class="cn">TRUE</span> <span class="co"># 是否添加第二个 Y 轴标签（TRUE 表示添加）</span></span>
<span id="cb42-1353"><a href="#cb42-1353" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-1354"><a href="#cb42-1354" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb42-1355"><a href="#cb42-1355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1356"><a href="#cb42-1356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1357"><a href="#cb42-1357" aria-hidden="true" tabindex="-1"></a><span class="fu">## Pearl</span></span>
<span id="cb42-1358"><a href="#cb42-1358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1359"><a href="#cb42-1359" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="al">![每条线末端有精美标签](./image/line-label.png)</span><span class="co">](https://r-graph-gallery.com/web-line-chart-with-labels-at-end-of-line.html)</span></span>
<span id="cb42-1360"><a href="#cb42-1360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1361"><a href="#cb42-1361" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="al">![折线图和堆叠面积图](./image/line-stack.png)</span><span class="co">](https://r-graph-gallery.com/web-lineplots-and-area-chart-the-economist.html)</span></span>
<span id="cb42-1362"><a href="#cb42-1362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1363"><a href="#cb42-1363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1364"><a href="#cb42-1364" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="al">![1976 年至今美国众议院中的政党优势](./image/line-vertical.png)</span><span class="co">](https://r-graph-gallery.com/web-vertical-line-chart-with-ggplot2.html)</span></span>
<span id="cb42-1365"><a href="#cb42-1365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1366"><a href="#cb42-1366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1367"><a href="#cb42-1367" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="al">![伦敦不同区域能动物救助的演变](./image/line-area.png)</span><span class="co">](https://r-graph-gallery.com/web-time-series-and-facetting.html)</span></span>
<span id="cb42-1368"><a href="#cb42-1368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1369"><a href="#cb42-1369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-1370"><a href="#cb42-1370" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="al">![近几年全球消费者信心的演变](./image/line-mult.png)</span><span class="co">](https://r-graph-gallery.com/web-line-chart-small-multiple-all-group-greyed-out.html)</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>